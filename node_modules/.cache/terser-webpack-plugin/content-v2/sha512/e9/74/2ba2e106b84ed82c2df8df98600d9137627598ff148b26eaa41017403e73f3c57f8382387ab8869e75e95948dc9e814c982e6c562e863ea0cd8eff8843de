{"code":"(function(e){function t(t){for(var r,o,u=t[0],l=t[1],c=t[2],d=t[3]||[],f=0,h=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t),a.push.apply(a,d);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return 0===i.length&&(a.forEach((function(e){if(void 0===s[e]){s[e]=null;var t=document.createElement(\"link\");l.nc&&t.setAttribute(\"nonce\",l.nc),t.rel=\"prefetch\",t.as=\"script\",t.href=u(e),document.head.appendChild(t)}})),a.length=0),e}var r={},o={6:0},s={6:0},i=[],a=[];function u(e){return l.p+\"js/\"+({1:\"chunk-common\"}[e]||e)+\".\"+{1:\"aa12d6ef\",2:\"daef4da6\",3:\"94e7b1f5\",4:\"fe71f1a1\",5:\"ae627cf6\",7:\"2d7d188f\",8:\"9adef0b0\",9:\"e92fd9ea\",10:\"ea6cbd50\",11:\"e44c344b\",12:\"abdec68e\",13:\"8be66378\",14:\"9b0b7603\",15:\"d5307372\",16:\"4475cf19\",17:\"d5a1179e\",18:\"0c70ce43\",19:\"78a8eede\",20:\"51dd0acb\",21:\"62343c84\",22:\"0cecf65a\",23:\"403e43b0\",24:\"65778036\",25:\"56fdfefc\",26:\"68bc4596\",27:\"f752e388\",28:\"fa482932\",29:\"b5159f5c\",30:\"669dd4ff\"}[e]+\".js\"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={1:1,3:1,4:1,7:1,8:1,9:1,10:1,11:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r=\"css/\"+({1:\"chunk-common\"}[e]||e)+\".\"+{1:\"00080bca\",2:\"31d6cfe0\",3:\"3cad11c8\",4:\"dfabb1b7\",5:\"31d6cfe0\",7:\"b87f789c\",8:\"aa13da7f\",9:\"21f910da\",10:\"0d5e333b\",11:\"1fb183bd\",12:\"31d6cfe0\",13:\"31d6cfe0\",14:\"31d6cfe0\",15:\"31d6cfe0\",16:\"31d6cfe0\",17:\"31d6cfe0\",18:\"31d6cfe0\",19:\"31d6cfe0\",20:\"31d6cfe0\",21:\"31d6cfe0\",22:\"31d6cfe0\",23:\"31d6cfe0\",24:\"31d6cfe0\",25:\"31d6cfe0\",26:\"31d6cfe0\",27:\"31d6cfe0\",28:\"31d6cfe0\",29:\"31d6cfe0\",30:\"31d6cfe0\"}[e]+\".css\",s=l.p+r,i=document.getElementsByTagName(\"link\"),a=0;a<i.length;a++){var u=i[a],c=u.getAttribute(\"data-href\")||u.getAttribute(\"href\");if(\"stylesheet\"===u.rel&&(c===r||c===s))return t()}var d=document.getElementsByTagName(\"style\");for(a=0;a<d.length;a++){u=d[a],c=u.getAttribute(\"data-href\");if(c===r||c===s)return t()}var f=document.createElement(\"link\");f.rel=\"stylesheet\",f.type=\"text/css\",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error(\"Loading CSS chunk \"+e+\" failed.\\n(\"+r+\")\");i.code=\"CSS_CHUNK_LOAD_FAILED\",i.request=r,delete o[e],f.parentNode.removeChild(f),n(i)},f.href=s;var m=document.getElementsByTagName(\"head\")[0];m.appendChild(f)})).then((function(){o[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=i);var a,c=document.createElement(\"script\");c.charset=\"utf-8\",c.timeout=120,l.nc&&c.setAttribute(\"nonce\",l.nc),c.src=u(e);var d=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var r=t&&(\"load\"===t.type?\"missing\":t.type),o=t&&t.target&&t.target.src;d.message=\"Loading chunk \"+e+\" failed.\\n(\"+r+\": \"+o+\")\",d.name=\"ChunkLoadError\",d.type=r,d.request=o,n[1](d)}s[e]=void 0}};var f=setTimeout((function(){a({type:\"timeout\",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return l.d(t,\"a\",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p=\"/\",l.oe=function(e){throw console.error(e),e};var c=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var f=0;f<c.length;f++)t(c[f]);var m=d,h=function(){return i.push([0,0]),n()}();t([[],{},0,[0,1,12,15,24,14,16,20,22]])})({0:function(e,t,n){e.exports=n(\"2f39\")},\"0047\":function(e,t,n){},2105:function(e,t,n){\"use strict\";n(\"caad\"),n(\"d3b7\"),n(\"e6cf\"),n(\"ac1f\"),n(\"2532\"),n(\"1276\"),n(\"96cf\");var r=n(\"c973\"),o=n.n(r),s=n(\"2b0e\"),i=n(\"bc3a\"),a=n.n(i),u=n(\"c75e\"),l=n(\"2647\"),c=\"Authorization\",d=\"ApiService\",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(Object.prototype.hasOwnProperty.call(e,\"ReloginOnStatus403\")&&!e.ReloginOnStatus403)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!Object.prototype.hasOwnProperty.call(e,\"Allow400Status\")||!e.Allow400Status)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!Object.prototype.hasOwnProperty.call(e,\"WithoutAuthHeader\")||!e.WithoutAuthHeader)},g={init:function(){a.a.defaults.timeout=2e3,a.a.defaults.baseURL=\"http://localhost:8020\"},setHeader:function(e){e?(console.log(\"............NEW NEW JWT TOKEN: \",!!e,e.substring(e.length-5)),a.a.defaults.headers.common[c]=\"JWT \"+e):(console.log(\"............Remove header jwt set: \",!!e),delete a.a.defaults.headers.common[c])},removeHeader:function(){a.a.defaults.headers.common={},console.log(\"Remove axios header\")},getHeader:function(){if(c in a.a.defaults.headers.common){var e=a.a.defaults.headers.common[c];if(e){var t=e.split(\" \");return t[1]}}return null},is_api_service_used_as_axios_wrapper:function(e){\"origin\"in e&&e[\"origin\"]==d||console.assert(\"ERROR: Please use ApiService as Axios Wrapper...\")},get:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={method:\"GET\",url:e},n.next=3,t.customRequest(r);case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}),n)})))()},post:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={method:\"POST\",url:e,data:t},r.next=3,n.customRequest(o);case 3:return r.abrupt(\"return\",r.sent);case 4:case\"end\":return r.stop()}}),r)})))()},put:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={method:\"PUT\",url:e,data:t},r.next=3,n.customRequest(o);case 3:return r.abrupt(\"return\",r.sent);case 4:case\"end\":return r.stop()}}),r)})))()},delete:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={method:\"DELETE\",url:e,data:t},r.next=3,n.customRequest(o);case 3:return r.abrupt(\"return\",r.sent);case 4:case\"end\":return r.stop()}}),r)})))()},customRequest:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=null,e[\"origin\"]=d,e[\"timeout\"]=3e4,h(e)&&(r=t.getHeader(),t.removeHeader()),o=null,n.next=7,a()(e);case 7:if(o=n.sent,!o.retoken){n.next=15;break}return console.log(\"PERMISSION ERROR: Initiate a secont attempt\"),n.next=12,a()(e);case 12:o=n.sent,o.retoken&&(console.log(\"token could not be renewed.. 2nd attempt failed.\"),u[\"a\"].$emit(\"showAuthorizationError\")),r=null;case 15:if(!o.HTTP_ERROR_CODE){n.next=23;break}return console.log(\"HTTP ERROR: Initiate a second attempt\"),e.HTTP_ERROR_CODE=o.HTTP_ERROR_CODE,console.assert(e.url),e.url.includes(\"?\")?e.url=\"\".concat(e.url,\"&rty=1\"):e.url=\"\".concat(e.url,\"?rty=1\"),n.next=22,a()(e);case 22:o=n.sent;case 23:return r&&h(e)&&(console.log(\"header re-set\"),t.setHeader(r)),n.abrupt(\"return\",o);case 25:case\"end\":return n.stop()}}),n)})))()},mountAxiosInterceptor:function(e){var t=function(e){return e};a.a.interceptors.response.use(t,(function(t){return e(t)}))}},p=function(){var e=o()(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g.is_api_service_used_as_axios_wrapper(t.config),o=null===t||void 0===t||null===(r=t.config)||void 0===r?void 0:r.HTTP_ERROR_CODE,t.response){e.next=10;break}if(console.log(\"Network error\",t),\"NETWORK\"==o){e.next=6;break}return e.abrupt(\"return\",{HTTP_ERROR_CODE:\"NETWORK\"});case 6:return u[\"a\"].$emit(\"showNetworkError\"),e.abrupt(\"return\",Promise.reject(t));case 10:if(400!=t.response.status){e.next=20;break}if(!m(t.config)){e.next=14;break}return console.log(\"AXIOS: Pass Error 400\"),e.abrupt(\"return\",!0);case 14:if(400==o){e.next=16;break}return e.abrupt(\"return\",{HTTP_ERROR_CODE:400});case 16:return u[\"a\"].$emit(\"showServiceError\"),e.abrupt(\"return\",Promise.reject(t));case 20:if(405!=t.response.status){e.next=26;break}return console.log(\"AXIOS: Pass Error 405\"),u[\"a\"].$emit(\"showAuthorizationError\"),e.abrupt(\"return\",Promise.reject(t));case 26:if(429!=t.response.status){e.next=32;break}return console.log(\"AXIOS: Pass Error 429\"),u[\"a\"].$emit(\"showTooManyRequestsError\"),e.abrupt(\"return\",Promise.reject(t));case 32:if(403!=t.response.status){e.next=46;break}if(console.log(\"403 Error\"),!f(t.config)){e.next=46;break}if(console.log(\"AXIOS: ReloginOnStatus403\"),t.response.status=449,!s[\"default\"].prototype.pkce.isAuthorized()){e.next=43;break}return e.next=40,s[\"default\"].prototype.refresh_token();case 40:if(!s[\"default\"].prototype.pkce.state||!s[\"default\"].prototype.pkce.state.accessToken){e.next=43;break}return t.config.retoken=!0,e.abrupt(\"return\",t.config);case 43:return console.log(\"Not Authenticated\"),u[\"a\"].$emit(\"showAuthenticationWarning\"),e.abrupt(\"return\",Promise.reject(t));case 46:return console.log(\"Unknown API Request Error\"),console.log(\"status: \"+t.response.status),u[\"a\"].$emit(\"showServiceError\"),e.abrupt(\"return\",Promise.reject(t));case 50:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();g.mountAxiosInterceptor(p),l[\"a\"].$on(\"TokenChanges\",(function(e){e?g.setHeader(e):g.removeHeader()})),t[\"a\"]=g},2256:function(e,t,n){\"use strict\";n(\"99af\");var r=n(\"ded3\"),o=n.n(r),s=n(\"2f62\"),i=n(\"c75e\"),a=n(\"9651\"),u=n(\"c9d9\");t[\"a\"]={provide:function(){return{gotoNextStageNr:this.gotoNextStageNr,getDailyContributionLimits:this.getDailyContributionLimits}},computed:o()(o()({},Object(s[\"c\"])(\"assemblystore\",[\"assembly\",\"assemblyProgression\",\"assemblyConfiguration\",\"assembly_sorted_stages\",\"is_stage_accessible\",\"is_stage_scheduled\",\"last_accessible_stage\",\"is_stage_idle\",\"is_stage_done\",\"is_stage_disabled\",\"is_stage_completed\",\"is_stage_new\",\"is_stage_last\",\"is_stage_first\",\"is_stage_alert\",\"assembly_scheduled_stages\",\"assembly_stages\",\"get_stage_number_by_stage_id\",\"get_stage_number_by_stage\",\"next_scheduled_stage\",\"find_next_accessible_stage\",\"assembly_stages\",\"IsDelegate\",\"IsManager\"])),{},{daySessions:function(){var e;return null===(e=this.assemblyProgression)||void 0===e?void 0:e.number_of_day_sessions},ready:function(){var e=this.$loaded(this.assembly);return e&&i[\"a\"].$emit(\"hideLoading\"),e},stage_nr_last_visited:{get:function(){return isNaN(a[\"b\"].stageID)||null===a[\"b\"].stageID?null:this.get_stage_number_by_stage_id(a[\"b\"].stageID)},set:function(e){if(null===e||void 0===e)a[\"a\"].setStageID(null);else{var t=this.assembly_sorted_stages[e].stage.id;a[\"a\"].setStageID(t)}}},stage_last_visited:function(){return null===this.stage_nr_last_visited?null:this.assembly_sorted_stages[this.stage_nr_last_visited]},limitForAddingProposalsReached:function(){var e=this.getDailyContributionLimits();return this.$loaded(e)?(e=e.number_of_proposals,e.current>=e.daylimit):null},limitForAddingCommentsReached:function(){if(this.IsManager)return!1;var e=this.getDailyContributionLimits();return this.$loaded(e)&&this.$loaded(e)?(e=e.number_of_comments,e.current>=e.daylimit):null}}),methods:o()({clickBackToAssemblyListButton:function(){a[\"a\"].setAssemblyIdentifier(null),this.$router.push({name:\"assemblies\"})},stageTransition:function(e,t){},laggedScrollToStage:function(){var e=this;setTimeout((function(){e.scrollToStage()}),200)},gotoNextStageNr:function(e){console.assert(e),console.log(\"gotoNextStageNr\");var t=e.stage.group,n=this.find_next_accessible_stage(e);if(!n)return console.log(\"NOTE: Assembly seems to be completed!\"),null;var r=e.stage.group;r!==t?(console.log(\"ROUTERROUTE\"),this.$router.push(\"\".concat(n.stage.id,\"/\").concat(n.stage.group))):(this.stage_nr_last_visited=this.get_stage_number_by_stage(n),console.log(this.stage_nr_last_visited,\"new stage\"))},gotoStage:function(e){console.assert(e),this.$router.push(this.getStageRoute(e))},getStageRoute:function(e){console.assert(e);var t={assemblyIdentifier:a[\"b\"].assemblyIdentifier,stageID:e.stage.id,contenttreeID:e.stage.contenttree_id};return{name:e.stage.type,params:t}},gotoDefaultStageTeaser:function(){console.log(\"goto default stage teaser\"),null!==a[\"b\"].stageID&&void 0!==a[\"b\"].stageID?this.stage_nr_last_visited=this.get_stage_number_by_stage_id(a[\"b\"].stageID):this.last_accessible_stage?this.stage_nr_last_visited=this.get_stage_number_by_stage(this.last_accessible_stage):this.stage_nr_last_visited=null},getDailyContributionLimits:function(){var e=this.assemblyProgression,t=this.assemblyConfiguration;if(t&&e)return{number_of_proposals:{daylimit:t.MAX_DAILY_USER_PROPOSALS,current:null===e.number_of_proposals_today?0:e.number_of_proposals_today},number_of_comments:{daylimit:t.MAX_DAILY_USER_COMMENTS,current:null===e.number_of_comments_today?0:e.number_of_comments_today}}}},Object(s[\"b\"])({setCachedStageID:\"assemblystore/setCachedStageID\"})),mounted:function(){this.$store.dispatch(\"assemblystore/syncAssembly\",{oauthUserID:this.oauth.userid}),console.log(\"SYNC ASSEMBLY.\"),this.$root.monitorLog(u[\"a\"].MONITOR_ASSEMBLY_ENTERING)}}},2647:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(\"2b0e\"),o=new r[\"default\"]},\"2f39\":function(e,t,n){\"use strict\";n.r(t);n(\"ac1f\"),n(\"5319\"),n(\"96cf\");var r=n(\"c973\"),o=n.n(r),s=(n(\"5c7d\"),n(\"9f29\"),n(\"985d\"),n(\"0047\"),n(\"2b0e\")),i=n(\"215a\"),a=n(\"8e37\"),u=n(\"b05d\"),l=n(\"2a19\");s[\"default\"].use(u[\"a\"],{config:{screen:{bodyClasses:!0},notify:{}},lang:i[\"a\"],iconSet:a[\"a\"],plugins:{Notify:l[\"a\"]}});var c,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{attrs:{id:\"q-app\"}},[n(\"transition\",{attrs:{name:\"fade\"}},[e.appExitState?e._e():n(\"router-view\",{key:e.componentKey,ref:\"maincontent\"})],1)],1)},f=[],m=(n(\"99af\"),n(\"caad\"),n(\"b0c0\"),n(\"d3b7\"),n(\"e6cf\"),n(\"2532\"),n(\"ded3\")),h=n.n(m),g=n(\"2f62\"),p=n(\"c75e\"),b=n(\"2647\"),_=n(\"c9d9\"),v=n(\"9651\"),I=n(\"0831\"),y=I[\"a\"].setScrollPosition,w={data:function(){return{appInitialized:!1,componentKey:0,username_derivate:\"\"}},watch:{$route:function(e,t){if(e.meta.assemblyAcl){var n=\"\".concat(e.meta.assemblyAcl,\"@\").concat(e.params.assemblyIdentifier);if(!e.params.assemblyIdentifier||!this.oauth.payload.roles.includes(n))throw e.params.assemblyIdentifier||console.error(\"WRONGLY CONFIUGRED ROUTE: assemblyACL option requires and Identifier in the route params\"),console.error(\"NOT AUTHORIZED....\",e,this.oauth.payload.roles,this.oauth.payload.roles.includes(n),n),this.$router.push({name:\"home\"}),new Error(\"Oops! You don't seem to have access to that page.\")}this.$root.monitorLog(_[\"a\"].MONITOR_ROUTE_CHANGE)}},computed:h()({ready:function(){return p[\"a\"].$emit(\"hideLoading\"),!0},appExitState:function(){return v[\"b\"].appExitState}},Object(g[\"c\"])({ongoing_assemblies:\"publicindexstore/ongoing_assemblies\",isUserAssemblyManager:\"publicindexstore/storeOisUserAssemblyManagerauthAcls\"})),methods:h()({showAuthorizationError:function(e){var t,n;this.$root.monitorLog(_[\"a\"].MONITOR_ERROR_AUTHORIZATION,e);var r=this.$i18n.t(\"app.error.authorization_error_title\"),o=this.$i18n.t(\"app.error.authorization_error_body\"),s=\"mdi-key-outline\",i=\"error\",a=[\"logout\"];null===(t=this.$refs)||void 0===t||null===(n=t.maincontent)||void 0===n||n.showNotificationBanner(i,r,o,s,!1,a)},onPageLeave:function(e){console.log(\"Shutdown Demokratiefabrik\"),this.$root.monitorFire(_[\"a\"].MONITOR_EXIT),v[\"a\"].exitApp()}},Object(g[\"b\"])({touchRandomSeed:\"publicprofilestore/touchRandomSeed\",storeOauthAcls:\"publicprofilestore/storeOauthAcls\",clearUserData:\"clearUserData\"})),created:function(){var e=this;window.addEventListener(\"beforeunload\",this.onPageLeave),p[\"a\"].$on(\"reload\",(function(){e.$root.reload()})),p[\"a\"].$on(\"showServiceError\",(function(t){var n,r,o=e.$i18n.t(\"app.error.service_error_title\"),s=e.$i18n.t(\"app.error.service_error_body\"),i=\"mdi-alarm-light-outline\",a=!(null===t||void 0===t||!t.settimer)&&t.settimer,u=null!==t&&void 0!==t&&t.nobuttons?[]:[\"reload\"],l=\"error\";null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(l,o,s,i,a,u)})),p[\"a\"].$once(\"showNetworkError\",(function(t){e.$root.monitorLog(_[\"a\"].MONITOR_ERROR_NETWORK,t)})),p[\"a\"].$on(\"showNetworkError\",(function(t){var n,r,o=e.$i18n.t(\"app.error.network_error_title\"),s=e.$i18n.t(\"app.error.network_error_body\"),i=\"mdi-alarm-light-outline\",a=\"error\",u=[\"reload\",\"hide\"];null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(a,o,s,i,null,u)})),p[\"a\"].$on(\"showAuthorizationError\",(function(t){e.showAuthorizationError(t)})),p[\"a\"].$on(\"showAuthorizationInvalidToken\",(function(t){var n,r;e.$root.monitorLog(_[\"a\"].MONITOR_ERROR_INVALID_TOKEN,t);var o=e.$i18n.t(\"auth.authentication_invalid_warning_title\"),s=e.$i18n.t(\"auth.authentication_invalid_warning_body\"),i=\"mdi-key-outline\",a=\"error\",u=!(null===t||void 0===t||!t.settimer)&&t.settimer,l=[\"auth\"];null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(a,o,s,i,u,l)})),p[\"a\"].$on(\"showTooManyRequestsError\",(function(t){var n,r;e.$root.monitorLog(_[\"a\"].MONITOR_ERROR_TOO_MANY_REQUESTS,t);var o=e.$i18n.t(\"app.error.toomanyrequests_error_title\"),s=e.$i18n.t(\"app.error.toomanyrequests_error_body\"),i=\"mdi-car-multiple\",a=\"error\";null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(a,o,s,i)})),p[\"a\"].$on(\"showAuthenticationWarning\",(function(t){var n,r;e.$root.monitorLog(_[\"a\"].MONITOR_WARNING_AUTHENTICATION,t);var o=\"warning\",s=\"mdi-emoticon-cool-outline\",i=e.$i18n.t(\"auth.authentication_warning_title\"),a=e.$i18n.t(\"auth.authentication_warning_body\");null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(o,i,a,s,!1,[\"auth\",\"home\"])})),p[\"a\"].$on(\"showAuthenticationError\",(function(t){var n,r;e.$root.monitorLog(_[\"a\"].MONITOR_ERROR_AUTHENTICATION,t);var o=\"error\",s=\"mdi-alarm-light-outline\",i=e.$i18n.t(\"auth.authentication_error_title\"),a=e.$i18n.t(\"auth.authentication_error_body\");null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(o,i,a,s)})),p[\"a\"].$on(\"PublicProfileLoaded\",(function(){e.$store.dispatch(\"publicprofilestore/setUsernameDerivate\",{usernameDerivate:e.usernameDerivate()})})),p[\"a\"].$on(\"hideNotificationBanners\",(function(t){var n,r;null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.hideNotificationBanner()})),b[\"a\"].$on(\"AfterTokenChanged\",(function(t){var n,r;e.storeOauthAcls({oauthAcls:null===(n=e.oauth)||void 0===n||null===(r=n.payload)||void 0===r?void 0:r.roles})})),b[\"a\"].$on(\"AfterLogout\",(function(){e.$router.push({name:\"logout\"}),e.$root.clearUserData()})),b[\"a\"].$on(\"AfterLogin\",(function(){e.$store.dispatch(\"monitorSetup\"),e.$root.monitorLog(_[\"a\"].MONITOR_LOGIN);var t=JSON.parse(localStorage.getItem(\"oauth2authcodepkce-destination\"));t?(localStorage.removeItem(\"oauth2authcodepkce-destination\"),e.$router.push(t)):e.$router.push({name:\"home\"}),e.$root.clearSession()})),this.touchRandomSeed(),this.$root.reload=function(){e.componentKey+=1},this.$root.initialized=!1,this.$store.dispatch(\"monitorSetup\"),this.$root.getAssemblyHomeRoute=function(e){return{name:e.type,params:{assemblyIdentifier:e.identifier}}},this.$root.getAssemblyManageRoute=function(e){return{name:\"assembly_manage\",params:{assemblyIdentifier:e.identifier}}},this.$root.gotoAssemblyManage=function(t){var n=e.$root.getAssemblyManageRoute(t);e.$router.pushR(n)},this.$root.gotoAssemblyHome=function(t){var n=e.$root.getAssemblyHomeRoute(t);e.$router.pushR(n)},this.$root.scrollToAnchor=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=document.getElementsByName(t),s=null===o||void 0===o?void 0:o.item(0),i=function(){e.fixedSelectedItem=t;var r=e.$getOffsetTop(s)-e.$root.headerOffset;y(window,r,n),setTimeout((function(){return e.fixedSelectedItem=null}),n)};r?setTimeout(i,r):i()},this.$root.logout=o()(regeneratorRuntime.mark((function t(){var n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:null,n.length>1&&void 0!==n[1]?n[1]:{},t.next=4,e.$store.dispatch(\"monitorFire\",{eventString:_[\"a\"].MONITOR_LOGOUT,data:{}});case 4:e.oauth.logout();case 5:case\"end\":return t.stop()}}),t)}))),this.$root.username=function(e){return e?e.U:\"Anonymous\"},this.$root.username_derivation=function(t,n){if(!t)return\"\";var r=t.ALT,o=t.FN,s=t.CA;return e.$i18n.t(\"auth.name_derivation_3rd_party\".concat(n?\"_short\":\"\"),{fullname:o,canton:s,altitude:r})},this.$root.monitorLog=o()(regeneratorRuntime.mark((function t(){var n,r,o,s,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:{},e.oauth.authorized){t.next=4;break}return t.abrupt(\"return\",null);case 4:o=e.$router.currentRouteObject(),s=h()(h()({name:o.name},o.params),r),e.$store.dispatch(\"monitorLog\",{eventString:n,data:s});case 7:case\"end\":return t.stop()}}),t)}))),this.$root.monitorFire=o()(regeneratorRuntime.mark((function t(){var n,r,o,s,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:{},e.oauth.authorized){t.next=4;break}return t.abrupt(\"return\",null);case 4:return o=e.$router.currentRouteObject(),s=h()(h()({name:o.name},o.params),r),t.next=8,e.$store.dispatch(\"monitorFire\",{eventString:n,data:s});case 8:case\"end\":return t.stop()}}),t)}))),this.$root.clearSession=function(){v[\"a\"].setStageID(null),v[\"a\"].setAssemblyIdentifier(null)},this.$root.clearUserData=function(){e.$root.clearSession(),e.clearUserData()}},mounted:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(\"*** INIT OAUTH ***\"),e.prev=1,e.next=4,this.oauth.initialize();case 4:e.next=17;break;case 6:e.prev=6,e.t0=e[\"catch\"](1),console.log(\"error in oauth initialization...\",e.t0),e.t1=e.t0.message,e.next=\"ErrorInvalidGrant\"===e.t1?12:14;break;case 12:return p[\"a\"].$emit(\"showAuthorizationInvalidToken\"),e.abrupt(\"break\",16);case 14:return p[\"a\"].$emit(\"showServiceError\",{nobuttons:!0}),e.abrupt(\"break\",16);case 16:return e.abrupt(\"return\");case 17:return console.log(\"*** TOKEN EXPIRE? ***\"),e.next=20,this.oauth.refresh_token_if_required();case 20:if(this.appInitialized=e.sent,console.log(\"*** START MONITOR ENGINE ***\"),t=parseInt(\"60\"),t||(t=60),this.$root.$monitorTimer=setInterval((function(){console.log(\"/i\"),r.$root.monitorFire()}),1e3*t),!this.appInitialized){e.next=33;break}if(console.log(\"*** SYNC LOCAL DATA ***\"),console.log(\"...publicIndex\"),this.$store.dispatch(\"publicindexstore/syncPublicIndex\"),!this.oauth.userid){e.next=33;break}return console.log(\"...profile\"),e.next=33,this.$store.dispatch(\"publicprofilestore/syncProfile\",{oauthUserID:this.oauth.userid,oauthUserEmail:null===(n=this.oauth.payload)||void 0===n?void 0:n.userEmail});case 33:console.log(\"*** APP MOUNTED ***\"),console.log(\"ALLOW AUTODETECTION OF POLYFILLS\"),console.log(window.fetch);case 36:case\"end\":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){console.log(\"ALLOW AUTODETECTION OF POLYFILLS\"),console.log(window.fetch)}},E={name:\"App\",mixins:[w]},T=E,O=(n(\"5e55\"),n(\"2877\")),D=Object(O[\"a\"])(T,d,f,!1,null,\"29f922b9\",null),S=D.exports,A=(n(\"4de4\"),n(\"4160\"),n(\"d81d\"),n(\"b64b\"),n(\"159b\"),n(\"0e44\")),k=n(\"7c15\"),R=n(\"bd4c\"),N=(n(\"e260\"),n(\"45fc\"),n(\"4fad\"),n(\"07ac\"),n(\"ddb0\"),n(\"278c\")),P=n.n(N),x=n(\"9523\"),C=n.n(x),M=(n(\"9fd8\"),{contenttree:{},expanded_branches:{}}),$=(c={get_contenttree:function(e){return function(t){var n=t.contenttreeID;return console.assert(n),n in e.contenttree?e.contenttree[n]:null}},get_content:function(e){return function(t){var n=t.contenttreeID,r=t.contentID;return console.assert(n),console.assert(r),n in e.contenttree?(console.log(n,r),r in e.contenttree[n].entries?e.contenttree[n].entries[r]:null):null}},get_content_text_max_length:function(e){return function(t){var n=t.contenttreeID,r=t.type;console.log(n,r);var o=e.contenttree[n].configuration.CONTENT_TEXT_MAX_LENGTH_BY_TYPES;return r in o?o[r]:e.contenttree[n].configuration.DEFAULT_CONTENT_TEXT_MAX_LENGTH}},get_allowed_node_types:function(e){return function(t){var n=t.contenttreeID,r=t.parentType,o=[];return o=void 0===r?e.contenttree[n].configuration.CONTENTTYPES:e.contenttree[n].configuration.ONTOLOGY[r],o}},get_node_types_with_add_permission:function(e){return function(t){var n=t.contenttreeID;return e.contenttree[n].configuration.ALLOWED_CONTENT_TYPES_TO_ADD}},getExpandedBranches:function(e){return function(t){var n=t.contenttreeID,r=t.rootNodeID,o=n+\"-\"+r;return o in e.expanded_branches?e.expanded_branches[o]:null}}},C()(c,\"get_content\",(function(e){return function(t){var n,r=t.contenttreeID,o=t.contentID;return null===(n=e.contenttree[r])||void 0===n?void 0:n.entries[o]}})),C()(c,\"isCommonPropertyByConentType\",(function(e){return function(t){var n=t.contenttreeID,r=t.type;return e.contenttree[n].configuration.CONTENTTYPES.includes(r)?e.contenttree[n].configuration.COMMON_PROPERTY_CONTENT.includes(r):null}})),C()(c,\"monitorPathChange\",(function(e){return function(t){var n,r,o=t.contentTuple;console.assert(o&&o.content&&o.content.id);var s=o.content.contenttree_id;console.assert(s);var i=null===(n=e.contenttree[s].entries[o.content.id])||void 0===n||null===(r=n.content)||void 0===r?void 0:r.parent_id;return i!==o.content.parent_id}})),c),U={retrieveContenttree:function(e,t){var n=e.commit,r=t.assemblyIdentifier,o=t.contenttreeID,s=t.timelag;console.log(\"with timelage\",s);setTimeout((function(){console.assert(o),k[\"a\"].retrieveContenttree(r,o).then((function(e){console.assert(e.data),console.assert(\"OK\"in e.data),console.assert(\"contenttree\"in e.data);var t=\"configuration\"in e.data?e.data.configuration:null;n(\"add_or_update_contenttree\",{contenttreeID:o,contenttree:e.data.contenttree,configuration:t})})).catch((function(e){console.warn(\"Request Error\",e)}))}))},updateContenttree:function(e,t){var n=e.commit,r=e.dispatch,o=t.assemblyIdentifier,s=t.contenttreeID,i=t.update_date,a=t.timelag;console.log(\"UPDATE CONTENTTREE; now! with timelage\",a),n(\"set_update_date_to_current\",{contenttreeID:s});setTimeout((function(){console.assert(s),k[\"a\"].updateContenttree(o,s,i,a).then((function(e){console.log(\"RESPONSE OF CONTENTTREE UPDATE IS HERE...\",e.data),console.assert(null===e||void 0===e?void 0:e.data),console.assert(\"OK\"in e.data);var t=e.data.contents;t&&Object.values(t).length&&(console.log(\"STORE MODIFIED CONTENT TO DISK\",t),r(\"update_contents\",{modifiedContents:t}))})).catch((function(e){console.warn(\"Request Error\",e)}))}))},add_or_update_contenttree:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contenttree,s=t.configuration;n(\"add_or_update_contenttree\",{contenttreeID:r,contenttree:o,configuration:s})},update_contents:function(e,t){var n=e.commit,r=e.getters,o=e.dispatch,s=t.modifiedContents;console.log(\"RETRIEVED MODIFIED CONTENTS (2)\",s),console.assert(void 0!==s),console.assert(null!==s);for(var i={},a=0,u=Object.values(s);a<u.length;a++){var l=u[a];console.assert(void 0!==l),console.assert(null!==l);var c=l.content.contenttree_id;r.monitorPathChange({contentTuple:l})&&(i[c]||(i[c]=[]),i[c].push(l.content.id)),n(\"update_content\",{contentTuple:l})}i.length&&(console.log(\"PATH STRUCTURE IS TO UPDATE FOR \",contentIdsToUpdate.length,\" contents\"),Object.entries(i).forEach((function(e){var t=P()(e,2),n=t[0],r=t[1];console.assert(n),o(\"updateTreeStructure\",{contenttreeID:n,contentIdsToUpdate:r})})))},update_content:function(e,t){var n=e.commit,r=e.getters,o=t.contentTuple;console.assert(void 0!==o),console.assert(null!==o);var s=r.monitorPathChange({contentTuple:o});if(n(\"update_content\",{contentTuple:o}),s){var i=o.content.contenttree_id;console.assert(i),n(\"updateTreeStructure\",{contenttreeID:i,contentIdsToUpdate:[o.content.id]})}},update_rating:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID,s=t.topicID,i=t.rating;n(\"update_rating\",{contenttreeID:r,contentID:o,rating:i}),s&&s!==o&&(console.log(\"update_discussed...topicID\",s),n(\"update_discussed\",{contenttreeID:r,contentID:s}))},update_review:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID,s=t.reviewed;n(\"update_review\",{contenttreeID:r,contentID:o,reviewed:s})},update_salience:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID,s=t.topicID,i=t.salience;n(\"update_salience\",{contenttreeID:r,contentID:o,salience:i}),s&&s!==o&&n(\"update_discussed\",{contenttreeID:r,contentID:s})},update_read:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID;n(\"update_read\",{contenttreeID:r,contentID:o})},update_discussed:function(e,t){var n,r=e.getters,o=e.commit,s=t.contenttreeID,i=t.contentID;console.assert(i),console.log(\"first step in updat_discussion\",s,i);var a=r.get_content({contenttreeID:s,contentID:i});null!==a&&void 0!==a&&null!==(n=a.progression)&&void 0!==n&&n.discussed||o(\"update_discussed\",{contenttreeID:s,contentID:i})},update_expanded_branches:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.rootNodeID,s=t.expanded;n(\"update_expanded_branches\",{contenttreeID:r,rootNodeID:o,expanded:s})},deleteContentStore:function(e){var t=e.commit;t(\"deleteContentStore\")},syncContenttree:function(e,t){var n,r,o=e.state,i=e.dispatch,a=(e.localgetters,e.rootState,e.rootGetters,t.assemblyIdentifier),u=t.contenttreeID,l=t.oauthUserID,c=o.contenttree[u]&&l!=(null===(n=o.contenttree[u])||void 0===n?void 0:n.access_sub);c&&s[\"default\"].set(o,\"contenttree\",{});var d=!o.contenttree[u],f=!d&&k[\"a\"].expiredCacheDate(null===(r=o.contenttree[u])||void 0===r?void 0:r.access_date);if(!f&&!d&&!c)return i(\"checkToUpdateContenttree\",{assemblyIdentifier:a,contenttreeID:u}),!0;console.log(\"Cache expired: reload contenttree\",f,c,d),i(\"retrieveContenttree\",{assemblyIdentifier:a,contenttreeID:u,timelag:!d&&!c})},checkToUpdateContenttree:function(e,t){var n,r=e.state,o=e.dispatch,s=(e.localgetters,e.rootState,e.rootGetters,t.assemblyIdentifier),i=t.contenttreeID,a=null===(n=r.contenttree[i])||void 0===n?void 0:n.update_date;console.assert(a);var u=k[\"a\"].expiredUpdateDate(a);if(!u)return!0;console.log(\"Its update time: check for modified / new contents\"),o(\"updateContenttree\",{assemblyIdentifier:s,contenttreeID:i,update_date:a,timelag:!0})}},L={add_or_update_contenttree:function(e,t){var n=t.contenttreeID,r=t.contenttree,o=t.configuration,i=null,a=null;n in e.contenttree&&(i=e.contenttree[n].configuration),r.configuration=o||i,a&&(r.expanded=a),s[\"default\"].set(e.contenttree,n,r)},update_content:function(e,t){var n=t.contentTuple;console.assert(void 0!==n),console.assert(null!==n);var r=n.content.contenttree_id,o=n.content.id;o in e.contenttree[r].entries||(console.assert(n.content),console.assert(n.creator),s[\"default\"].set(e.contenttree[r].entries,n.content.id,{})),n.progression&&s[\"default\"].set(e.contenttree[r].entries[o],\"progression\",n.progression),n.content&&s[\"default\"].set(e.contenttree[r].entries[o],\"content\",n.content),n.creator&&s[\"default\"].set(e.contenttree[r].entries[o],\"creator\",n.creator),n.path&&s[\"default\"].set(e.contenttree[r].entries[o],\"path\",n.path)},updateTreeStructure:function(e,t){var n=t.contenttreeID,r=t.contentIdsToUpdate;console.log(\"content that have changed their parent object\",r);var o=Object.values(e.contenttree[n].entries).filter((function(e){return!e.path||e.path.some((function(e){return r.includes(e)}))}));console.log(\"content that is affected by parent_id modifications\",o),o.forEach((function(t){console.log(\"UPDATE PATH FOR FOLLOGING CONTENTS\",r);var o=t.content.id,i=e.contenttree[n].entries[o],a=e.contenttree[n].rootElementIds,u=a.includes(t.content.id);console.assert(!o||i);var l=[];while(i)l.unshift(o),o=i.content.parent_id,i=o?e.contenttree[n].entries[o]:null,console.assert(!o||i);console.log(\"updated Path: \",t,\":\",l),s[\"default\"].set(e.contenttree[n],\"path\",l),t.content.parent_id&&u&&(a=a.filter((function(e){return e!==t.content.id})),s[\"default\"].set(e.contenttree[n],\"rootElementIds\",a)),t.content.parent_id||u||(a.push(t.content.id),s[\"default\"].set(e.contenttree[n],\"rootElementIds\",a)),console.log(\"CURRENT ROOT ELEMENTS:, \",a)}))},update_expanded_branches:function(e,t){var n=t.contenttreeID,r=t.rootNodeID,o=t.expanded,i=n+\"-\"+r;s[\"default\"].set(e.expanded_branches,i,o)},delete_contenttree:function(e,t){t.contenttreeID;s[\"default\"].set(e.contenttree,key,null)},set_update_date_to_current:function(e,t){var n=t.contenttreeID,r=new Date;s[\"default\"].set(e.contenttree[n],\"update_date\",r)},update_rating:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=t.rating;if(null===a||void 0===a)return null;var u=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;u||(u={read:!0,discussed:!0}),u.rating=a,s[\"default\"].set(e.contenttree[o].entries[i],\"progression\",u)},update_review:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=t.reviewed;if(null===a||void 0===a)return null;var u=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.content;console.assert(u),u.reviewed=a,s[\"default\"].set(e.contenttree[o].entries[i],\"content\",u)},update_read:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;a||(a={read:!1,discussed:!1,rating:null,salience:null}),a.read=!0,s[\"default\"].set(e.contenttree[o].entries[i],\"progression\",a)},update_discussed:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;a?(console.log(\"update.. progressison discussed\",i),s[\"default\"].set(e.contenttree[o].entries[i].progression,\"discussed\",!0)):(a={read:!0,discussed:!0,rating:null,salience:null},console.log(\"add progressison\",a),s[\"default\"].set(e.contenttree[o].entries[i],\"progression\",a))},update_salience:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=t.salience;if(void 0===a)return null;var u=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;u?(console.log(\"update.. progressison salienced\",i,a),s[\"default\"].set(e.contenttree[o].entries[i].progression,\"salience\",a)):(u={read:!0,salience:a,discussed:!0,view:!1},s[\"default\"].set(e.contenttree[o].entries[i],\"progression\",u))},deleteContentStore:function(e){s[\"default\"].set(e,\"contenttree\",{}),s[\"default\"].set(e,\"expanded_branches\",{})}},z={namespaced:!0,state:M,getters:$,actions:U,mutations:L},j={peerreviews:{}},B={all_peerreviews:function(e){if(!Object.keys(e.peerreviews).length)return null;var t=[];return Object.keys(e.peerreviews).forEach((function(n){var r=e.peerreviews[n].entries;r&&Object.values(r).forEach((function(e){t.push(e)}))})),t},loadedPeerreviewContententtrees:function(e){return Object.keys(e.peerreviews)},load_all_peerreviews_by_content_id:function(e){if(!Object.keys(e.peerreviews).length)return null;var t={};return Object.keys(e.peerreviews).forEach((function(n){var r=e.peerreviews[n].entries;r&&Object.values(r).forEach((function(e){if(!e.disabled){var n=e.content.id;t[n]||(t[n]=[]),t[n].push(e)}}))})),t},get_user_peerreviews_by_content_id:function(e){if(!Object.keys(e.peerreviews).length)return null;var t={};return Object.keys(e.peerreviews).forEach((function(n){var r=e.peerreviews[n].entries;r&&Object.values(r).forEach((function(e){if(e.progression&&!e.disabled){var n=e.progression&&R[\"b\"].isSameDate(new Date,e.progression.date_responded,\"day\");if(n||!e.peerreview.approved&&!e.peerreview.rejected){var r=e.content.id;t[r]||(t[r]=[]),t[r].push(e)}}}))})),t},get_user_peerreviews_by_parent_and_content:function(e,t){if(null===t.get_user_peerreviews_by_content_id)return null;for(var n={},r=0,o=Object.entries(t.get_user_peerreviews_by_content_id);r<o.length;r++){var s=P()(o[r],2),i=s[0],a=s[1],u=a[Object.keys(a)[0]],l=u.content.parent_id;n[l]||(n[l]={}),n[l][i]=a}return n},get_peerreview_by_content:function(e,t){return function(e){var n=e.contentID;console.assert(n),console.log(\"load peerreview of contentID\",n);var r=t.load_all_peerreviews_by_content_id;return console.assert(null!=r),n in r?r[n]:[]}},get_peerreview:function(e){return function(t){var n=t.contenttreeID,r=t.peerreviewID;if(e.peerreviews.contenttreeID)return e.peerreviews[n].entries[r]}}},F={retrievePeerreviews:function(e,t){var n=e.commit,r=t.assemblyIdentifier,o=t.contenttreeID,s=t.timelag,i=s?5e3:0;setTimeout((function(){console.assert(o),k[\"a\"].retrievePeerreviews(r,o).then((function(e){console.assert(e.data),console.assert(\"OK\"in e.data),console.assert(\"peerreviews\"in e.data),n(\"add_or_update_peerreviews\",{contenttreeID:o,peerreviews:e.data.peerreviews})})).catch((function(e){console.warn(\"Request Error\",e)}))}),i)},update_response:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.peerreviewID,s=t.response,i=t.accept1,a=t.accept2,u=t.accept3;n(\"update_response\",{contenttreeID:r,peerreviewID:o,response:s,accept1:i,accept2:a,accept3:u})},updatePeerreviews:function(e,t){var n=e.commit,r=t.assemblyIdentifier,o=t.contenttreeID,s=t.update_date,i=t.timelag;console.log(\"UPDATE CONTENTTREE; now! with timelage\",i),n(\"set_update_date_to_current\",{contenttreeID:o});setTimeout((function(){console.assert(o),k[\"a\"].updatePeerreviews(r,o,s,i).then((function(e){console.log(\"RESPONSE OF CONTENTTREE UPDATE IS HERE....\",e.data),console.assert(e.data),console.assert(\"OK\"in e.data);var t=e.data.contents;t&&Object.values(t).length&&(console.log(\"STORE MODIFIED CONTENT TO DISK\",t),n(\"update_reviews\",{peerreviewTuple:t}))})).catch((function(e){console.warn(\"Request Error\",e)}))}))},updatePeerreviewTuples:function(e,t){e.commit,e.getters;var n=e.dispatch,r=t.modifiedPeerreviews;console.log(\"RETRIEVED MODIFIED CONTENTS (2)\",r),console.assert(void 0!==r),console.assert(null!==r);for(var o=0,s=Object.values(r);o<s.length;o++){var i=s[o];console.assert(void 0!==i),console.assert(null!==i),n(\"updatePeerreviewTuple\",{peerreviewTuple:i})}},updatePeerreviewTuple:function(e,t){var n=e.commit,r=t.peerreviewTuple;console.log(r),n(\"update_reviews\",{peerreviewTuple:r})},deletePeerreviewStore:function(e){var t=e.commit;t(\"deletePeerreviewStore\")},syncPeerreviews:function(e,t){var n,r,o=e.state,i=e.dispatch,a=t.assemblyIdentifier,u=t.contenttreeID,l=t.oauthUserID,c=o.peerreviews[u]&&l!=(null===(n=o.peerreviews[u])||void 0===n?void 0:n.access_sub);c&&s[\"default\"].set(o,\"peerreviews\",{});var d=!o.peerreviews[u],f=!d&&k[\"a\"].expiredCacheDate(null===(r=o.peerreviews[u])||void 0===r?void 0:r.access_date);if(!f&&!d&&!c)return i(\"checkToUpdatePeerreviews\",{assemblyIdentifier:a,contenttreeID:u}),!0;console.log(\"Cache expired: reload peerreviews\",f,c,d),i(\"retrievePeerreviews\",{assemblyIdentifier:a,contenttreeID:u,timelag:!0})},checkToUpdatePeerreviews:function(e,t){var n,r=e.state,o=e.dispatch,s=t.assemblyIdentifier,i=t.contenttreeID,a=null===(n=r.peerreviews[i])||void 0===n?void 0:n.update_date;console.assert(a);var u=k[\"a\"].expiredUpdateDate(a);if(!u)return!0;console.log(\"Its update time: check for modified / new contents\"),o(\"updatePeerreviews\",{assemblyIdentifier:s,contenttreeID:i,update_date:a,timelag:!0})}},G={add_or_update_peerreviews:function(e,t){var n=t.contenttreeID,r=t.peerreviews;console.assert(n),console.log(\"add_or_update_peerreviews\",n,r),s[\"default\"].set(e.peerreviews,n,r)},update_reviews:function(e,t){var n=t.peerreviewTuple;console.assert(void 0!==n),console.assert(null!==n);var r=n.peerreview.contenttree_id,o=n.peerreview.id;o in e.peerreviews[r].entries||(console.assert(n.peerreview),console.assert(n.creator),s[\"default\"].set(e.peerreviews[r].entries,o,{})),n.peerreview&&s[\"default\"].set(e.peerreviews[r].entries[o],\"peerreview\",n.peerreview),n.progression&&s[\"default\"].set(e.peerreviews[r].entries[o],\"progression\",n.progression),n.content&&s[\"default\"].set(e.peerreviews[r].entries[o],\"content\",n.content),n.creator&&s[\"default\"].set(e.peerreviews[r].entries[o],\"creator\",n.creator)},set_update_date_to_current:function(e,t){var n=t.contenttreeID,r=new Date;s[\"default\"].set(e.peerreviews[n],\"update_date\",r)},update_response:function(e,t){var n,r,o=t.contenttreeID,i=t.peerreviewID,a=t.response,u=t.accept1,l=t.accept2,c=t.accept3;if(null===a||void 0===a)return null;console.log(\"UPDATE VUEX PREEVIEW\");var d=null===(n=e.peerreviews[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;d?(s[\"default\"].set(e.peerreviews[o].entries[i].progression,\"response\",a),s[\"default\"].set(e.peerreviews[o].entries[i].progression,\"criteria_accept1\",u),s[\"default\"].set(e.peerreviews[o].entries[i].progression,\"criteria_accept2\",l),s[\"default\"].set(e.peerreviews[o].entries[i].progression,\"criteria_accept3\",c)):(d={response:a,criteria_accept1:u,criteria_accept2:l,criteria_accept3:c},s[\"default\"].set(e.peerreviews[o].entries[i],\"progression\",d))},deletePeerreviewStore:function(e){s[\"default\"].set(e,\"peerreviews\",{})}},H={namespaced:!0,state:j,getters:B,actions:F,mutations:G},W=(n(\"7db0\"),n(\"c975\"),n(\"13d5\"),n(\"4e82\"),n(\"cca6\"),{assemblydata:{},stages:{},milestones:{}}),K={assemblyTuple:function(e,t){return v[\"b\"].assemblyIdentifier?e.assemblydata[v[\"b\"].assemblyIdentifier]:null},assembly:function(e,t){return t.assemblyTuple?t.assemblyTuple.assembly:null},assemblyName:function(e,t){if(t.assembly)return t.assembly.title},assemblyType:function(e,t){if(t.assembly)return t.assembly.type},assemblyConfiguration:function(e,t){return t.assemblyTuple?t.assemblyTuple.configuration:(console.log(\"...assemblyTuple not ready\"),null)},assembly_userid:function(e,t){return t.assemblyTuple?t.assemblyTuple.access_sub:(console.log(\"...assemblyTuple not ready\"),null)},assemblyProgression:function(e,t){return t.assemblyTuple?t.assemblyTuple.progression:null},assembly_stages:function(e,t){if(!t.assemblyTuple)return console.log(\"...assemblyTuple not ready\"),null;var n=t.assemblyTuple.stages,r=Object.keys(e.stages).filter((function(e){return n.includes(\"\".concat(e))})).reduce((function(t,n){return t[n]=e.stages[n],t}),{});return r},assemblyAcls:function(e,t,n,r){if(!v[\"b\"].assemblyIdentifier)return null;var o=r[\"publicprofilestore/translateOauthAcls\"];return o(v[\"b\"].assemblyIdentifier)},IsManager:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes(\"manage\"):null},IsObserver:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes(\"observe\"):null},IsContributor:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes(\"add\"):null},IsExpert:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes(\"expert\"):null},IsDelegate:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes(\"delegate\"):null},stageMilestones:function(e,t){var n;if(console.log(\">> NOTE: stageMilestones\"),!v[\"b\"].stageID)return console.log(\"...stageID not ready\"),null;var r=null===(n=t.assemblyProgression)||void 0===n?void 0:n.number_of_day_sessions;console.assert(r&&r>0);var o=e.milestones[r];if(!o)return[];var s=o[v[\"b\"].stageID];return s||[]},stageMilestoneLabels:function(e,t){var n=t.stageMilestones;return n?n.map((function(e){return e.label})):(console.log(\"empty milestoness...............sldfls\"),[])},stageMilestoneWeigths:function(e,t){var n=t.stageMilestones;if(!n)return{};var r={};return n.forEach((function(e){e.label in r||(r[e.label]=0),r[e.label]+=parseInt(e.weight)})),r},stageMilestonesCompleted:function(e,t){var n=t.stageMilestones;console.assert(null!==n);var r=n.reduce((function(e,t){return e+t[\"weight\"]}),0);return r>=12},stage:function(e,t,n,r,o,s){var i=t.assembly_stages;return i[v[\"b\"].stageID]},assembly_sorted_stages:function(e,t){var n=t.assembly_stages;return n?n?Object.values(n).sort((function(e,t){return e.stage.order_position<t.stage.order_position?-1:e.stage.order_position>t.stage.order_position?1:0})):void 0:null},next_scheduled_stage:function(e,t){var n=t.assembly_sorted_stages;if(!n)return console.log(\"assemmbly is not yet loaded\"),null;var r=n.find((function(e){return t.is_stage_scheduled(e)&&!t.is_stage_disabled(e)&&!t.is_stage_completed(e)}));return r},last_accessible_stage:function(e,t){var n=t.next_scheduled_stage,r=t.assembly_sorted_stages;return r?n||r[r.length-1]:(console.log(\"assemmbly is not yet loaded\"),null)},assembly_scheduled_stages:function(e,t){var n=t.assembly_sorted_stages;return n?n.filter((function(e){return t.is_stage_scheduled(e)})):(console.log(\"assemmbly is not yet loaded\"),null)},assembly_accessible_stages:function(e,t){var n=t.assembly_sorted_stages;if(!n)return console.log(\"assemmbly is not yet loaded\"),null;var r=t.last_accessible_stage;return console.assert(r),n.filter((function(e){return e.stage.order_position<=r.stage.order_position&&!t.is_stage_disabled(e)&&!t.is_stage_completed(e)}))},assembly_accessible_stage_ids:function(e,t){var n=t.assembly_accessible_stages;return n?n.map((function(e){return e.stage.id})):null},get_stage_number_by_stage:function(e,t){return function(e){console.assert(e);var n=t.assembly_sorted_stages;console.assert(n);var r=n.map((function(e){return e.stage.id})),o=r.indexOf(e.stage.id);return console.assert(o>-1),o}},get_stage_number_by_stage_id:function(e,t){return function(e){if(!e)return null;var n=t.assembly_sorted_stages;if(!n)return null;console.assert(n);var r=n.map((function(e){return e.stage.id})),o=r.indexOf(e);return console.assert(o>-1),o}},find_next_accessible_stage:function(e,t){return function(e){console.assert(e);var n=t.assembly_accessible_stages.find((function(t){return t.stage.order_position>e.stage.order_position}));return n}},is_stage_first:function(e,t){return function(e){console.assert(e);var n=t.assembly_sorted_stages;return n[0]==e}},is_stage_last:function(e,t){return function(e){var n;console.assert(e),console.assert(e.stage);var r=t.assembly_sorted_stages;return console.assert(r[r.length-1]),(null===(n=r[r.length-1])||void 0===n?void 0:n.stage.id)==e.stage.id}},is_stage_scheduled:function(e,t){return function(e){return console.assert(e),!t.is_stage_completed(e)&&(t.is_stage_alerted(e)||t.is_stage_new(e))}},is_stage_new:function(e){return function(e){return console.assert(e),!e.progression}},is_stage_alerted:function(e){return function(e){return!e.progression||e.progression.alerted}},is_stage_idle:function(e,t){return function(e){return console.assert(e),!t.is_stage_scheduled(e)&&!t.is_stage_completed(e)&&!t.is_stage_disabled(e)}},is_stage_skipped:function(e){return function(e){var t;return console.assert(e),null===(t=e.progression)||void 0===t?void 0:t.skipped}},is_stage_disabled:function(e){return function(e){return console.assert(e),!1}},is_stage_completed:function(e){return function(e){var t;return console.assert(e),!0===(null===(t=e.progression)||void 0===t?void 0:t.completed)}},is_stage_accessible:function(e,t){return function(e){console.assert(e);var n=t.assembly_accessible_stage_ids;return n.includes(e.stage.id)}},is_stage_done:function(e,t){return function(e){return console.log(e),console.assert(e),t.is_stage_accessible(e)||t.is_stage_completed(e)}},is_first_day:function(e,t){return function(e){return R[\"b\"].isSameDate(e.progression.date_created,Date.now(),\"day\")}}},q={syncAssembly:function(e,t){var n=e.state,r=e.dispatch,o=(e.getters,e.rootState,e.rootGetters,t.oauthUserID),s=v[\"b\"].assemblyIdentifier;if(!n.assemblydata[s])return r(\"retrieveAssembly\",{assemblyIdentifier:s}),null;var i=o!=n.assemblydata[s].access_sub,a=!n.assemblydata[s]||k[\"a\"].expiredCacheDate(n.assemblydata[s].access_date);return a||i?(console.log(\" Assembly not in sync  or wrong user...\",a,n.assemblydata[s].access_date),r(\"retrieveAssembly\",{assemblyIdentifier:s}),null):(p[\"a\"].$emit(\"AssemblyLoaded\"),null)},deleteAssemblyStore:function(e){var t=e.commit;t(\"deleteAssemblyStore\")},retrieveAssembly:function(e,t){var n=e.commit,r=t.assemblyIdentifier;k[\"a\"].retrieveAssembly(r).then((function(e){var t=e.data;n(\"storeAssembly\",{assemblyIdentifier:r,data:t}),console.log(\"EVENT: AssemblyLoaded: Assembly retrieved from Resource Server\"),p[\"a\"].$emit(\"AssemblyLoaded\")})).catch((function(e){console.warn(e),console.warn(\"Request Error\")}))},addOrUpdateStage:function(e,t){var n=e.commit,r=t.stage,o=v[\"b\"].assemblyIdentifier;console.log(\"stage: \",r,o),k[\"a\"].addOrUpdateStage(o,r).then((function(e){console.log(e.data);var t=e.data;console.assert(!!t.assembly),console.assert(!!t.stages),n(\"storeAssemblyStage\",{assemblyIdentifier:o,data:t})})).catch((function(e){console.warn(e),console.warn(\"Request Error\")}))},updateAssembly:function(e,t){var n=e.commit,r=t.assembly,o=v[\"b\"].assemblyIdentifier;console.log(\"assembly: \",r),k[\"a\"].updateAssembly(r.identifier,r).then((function(e){console.log(e.data);var t=e.data;console.assert(!!t.assembly),n(\"storeAssemblyObject\",{assemblyIdentifier:o,assembly:t.assembly})})).catch((function(e){console.warn(e),console.warn(\"Request Error\")}))},addMilestone:function(e,t){var n,r=e.getters,o=e.commit,s=t.label,i=t.weight,a=t.key;console.assert(i),console.assert(s),a||(a=\"default\"),console.log(\"ADD MILESTONE\",s,\" WEIGHT:\",i,\" KEY:\",a);var u=null===(n=r.assemblyProgression)||void 0===n?void 0:n.number_of_day_sessions,l=v[\"b\"].stageID;console.assert(l);var c=r.stageMilestones;if(console.assert(null!==c),c){var d=c.find((function(e){return e.label===s&&e.key===a}));if(d)return!1}return o(\"addMilestone\",{label:s,weight:i,key:a,day:u,stageID:l}),!0},incrementAssemblyActivityCounter:function(e,t){var n=e.commit,r=t.counterName;console.assert([\"number_of_proposals_today\",\"number_of_comments_today\"].includes(r)),n(\"incrementAssemblyActivityCounter\",{assemblyIdentifier:v[\"b\"].assemblyIdentifier,counterName:r})},updateFocusedContent:function(e,t){var n=e.commit,r=t.stageID,o=t.contentID;console.assert(r),console.assert(o),n(\"updateFocusedContent\",{stageID:r,contentID:o})},storeStageProgressionAlertFlag:function(e,t){var n=e.commit,r=t.stageID,o=t.alerted;console.assert(r),n(\"storeStageProgressionAlertFlag\",{stageID:r,alerted:o})},storeStageProgressionCompleted:function(e,t){var n=e.commit,r=t.stageID,o=t.completed;console.assert(r),n(\"storeStageProgressionCompleted\",{stageID:r,completed:o})}},V={storeAssembly:function(e,t){var n=t.assemblyIdentifier,r=t.data,o=e.stages;s[\"default\"].set(e,\"stages\",Object.assign({},o,r.stages)),r.stages=Object.keys(r.stages),s[\"default\"].set(e.assemblydata,n,r)},storeAssemblyStage:function(e,t){var n=t.assemblyIdentifier,r=t.data;s[\"default\"].set(e,\"stages\",r.stages);var o=JSON.parse(JSON.stringify(r.stages)),i=Object.keys(o);s[\"default\"].set(e.assemblydata[n],\"stages\",i)},storeAssemblyObject:function(e,t){var n=t.assemblyIdentifier,r=t.assembly;if(!e.assemblydata[n])return null;s[\"default\"].set(e.assemblydata[n],\"assembly\",r)},storeAssemblyProgression:function(e,t){var n=t.assemblyIdentifier,r=t.progression;if(!e.assemblydata[n])return null;s[\"default\"].set(e.assemblydata[n],\"progression\",r)},storeStageObject:function(e,t){var n=t.stageID,r=t.stage;if(!e.stages[n])return null;s[\"default\"].set(e.stages[n],\"stage\",r)},storeStageProgression:function(e,t){var n=t.stageID,r=t.progression;if(!e.stages[n])return null;s[\"default\"].set(e.stages[n],\"progression\",r)},storeStageProgressionAlertFlag:function(e,t){var n,r=t.stageID,o=t.alerted;if(console.log(\"STORE ALERTED FLAG\"),null!==(n=e.stages[r])&&void 0!==n&&n.progression)s[\"default\"].set(e.stages[r].progression,\"alerted\",o);else{var i={alerted:o};s[\"default\"].set(e.stages[r],\"progression\",i)}},storeStageProgressionCompleted:function(e,t){var n,r=t.stageID,o=t.completed;if(console.log(\"STORE COMPLETED FLAG\"),null!==(n=e.stages[r])&&void 0!==n&&n.progression)e.stages[r].progression.alerted&&o&&s[\"default\"].set(e.stages[r].progression,\"alerted\",!1),s[\"default\"].set(e.stages[r].progression,\"completed\",o);else{var i={alerted:!1,completed:o};s[\"default\"].set(e.stages[r],\"progression\",i)}},incrementAssemblyActivityCounter:function(e,t){var n,r=t.assemblyIdentifier,o=t.counterName;if(!e.assemblydata[r])return null;var i=null===(n=e.assemblydata[r])||void 0===n?void 0:n.progression;console.assert(i);var a=0;null!==i[o]&&(a=i[o]),s[\"default\"].set(e.assemblydata[r].progression,o,a+1)},updateFocusedContent:function(e,t){var n=t.stageID,r=t.contentID;if(!e.stages[n])return null;if(e.stages[n].progression)s[\"default\"].set(e.stages[n].progression,\"focused_content_id\",r);else{var o={focused_content_id:r,alerted:!0};s[\"default\"].set(e.stages[n],\"progression\",o)}},deleteAssemblyStore:function(e){s[\"default\"].set(e,\"assemblydata\",{}),s[\"default\"].set(e,\"stages\",{}),s[\"default\"].set(e,\"milestones\",{})},addMilestone:function(e,t){var n=t.label,r=t.weight,o=t.key,i=t.day,a=t.stageID;console.assert(n),console.assert(r),console.assert(i),console.assert(a),i in e.milestones||s[\"default\"].set(e.milestones,i,{}),console.assert(null!==e.milestones[i]),a in e.milestones[i]||s[\"default\"].set(e.milestones[i],a,[]);var u={label:n,weight:r,key:o},l=e.milestones[i][a].length;s[\"default\"].set(e.milestones[i][a],l,u)}},Y={namespaced:!0,state:W,mutations:V,actions:q,getters:K},Z=(n(\"8a79\"),n(\"1276\"),n(\"18a5\"),n(\"4bde\")),X=n(\"8c4f\"),J=n(\"448a\"),Q=n.n(J),ee={topmenu:\"assemblies_ongoing_list\"},te=[{path:\"/:assemblyIdentifier/textsheet/:stageID/:contenttreeID/\",name:\"TEXTSHEET\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,\"e9fc\"))},meta:ee}],ne=te,re=[{path:\"/:assemblyIdentifier/vaa/\",component:function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,\"0fe0\"))},children:[{path:\":stageID/conclusion\",name:\"VAA_CONCLUSION\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(27)]).then(n.bind(null,\"5cda\"))},meta:{assemblyAcl:\"delegate\"}},{path:\":stageID/questions/:contentID\",name:\"VAA_QUESTIONS_ENTRY\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,\"6a52\"))},meta:{assemblyAcl:\"delegate\"}},{path:\":stageID/questions\",name:\"VAA_QUESTIONS\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,\"6a52\"))},meta:{assemblyAcl:\"delegate\"}},{path:\":stageID/topics\",name:\"VAA_TOPICS\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(29)]).then(n.bind(null,\"6119\"))},meta:{assemblyAcl:\"delegate\"}},{path:\"\",name:\"VAA\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,\"e955\"))},meta:{hideAssemblyMenu:!0,assemblyAcl:\"delegate\"}}]}],oe=re,se=[{path:\"/:assemblyIdentifier/survey/:stageID\",name:\"SURVEY\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(26)]).then(n.bind(null,\"7bbf\"))},meta:{assemblyAcl:\"delegate\"}}],ie=se,ae=[{path:\"/:assemblyIdentifier/profile/:stageID\",name:\"PROFILEUPDATE\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(25)]).then(n.bind(null,\"0079\"))}}],ue=ae,le=[];le.push.apply(le,Q()(oe)),le.push.apply(le,Q()(ne)),le.push.apply(le,Q()(ie)),le.push.apply(le,Q()(ue));var ce=le,de={topmenu:\"assemblies_ongoing_list\"},fe={assemblyAcl:\"delegate\"},me={assemblyAcl:\"manager\"},he=[{path:\"/\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,\"713b\"))},children:[{path:\"\",name:\"home\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(23)]).then(n.bind(null,\"8b24\"))}},{path:\"/authorization\",props:!0,name:\"authorization\",component:function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,\"28e6\"))}},{path:\"/logout\",name:\"logout\",component:function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,\"ca28\"))}},{path:\"/t/:ttoken\",name:\"tokenlogin\",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,\"75d2\"))}},{path:\"/l/:ltoken\",name:\"ltokenlogin\",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,\"75d2\"))}},{path:\"/sekretariat\",name:\"profile\",props:!0,component:function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,\"1640\"))}},{path:\"/hintergrund\",name:\"background\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,\"33d5\"))}},{path:\"/news\",name:\"news\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(24)]).then(n.bind(null,\"4b86\"))}},{path:\"/pause\",name:\"pause\",component:function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,\"5a06\"))}},{path:\"/impressum\",name:\"impressum\",component:function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,\"acc6\"))}},{path:\"/:assemblyIdentifier/agenda/:stageID\",name:\"assembly_home_stepper\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,\"36c9\"))},meta:h()(h()({},de),fe)},{path:\"/:assemblyIdentifier/stage/:stageID\",name:\"stage\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,\"3963\"))},meta:de},{path:\"/:assemblyIdentifier/stage/:stageID/:contenttreeID\",name:\"contenttree\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,\"3963\"))},meta:de},{path:\"/:assemblyIdentifier/stage/:stageID/:contenttreeID/:contentID\",name:\"content\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,\"3963\"))},meta:de}].concat(Q()(ce),[{path:\"/:assemblyIdentifier\",name:\"assembly_home\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,\"36c9\"))},meta:h()(h()({},de),fe)},{path:\"/:assemblyIdentifier/manage\",name:\"assembly_manage\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,\"20d5\"))},meta:me},{path:\"/:assemblyIdentifier/manage/tree/:stageID/:contenttreeID\",name:\"assembly_manage_tree\",component:function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,\"39ad\"))},meta:me},{path:\"*\",component:function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,\"e51e\"))}}])}],ge=he,pe=new X[\"a\"]({scrollBehavior:function(e,t){if(e.hash){var n={selector:e.hash,offset:{y:100}};return n}return e.params.savePosition?{}:{x:0,y:0}},routes:ge,mode:\"history\",base:\"/\"}),be=Object(Z[\"route\"])((function(e){var t=e.Vue;return t.use(X[\"a\"]),pe.beforeEach((function(e,t,n){var r;return null!==(r=e.params)&&void 0!==r&&r.assemblyIdentifier&&(console.log(\"0\",\"kkkkkkk\"),1==parseInt(\"0\"))?n(\"/pause\"):n()})),pe.afterEach((function(e,t){var n,r,o;null!==(n=e.params)&&void 0!==n&&n.assemblyIdentifier&&(v[\"a\"].setAssemblyIdentifier(e.params.assemblyIdentifier),null!==(null===(r=e.params)||void 0===r?void 0:r.stageID)&&void 0!==(null===(o=e.params)||void 0===o?void 0:o.stageID)&&(v[\"a\"].setStageID(e.params.stageID),p[\"a\"].$emit(\"showLoading\")))})),pe.currentRouteObject=function(){return{name:this.currentRoute.name,params:this.currentRoute.params}},pe.pushR=function(e){var t=this.resolve(e).href,n=this.resolve(this.currentRouteObject()).href;t===n?p[\"a\"].$emit(\"reload\"):this.push(e)},pe.pushI=function(e){var t=this.resolve(e).href,n=this.resolve(this.currentRouteObject()).href;t!==n&&this.push(e)},pe.anchor=function(e){var t=document.querySelector(\"a[name=\".concat(e,\"]\"));console.log(t,\"el\"),t&&t.scrollIntoView();var n=200,r=window.scrollY;r&&window.scroll(0,r-n)},pe})),_e=n(\"bc78\"),ve=_e[\"a\"].changeAlpha,Ie={randomSeed:null,publicProfile:{},oauthAcls:[],AMCache:{}},ye={randomLocalStorageSeed:function(e){return e.randomSeed},is_in_testing_phase:function(e){var t,n;return e.publicProfile?null===(t=e.publicProfile)||void 0===t||null===(n=t.configuration)||void 0===n?void 0:n.t:null},get_public_profile:function(e){return e.publicProfile?e.publicProfile.user:null},lightProfileColor:function(e,t){var n,r=null===(n=e.publicProfile)||void 0===n?void 0:n.user;return r?ve(r.CO,.2):\"#CCCCCC\"},profileColor:function(e,t){var n,r=null===(n=e.publicProfile)||void 0===n?void 0:n.user;return r?r.CO:\"#AAAAAA\"},oauthAcls:function(e){return console.log(\"get acls transmitted via JWT token\"),e.oauthAcls},translateOauthAcls:function(e,t){return function(e){var n=t.oauthAcls;if(!n)return[];var r=n.filter((function(t){return t.endsWith(\"@\".concat(e))})),o=(r=r.map((function(e){return e.split(\"@\")[0]})),[]);return r.includes(\"administrator\")&&o.push(\"administrate\",\"manage\",\"observe\"),r.includes(\"manager\")&&o.push(\"manage\",\"observe\"),r.includes(\"delegate\")&&o.push(\"delegate\",\"modify\",\"add\",\"observe\"),r.includes(\"contributor\")&&o.push(\"contribute\",\"observe\"),r.includes(\"expert\")&&o.push(\"expert\",\"observe\"),s[\"default\"].prototype.pkce.isAuthorized()&&o.push(\"observe\"),o}},getAMCache:function(e){return function(t){return e.AMCache[t]}}},we={touchRandomSeed:function(e){var t=e.commit;t(\"set_random_seed\")},setAMCache:function(e,t){var n=e.commit,r=t.cacheKey,o=t.itemId;n(\"setAMCache\",{cacheKey:r,itemId:o})},syncProfile:function(e,t){var n,r=e.state,o=e.dispatch,s=(e.localgetters,e.rootState,e.rootGetters,t.oauthUserID),i=t.oauthUserEmail;if(!s)return o(\"deletePublicProfile\"),null;if(!r.publicProfile)return o(\"retrievePublicProfile\",{oauthUserID:s,oauthUserEmail:i}),null;var a=s!=r.publicProfile.access_sub;a&&o(\"deletePublicProfile\");var u=k[\"a\"].expiredCacheDate(null===(n=r.publicProfile)||void 0===n?void 0:n.access_date);return u||a?(console.log(\" Public Profile not in sync  or wrong user...\"),o(\"retrievePublicProfile\",{oauthUserID:s,oauthUserEmail:i}),null):null},gotoProfile:function(e){e.state,e.dispatch,e.localgetters,e.rootState,e.rootGetters;var t=pe.currentRouteObject();console.log(t),\"profile\"==t.name?p[\"a\"].$emit(\"reload\"):pe.push({name:\"profile\",params:{destination_route:t}})},deletePublicProfile:function(e){var t=e.commit;t(\"storePublicProfile\",{}),t(\"deleteAMCahce\")},retrievePublicProfile:function(e,t){var n=e.commit;e.dispatch,t.oauthUserID,t.oauthUserEmail;k[\"a\"].publicProfile().then((function(e){var t=e.data;return n(\"storePublicProfile\",{data:t}),null})).catch((function(e){console.warn(e),console.warn(\"Request Error\")}))},storeOauthAcls:function(e,t){var n=e.commit,r=t.oauthAcls;n(\"storeOauthAcls\",r)}},Ee={storePublicProfile:function(e,t){var n=t.data;s[\"default\"].set(e,\"publicProfile\",n)},storeOauthAcls:function(e,t){s[\"default\"].set(e,\"oauthAcls\",t)},set_random_seed:function(e){if(!e.randomSeed){var t=Math.floor(Math.random()*Math.floor(99))+1;e.randomSeed=t}},setAMCache:function(e,t){var n=t.cacheKey,r=t.itemId;e.AMCache[n]=r},deleteAMCahce:function(e){e.AMCache={}}},Te={namespaced:!0,state:Ie,mutations:Ee,actions:we,getters:ye},Oe={publicIndex:null},De={ongoing_assemblies:function(e){var t=e.publicIndex;if(null===t)return null;var n=Object.filter(e.publicIndex.assemblies,(function(e){return e.is_active}));return Object.values(n)},published_assemblies:function(e){if(null===e.publicIndex||void 0===e.publicIndex)return null;var t=Object.filter(e.publicIndex.assemblies,(function(e){return e.is_public}));return Object.values(t)},UsersManagerAssemblies:function(e,t,n,r){if(0===e.publicIndex.assemblies.length)return!1;var o=r[\"publicprofilestore/translateOauthAcls\"],s=Object.filter(e.publicIndex.assemblies,(function(e){var t=o(e.identifier);return t.includes(\"manage\")}));return Object.values(s)},UsersDelegateAssemblies:function(e,t,n,r){if(null===t.ongoing_assemblies)return null;if(0===t.ongoing_assemblies.length)return!1;var o=r[\"publicprofilestore/translateOauthAcls\"],s=Object.filter(t.ongoing_assemblies,(function(e){var t=o(e.identifier);return t.includes(\"delegate\")}));return Object.values(s)},IsUserDelegateOfOngoingAssembly:function(e,t){var n=t.UsersDelegateAssemblies;return n&&Object.values(n).length>0},IsThereAnAssemblyInPublicState:function(e,t){return null==e.published_assemblies?null:e.published_assemblies.length>0},IsThereAnAssemblyOngoing:function(e,t){return null===t.ongoing_assemblies?null:t.ongoing_assemblies.length>0},IsThereNothingGoingOn:function(e,t){return null===t.IsThereAnAssemblyInPublicState||null===t.IsThereAnAssemblyInPublicState?null:!t.IsThereAnAssemblyOngoing&&!t.IsThereAnAssemblyInPublicState},isUserAssemblyManager:function(e,t,n,r){return function(e){var t=r[\"publicprofilestore/translateOauthAcls\"],n=t(e);return n.includes(\"manage\")}}},Se={syncPublicIndex:function(e){var t=e.state,n=e.dispatch;e.localgetters,e.rootState,e.rootGetters;if(null===t.publicIndex||void 0===t.publicIndex)return console.log(\"...public Index cache is empty\"),n(\"retrievePublicIndex\"),null;var r=k[\"a\"].expiredCacheDate(t.publicIndex.access_date);return r&&(console.log(\"public Index cache is outdated\"),n(\"retrievePublicIndex\")),null},retrievePublicIndex:function(e){var t=e.commit;console.log(\"Retrieve publicIndex from resource server\"),k[\"a\"].retrievePublicIndex().then((function(e){console.assert(null!==e.data&&void 0!==e.data),t(\"storePublicIndex\",e.data)})).catch((function(e){console.log(e),console.warn(\"Request Error\")}))}},Ae={storePublicIndex:function(e,t){s[\"default\"].set(e,\"publicIndex\",t)}},ke={namespaced:!0,state:Oe,mutations:Ae,actions:Se,getters:De},Re=R[\"b\"].getDateDiff;s[\"default\"].use(g[\"a\"]);var Ne=new g[\"a\"].Store({modules:{publicprofilestore:Te,assemblystore:Y,publicindexstore:ke,contentstore:z,peerreviewstore:H},plugins:[Object(A[\"a\"])()],strict:!1,state:{monitor_buffer:[],monitor_date:Date.now()},actions:{clearUserData:function(e){e.state;var t=e.dispatch,n=e.commit;t(\"monitorExit\"),t(\"publicprofilestore/deletePublicProfile\",{commit:n}),t(\"contentstore/deleteContentStore\",{commit:n}),t(\"peerreviewstore/deletePeerreviewStore\",{commit:n}),t(\"assemblystore/deleteAssemblyStore\",{commit:n})},monitorSetup:function(e){e.state,e.dispatch;var t=e.commit;t(\"monitor_setup\"),console.log(\"/setup \")},monitorExit:function(e){e.state,e.dispatch;var t=e.commit;t(\"monitor_reset\",{});var n=null;t(\"monitor_update_date\",{now:n})},monitorReset:function(e){e.state,e.dispatch;var t=e.commit;console.log(\"API Monitored. => Clear Buffer\"),t(\"monitor_reset\",{})},monitorFire:function(e,t){var n=e.state,r=e.dispatch,o=e.commit,i=t.eventString,a=t.data;if(console.log(\"/fire \",i),i&&o(\"monitor_add\",{eventString:i,data:a}),!n.monitor_buffer||0==n.monitor_buffer.length)return null;var u=new Date;o(\"monitor_update_date\",{now:u}),k[\"a\"].monitorActivities(n.monitor_buffer).then((function(e){var t,n;if(!e.ok)return null;if(console.log(\"ACTION MONITORED: OK!\"),null!==(t=e.response.errors)&&void 0!==t&&t.length&&e.response.errors.forEach((function(e){console.error(e.message,e.event)})),null!==(n=e.response.warnings)&&void 0!==n&&n.length){var i=[];e.response.warnings.forEach((function(e){var t,n,r;if(null!==(t=e.event)&&void 0!==t&&t.eventString&&!i.includes(null===(n=e.event)||void 0===n?void 0:n.eventString)){i.push(null===(r=e.event)||void 0===r?void 0:r.eventString);var o=e.message;o in _[\"a\"].MONITOR_WARNING_MESSAGES&&(o=_[\"a\"].MONITOR_WARNING_MESSAGES[o]),s[\"default\"].prototype.$q.notify({type:\"nFabrikWarning\",message:o})}}))}k[\"a\"].oauthSessionActive()&&r(\"updateStore\",{data:e.response}),o(\"monitor_reset\",{now:u})}))},monitorLog:function(e,t){var n=e.state,r=e.dispatch,o=e.commit,s=t.eventString,i=t.data;if(s&&o(\"monitor_add\",{eventString:s,data:i}),!n.monitor_buffer||0==n.monitor_buffer.length)return null;var a=Date.now();if(Re(a,n.monitor_date,\"seconds\")<2*parseInt(\"60\"))return null;i={},s=null,r(\"monitorFire\",{eventString:s,data:i})},updateStore:function(e,t){e.state;var n=e.dispatch,r=e.commit,o=t.data;\"assemblies\"in o&&(Object.keys(o.assemblies).map((function(e){var t=o.assemblies[e];if(\"assembly\"in t){var n=t.assembly;r(\"assemblystore/storeAssemblyObject\",{assemblyIdentifier:e,assembly:n})}if(\"progression\"in t){var s=t.progression;r(\"assemblystore/storeAssemblyProgression\",{assemblyIdentifier:e,progression:s})}})),\"stages\"in o&&Object.keys(o.stages).map((function(e){var t=o.stages[e];if(\"stage\"in t){var n=t.stage;r(\"assemblystore/storeStageObject\",{stageID:e,stage:n})}if(\"progression\"in t){var s=t.progression;r(\"assemblystore/storeStageProgression\",{stageID:e,progression:s})}})),\"contents\"in o&&(console.log(\"RETRIEVED MODIFIED CONTENTS\",o.contents),n(\"contentstore/update_contents\",{modifiedContents:o.contents})),\"peerreviews\"in o&&(console.log(\"RETRIEVED MODIFIED PEERREVIEWS\",o.peerreviews),n(\"peerreviewstore/updatePeerreviewTuples\",{modifiedPeerreviews:o.peerreviews})))}},mutations:{monitor_setup:function(e){var t=new Date;s[\"default\"].set(e,\"monitor_date\",t)},monitor_add:function(e,t){var n=t.eventString,r=t.data,o=e.monitor_buffer,i=new Date;o.push({eventString:n,data:r,date:i}),s[\"default\"].set(e,\"monitor_buffer\",o)},monitor_update_date:function(e,t){var n=t.now;s[\"default\"].set(e,\"monitor_date\",n)},monitor_reset:function(e,t){var n=t.now;if(n||(n=new Date),!e.monitor_buffer)return null;var r=e.monitor_buffer.filter((function(e){return Re(e.date,n,\"seconds\")>0}));s[\"default\"].set(e,\"monitor_date\",n),s[\"default\"].set(e,\"monitor_buffer\",r)}}}),Pe=function(){return xe.apply(this,arguments)};function xe(){return xe=o()(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(\"function\"!==typeof Ne){e.next=6;break}return e.next=3,Ne({Vue:s[\"default\"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Ne;case 7:if(t=e.t0,\"function\"!==typeof be){e.next=14;break}return e.next=11,be({Vue:s[\"default\"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=be;case 15:return n=e.t1,t.$router=n,r={router:n,store:t,render:function(e){return e(S)}},r.el=\"#q-app\",e.abrupt(\"return\",{app:r,store:t,router:n});case 20:case\"end\":return e.stop()}}),e)}))),xe.apply(this,arguments)}n(\"c740\"),n(\"a434\");var Ce=n(\"09f9\"),Me=n(\"32801\"),$e=n.n(Me);n(\"4c53\");n.e(30).then(n.t.bind(null,\"ce78\",7));var Ue=n(\"8c57\"),Le=Ue.OAuth2AuthCodePKCE,ze={install:function(e,t){e.prototype.pkce=new Le(t),e.prototype.login=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;localStorage.setItem(\"oauth2authcodepkce-destination\",JSON.stringify(t)),e.prototype.pkce.fetchAuthorizationCode()},e.prototype.refresh_token=o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(\"@@@ START TOKEN REFRESH\"),e.prototype.setOngoingTokenRefresh(!0),t.prev=2,t.next=5,e.prototype.pkce.exchangeRefreshTokenForAccessToken();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](2),console.log(\"Error while refreshing token #83\",t.t0);case 10:n=e.prototype.pkce.state.accessToken.value,b[\"a\"].$emit(\"TokenChanges\",n),b[\"a\"].$emit(\"AfterTokenChanged\",n),e.prototype.setOngoingTokenRefresh(!1),console.log(\"@@@ END WITH REFRESH\");case 15:case\"end\":return t.stop()}}),t,null,[[2,7]])}))),e.prototype.ensureNoRefreshTokenIsOngoing=o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=0,r=4,t.abrupt(\"return\",new Promise((function(t,o){(function s(){return e.prototype.getOngoingTokenRefresh()?(n++,n>=10*r?(console.log(\"(infinity loop)\"),e.prototype.setOngoingTokenRefresh(!1),o(\"infinity loop\")):(console.log(\".\"),void setTimeout(s,100))):t()})()})));case 3:case\"end\":return t.stop()}}),t)}))),e.prototype.getOngoingTokenRefresh=o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",e.prototype.pkce.state.ongoingTokenRefresh);case 1:case\"end\":return t.stop()}}),t)}))),e.prototype.setOngoingTokenRefresh=function(){var t=o()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.prototype.pkce.state.ongoingTokenRefresh=n,console.log(\" ongoing SHALL BE \",n);case 2:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.prototype.oauth=new e({data:function(){return{jwt:null}},computed:{authorized:function(){var t,n,r;this.jwt||(this.jwt=null===(t=e.prototype.pkce)||void 0===t||null===(n=t.state)||void 0===n||null===(r=n.accessToken)||void 0===r?void 0:r.value);var o=this.jwt&&e.prototype.pkce.isAuthorized();return!!o},ongoing:function(){return null===this.authorized||void 0===this.authorized},payload:function(){return this.authorized?JSON.parse(window.atob(this.jwt.split(\".\")[1])):null},userid:function(){var e;return null===(e=this.payload)||void 0===e?void 0:e.sub}},methods:h()(h()({},Object(g[\"b\"])({storeOauthAcls:\"publicprofilestore/storeOauthAcls\"})),{},{expiredJWT:function(){if(this.payload)return console.log(\"EXPIRES IN \",Math.round(this.payload.exp-(new Date).getTime()/1e3,1)/60,\" minutes.\"),this.payload.exp<(new Date).getTime()/1e3+5},refresh_token_if_required:function(){var t=o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.prototype.pkce.isAuthorized()){t.next=2;break}return t.abrupt(\"return\",!0);case 2:return t.next=4,this.expiredJWT();case 4:if(!t.sent){t.next=15;break}if(!e.prototype.getOngoingTokenRefresh()){t.next=10;break}return t.next=8,e.prototype.ensureNoRefreshTokenIsOngoing().catch((function(e){return!1}));case 8:t.next=11;break;case 10:e.prototype.setOngoingTokenRefresh(!0);case 11:if(!this.expiredJWT()){t.next=14;break}return t.next=14,e.prototype.refresh_token();case 14:e.prototype.setOngoingTokenRefresh(!1);case 15:return t.abrupt(\"return\",!0);case 16:case\"end\":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),logout:function(){var t=this;return o()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(\"$$$ LOGOUT IN PLUGIN\"),e.prototype.pkce.reset(),t.jwt=null,b[\"a\"].$emit(\"TokenChanges\",null),b[\"a\"].$emit(\"AfterTokenChanged\",null),setTimeout((function(){return b[\"a\"].$emit(\"AfterLogout\")}),10);case 6:case\"end\":return n.stop()}}),n)})))()},initialize:function(){var t=o()(regeneratorRuntime.mark((function t(){var n,r,o,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b[\"a\"].$on(\"TokenChanges\",(function(e){i.jwt=e})),t.next=3,e.prototype.pkce.isReturningFromAuthServer().catch((function(e){e&&(console.log(e,\"#4385\"),Promise.reject(e)),console.log(\"catch without potentialError?\",e)}));case 3:return n=t.sent,r=null,t.prev=5,t.next=8,e.prototype.pkce.getAccessToken();case 8:r=t.sent,r=null===(o=r)||void 0===o||null===(s=o.token)||void 0===s?void 0:s.value,t.next=15;break;case 12:t.prev=12,t.t0=t[\"catch\"](5),console.log(\"Not logged in, right?\",t.t0);case 15:b[\"a\"].$emit(\"TokenChanges\",r),b[\"a\"].$emit(\"AfterTokenChanged\",r),n&&b[\"a\"].$emit(\"AfterLogin\");case 18:case\"end\":return t.stop()}}),t,null,[[5,12]])})));function n(){return t.apply(this,arguments)}return n}()})})}},je={install:function(e,t){e.prototype.$assemblyTypes.push(\"VAA\")}};s[\"default\"].prototype.Constants=_[\"a\"];var Be=Ce[\"a\"].sizes;Be.md=850,Be.sm=450,Ce[\"a\"].setSizes(Be),s[\"default\"].use($e.a,{namedConfigurations:{alink:{ADD_ATTR:[\"target\"]}}}),Object.filter=function(e,t){return Object.keys(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return t[n]=e[n],t}),{})},s[\"default\"].prototype.$nLength=function(e){return null===e?0:e.length},s[\"default\"].prototype.$loaded=function(e){return null!==e&&void 0!==e},s[\"default\"].prototype.$sample=function(e){return e[Math.floor(Math.random()*e.length)]},s[\"default\"].prototype.$pushSorted=function(e,t){if(!t.content.order_position)return e.push(t),e;function n(e,t){var n=e.findIndex((function(e){return e.content.order_position>t.content.order_position}));return-1===n?e.length:n}var r=n(e,t);return e.splice(r,0,t),e},s[\"default\"].prototype.$getOffsetTop=function(e){var t=0;while(e)t+=e.offsetTop,e=e.offsetParent;return t},l[\"a\"].registerType(\"nFabrikInfo\",{icon:\"mdi-announcement\",color:\"brown\",textColor:\"white\",classes:\"glossy\"}),l[\"a\"].registerType(\"nFabrikError\",{icon:\"mdi-error\",color:\"red\",textColor:\"white\",classes:\"glossy\"}),l[\"a\"].registerType(\"nFabrikWarning\",{icon:\"mdi-warning\",color:\"orange-10\",textColor:\"white\"});var Fe={authorizationUrl:\"\".concat(\"http://localhost:8010\",\"/o/authorize/\"),tokenUrl:\"\".concat(\"http://localhost:8010\",\"/o/token/\"),clientId:\"xF6n5vYaxCp3GJXDkKBFgHJlY25Z3U4MmT3N2Grk\",scopes:[\"read\"],redirectUrl:\"\".concat(\"http://localhost\").concat(\"/authorization\"),onAccessTokenExpiry:function(e){return console.log(\"Expired! Access token needs to be renewed. (onAccessTokenExpiry)\"),e()},onInvalidGrant:function(e){if(!v[\"b\"].appExitState)throw console.log(\"TOKEN REFRESH FAILED\"),new Error(\"ErrorInvalidGrant\");Promise.resolve()}};s[\"default\"].use(ze,Fe),s[\"default\"].prototype.$assemblyTypes=[],s[\"default\"].use(je);var Ge=n(\"8847\"),He=\"/\";function We(){return Ke.apply(this,arguments)}function Ke(){return Ke=o()(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:t=e.sent,n=t.app,r=t.store,o=t.router,i=!1,a=function(e){i=!0;var t=Object(e)===e?o.resolve(e).route.fullPath:e;window.location.href=t},u=window.location.href.replace(window.location.origin,\"\"),l=[void 0,Ge[\"a\"]],c=0;case 11:if(!(!1===i&&c<l.length)){e.next=29;break}if(\"function\"===typeof l[c]){e.next=14;break}return e.abrupt(\"continue\",26);case 14:return e.prev=14,e.next=17,l[c]({app:n,router:o,store:r,Vue:s[\"default\"],ssrContext:null,redirect:a,urlPath:u,publicPath:He});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e[\"catch\"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt(\"return\");case 24:return console.error(\"[Quasar] boot error:\",e.t0),e.abrupt(\"return\");case 26:c++,e.next=11;break;case 29:if(!0!==i){e.next=31;break}return e.abrupt(\"return\");case 31:new s[\"default\"](n);case 32:case\"end\":return e.stop()}}),e,null,[[14,19]])}))),Ke.apply(this,arguments)}We()},\"5319b\":function(e,t,n){\"use strict\";n(\"4de4\"),n(\"4160\"),n(\"caad\"),n(\"e260\"),n(\"d3b7\"),n(\"07ac\"),n(\"2532\"),n(\"159b\"),n(\"ddb0\");var r=n(\"ded3\"),o=n.n(r),s=n(\"2f62\"),i=n(\"c937\"),a=n(\"28e9\"),u=n(\"9651\"),l=n(\"c75e\"),c=n(\"c9d9\");t[\"a\"]={mixins:[i[\"a\"],Object(a[\"ReactiveProvideMixin\"])({name:\"CONTENTTREE\",include:[\"contenttreeID\",\"contenttree\",\"salienceCompleted\",\"rootElements\",\"rootNode\",\"limitForAddingProposalsReached\",\"limitForAddingCommentsReached\"]})],provide:function(){return{getContentReference:this.getContentReference,isRead:this.isRead,isAlerted:this.isAlerted,markDiscussed:this.markDiscussed,markRead:this.markRead,openIndex:this.openIndex,openArgument:this.openArgument,filter_entries:this.filter_entries}},data:function(){return{}},watch:{contenttreeID:function(e,t){e&&this.$store.dispatch(\"contentstore/syncContenttree\",{assemblyIdentifier:u[\"b\"].assemblyIdentifier,contenttreeID:e,oauthUserID:this.oauth.userid})}},computed:o()({ready:function(){var e=this.$loaded(this.contenttree)&&this.$loaded(this.contenttree.rootElementIds);return e&&l[\"a\"].$emit(\"hideLoading\"),e},contenttreeID:function(){var e,t,n,r,o,s;return console.log(\"load contenttreeID in contentree.computed\"),this.routed_stage&&null!==(e=this.routed_stage)&&void 0!==e&&null!==(t=e.stage)&&void 0!==t&&t.contenttree_id?(console.log(\"contenttreeID\",null===(n=this.routed_stage)||void 0===n||null===(r=n.stage)||void 0===r?void 0:r.contenttree_id),null===(o=this.routed_stage)||void 0===o||null===(s=o.stage)||void 0===s?void 0:s.contenttree_id):(console.log(\" routed_stage not loaded\"),null)},contenttree:function(){if(console.log(\"load contenttree in contentree.computed\"),!this.contenttreeID)return null;console.assert(u[\"b\"].assemblyIdentifier);var e=this.get_contenttree({contenttreeID:this.contenttreeID});return console.log(\"contenttree\",e),e},contents:function(){return this.contenttree.entries},rootNode:function(){return{id:null,path:[],children:this.rootElements}},rootElements:function(){var e,t=this;if(null!==(e=this.contenttree)&&void 0!==e&&e.rootElementIds){var n=[];return this.contenttree.rootElementIds.forEach((function(e){var r=t.contenttree.entries[e];n=t.$pushSorted(n,r)})),n}},salienceCompleted:function(){if(this.routed_stage)return 0==this.numberOfUnsaliencedTopLevelEntries},numberOfUnratedTopLevelEntries:function(){var e=this;if(null==this.contenttree)return null;var t=this.rootElements.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.rating)}));return Object.values(t).length},numberOfUnsaliencedTopLevelEntries:function(){var e=this;if(null==this.contenttree)return null;var t=this.rootElements.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.salience)}));return Object.values(t).length}},Object(s[\"c\"])({get_contenttree:\"contentstore/get_contenttree\"})),methods:o()({openIndex:function(){this.$router.push({name:this.routed_stage.stage.type,params:{assemblyIdentifier:u[\"b\"].assemblyIdentifier,stageID:u[\"b\"].stageID}})},openArgument:function(e){this.standalone||this.$router.push({name:this.routed_stage.stage.type,params:{assemblyIdentifier:u[\"b\"].assemblyIdentifier,stageID:u[\"b\"].stageID,contentID:e}})},filter_entries:function(e,t){if(!e)return null;var n=e.filter((function(e){return t.includes(e.content.type)}));return n},isRead:function(e){var t;return!(null===e||void 0===e||null===(t=e.progression)||void 0===t||!t.read)},isAlerted:function(e){var t;return!(null===e||void 0===e||null===(t=e.progression)||void 0===t||!t.alerted)},isSalienced:function(e){var t;return this.$loaded(null===(t=e.progression)||void 0===t?void 0:t.salience)},isRated:function(e){var t;this.$loaded(null===(t=e.progression)||void 0===t?void 0:t.rating)},markRead:function(e){var t={contentID:e.content.id};this.$root.monitorLog(c[\"a\"].MONITOR_SET_CONTENT_READ,t),this.update_read({contenttreeID:this.contenttreeID,contentID:e.content.id})},getContentReference:function(e){console.assert(e);var t=this.contenttree.entries[e];return t.content.title},markDiscussed:function(e){var t={contentID:e.content.id};this.$root.monitorLog(c[\"a\"].MONITOR_SET_CONTENT_DISCUSSED,t),this.update_discussed({contenttreeID:this.CONTENTTREE.contenttreeID,contentID:e.content.id})}},Object(s[\"b\"])(\"contentstore\",[\"update_read\",\"update_discussed\"])),mounted:function(){var e;null!==(e=this.routed_stage)&&void 0!==e&&e.stage.contenttree_id&&this.oauth.userid&&this.$store.dispatch(\"contentstore/syncContenttree\",{assemblyIdentifier:u[\"b\"].assemblyIdentifier,contenttreeID:this.routed_stage.stage.contenttree_id,oauthUserID:this.oauth.userid})}}},\"5e55\":function(e,t,n){\"use strict\";n(\"d3af\")},\"7c15\":function(e,t,n){\"use strict\";n(\"99af\"),n(\"96cf\");var r=n(\"c973\"),o=n.n(r),s=n(\"2105\"),i=n(\"bd4c\"),a=n(\"2b0e\");t[\"a\"]={expiredCacheDate:function(e){if(!e)return!1;e=new Date(e);var t=i[\"b\"].addToDate(e,{minutes:parseInt(\"20\")});return new Date(Date.now())>t},expiredUpdateDate:function(e){if(!e)return!1;e=new Date(e);var t=i[\"b\"].addToDate(e,{minutes:parseInt(\"1\")});return new Date(Date.now())>t},authProfile:function(e){return o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(\"API authProfile\"),t.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return e.client_id=\"xF6n5vYaxCp3GJXDkKBFgHJlY25Z3U4MmT3N2Grk\",n=\"\".concat(\"http://localhost:8010\",\"/accounts/emailupdate\"),r={method:\"post\",url:n,data:e,headers:{\"content-type\":\"application/json\"}},t.abrupt(\"return\",s[\"a\"].customRequest(r));case 7:case\"end\":return t.stop()}}),t)})))()},publicProfile:function(){return o()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(\"API publicProfile\"),e.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return t=\"\".concat(\"http://localhost:8020\",\"/profile\"),e.next=6,s[\"a\"].get(t);case 6:return e.abrupt(\"return\",e.sent);case 7:case\"end\":return e.stop()}}),e)})))()},apireset:function(e){return o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(\"API reset\"),t.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return n=\"\",n=\"\".concat(\"http://localhost:8020\",e?\"/user/fullreset\":\"/user/dayreset\"),t.abrupt(\"return\",s[\"a\"].get(n));case 6:case\"end\":return t.stop()}}),t)})))()},monitorActivities:function(e){return o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a[\"default\"].prototype.oauth.refresh_token_if_required();case 2:return n=\"\".concat(\"http://localhost:8020\",\"/monitor\"),t.next=5,s[\"a\"].post(n,{buffer:e});case 5:return r=t.sent,t.abrupt(\"return\",r.data);case 7:case\"end\":return t.stop()}}),t)})))()},retrievePublicIndex:function(){return o()(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(\"API retrievePublicIndex\"),t=\"\".concat(\"http://localhost:8020\",\"/assemblies\"),n={method:\"GET\",url:t,WithoutAuthHeader:!0},e.next=5,s[\"a\"].customRequest(n);case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}}),e)})))()},retrieveAssembly:function(e){return o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(\"API retrieveAssembly\"),t.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return n=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e),t.next=6,s[\"a\"].get(n);case 6:return t.abrupt(\"return\",t.sent);case 7:case\"end\":return t.stop()}}),t)})))()},addOrUpdateStage:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a[\"default\"].prototype.oauth.refresh_token_if_required();case 2:return r=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/stage\"),t.id&&(r+=\"/\".concat(t.id)),n.abrupt(\"return\",s[\"a\"].post(r,{stage:t}));case 5:case\"end\":return n.stop()}}),n)})))()},updateAssembly:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a[\"default\"].prototype.oauth.refresh_token_if_required();case 2:return r=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/assembly/form/\").concat(t.id),console.assert(t.id),n.abrupt(\"return\",s[\"a\"].post(r,{assembly:t}));case 5:case\"end\":return n.stop()}}),n)})))()},retrieveContenttree:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(\"API retrieveContenttree\"),n.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return r=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/contenttree/\").concat(t,\"/contenttree\"),n.next=6,s[\"a\"].get(r);case 6:return n.abrupt(\"return\",n.sent);case 7:case\"end\":return n.stop()}}),n)})))()},updateContenttree:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(\"API retrieveContenttree\"),r.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return o=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/contenttree/\").concat(t,\"/update\"),r.next=6,s[\"a\"].post(o,{content:{update_date:n}});case 6:return r.abrupt(\"return\",r.sent);case 7:case\"end\":return r.stop()}}),r)})))()},saveContent:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(\"API saveContent\"),r.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return o=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e),n.id?o+=\"/content/\".concat(n.id,\"/save\"):o+=\"/contenttree/\".concat(t,\"/addcontent\"),r.next=7,s[\"a\"].post(o,{content:n});case 7:return r.abrupt(\"return\",r.sent);case 8:case\"end\":return r.stop()}}),r)})))()},proposeContent:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(\"API saveContent\",t),r.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return o=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e),n.id?o+=\"/content/\".concat(n.id,\"/propose\"):o+=\"/contenttree/\".concat(t,\"/propose\"),r.next=7,s[\"a\"].post(o,{content:n});case 7:return r.abrupt(\"return\",r.sent);case 8:case\"end\":return r.stop()}}),r)})))()},contentDetail:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(\"API contentDetail\",t),n.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return r=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/content/\").concat(t,\"/detail\"),n.next=6,s[\"a\"].get(r);case 6:return n.abrupt(\"return\",n.sent);case 7:case\"end\":return n.stop()}}),n)})))()},oauthSessionActive:function(){return!!s[\"a\"].getHeader()},retrievePeerreviews:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(\"API retrievePeerreviews\"),n.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return r=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/contenttree/\").concat(t,\"/peerreviews\"),n.next=6,s[\"a\"].get(r);case 6:return n.abrupt(\"return\",n.sent);case 7:case\"end\":return n.stop()}}),n)})))()},updatePeerreviews:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(\"API updatePeerreviews\"),r.next=3,a[\"default\"].prototype.oauth.refresh_token_if_required();case 3:return o=\"\".concat(\"http://localhost:8020\",\"/assembly/\").concat(e,\"/contenttree/\").concat(t,\"/peerreviewupdate\"),r.next=6,s[\"a\"].post(o,{content:{update_date:n}});case 6:return r.abrupt(\"return\",r.sent);case 7:case\"end\":return r.stop()}}),r)})))()}}},8847:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return d}));n(\"99af\"),n(\"4de4\"),n(\"a15b\");var r=n(\"2b0e\"),o=n(\"a925\"),s={app:{name:\"Demokratiefabrik\",version:\"v1.0\",error:{toomanyrequests_error_title:\"Das waren gerade sehr viele Anfragen an unsere Server.\",toomanyrequests_error_body:\"Diese Meldung kann viele Ursachen haben: Zum Beispiel bei zuvielen Anfragen in kurzer Zeit oder auch bei zuvielen verwendeten Gerten pro User. Haben Sie etwas Geduld. Es kann gut sein, dass es nach einer Pause wieder funktioniert.\",authorization_error_title:\"Zugang verweigert\",authorization_error_body:\"Sie sind nicht berechtigt auf diesen Bereich der Demokratiefabrik zuzugreifen.\",service_error_title:\"Betriebsstrung\",service_error_body:\"Im Betrieb der Demokratiefabrik ist eine Strung aufgetreten. Wir bitten Sie um Entschuldigung. Wenn dies das erste Mal auftritt, schlagen wir vor, die Seite neu zu laden.\",network_error_title:\"Kommunikationsstrung\",network_error_body:\"Die Kommunikation innnerhalb der Demokratiefabrik ist gerade beeintrchtigt. Es kann sein, dass dadurch einige Angaben, die sie gemacht haben, nicht an den Server bermittelt werden konnten. Wir bitten dafr um Entschuldigung.\"},btn_close:\"Schliessen\",btn_back:\"Zurck\",btn_next:\"Weiter\",btn_reload:\"Seite neu laden\",btn_skip:\"berspringen\",btn_cancel:\"Abbrechen\",btn_home:\"Zur Startseite\",btn_goto_profile:\"Zum Sekretariat\",ask_for_bookmark_title:\"Hinweis:\",ask_for_bookmark:\"Mchten Sie diese Webseite whrend dem Event in Ihren Favoriten/Lesezeichen speichern? Dann drcken Sie die beiden Tasten {bookmarkKeys}\"},disclaimer:{btnLabel:\"Weiterfhrende Erluterungen\",contenttree:{basic:\"Um die Diskussion bersichtlich zu halten, behalten wir uns vor, die Inhalte innerhalb des Forums\\n      nach belieben zu strukturieren und auch ohne Angaben von Grnden (insbesondere bei Redundanzen und Verstssen gegen unsere AGB) zu lschen. Die Inhalte in diesem Forum werden\\n      in hierarchischer (und nicht in chronologischer) Reihenfolge aufgelistet.\\n      Die Reihenfolge der Inhalte auf gleicher Hierarchiestufe ist zufllig und variiert von Benutzer zu Benutzer.\",extensionExtraLarge:\"Die Diskussion ist schon recht umfassend. Welche bersichtlich bleibt,\\n      wurden nur wenige zufllig ausgewhlte Beitrge vollstndig aufgeklappt.\\n      Sie knnen die restlichen Beitrge selbst per Mausklick ffnen.\",peerreview:\"Alle Teilnehmende knnen auf dieser Seite neue Vorschlge einbringen, wie der Smartvote-Fragebogen besser gemacht werden kann. \\n        Sie knnen also vorschlagen, Smartvote- Fragen zu erstellen, zu bearbeiten oder auch zu lschen.\\n        Zufllig ausgewhlte Teilnehmende werden hier dann angefragt zu diesen Vorschlgen Stellung zu nehmen.\\n        Nach 24 Stunden wird aufgelst: Bei einer Mehrheit an positiven Antworten, werden die Vorschlge automatisch umgesetzt. \"}},am:{actor:{1:\"Felix\",2:\"Sophie\"},gender:{1:function(){return 0},2:function(){return 1}},reference:\"Meine Kollegin {actorPartner} | Mein Kollege {actorPartner}\",tooltip:{1:\"Ich bin {actor}.\",2:\"Ich heisse {actor}\"}},language:{switcher_label:\"Sprachwahl\",items:{\"en-us\":{label:\"English\"},\"de-ch\":{label:\"Deutsch\"}}},menu:{items:{locked:{tooltip:\"Dieser Bereich ist noch nicht zugnglich. Unsere ModeratorInnen haben zuerst noch eine andere Bitte an Sie!\"}}},auth:{name_derivation:'Ihr Namensgeber ist der {altitude} Meter hohe Berg \"{fullname}\" ({canton})',name_derivation_3rd_party:'Der Namensgeber ist der {altitude} Meter hohe Berg \"{fullname}\" ({canton})',name_derivation_3rd_party_short:'in Kniz stimmberechtigt. Das Pseudonym stammt vom {altitude} Meter hohen Berg \"{fullname}\" ({canton})',login_button_label:\"Anmeldung\",logout:\"Abmelden\",login_button_text:\"Klicken Sie auf 'Anmeldung', wenn Sie sich anmelden mchten. Eine Anmeldung ist notwendig, um sich aktiv in der Fabrik zu beteiligen.\",registered_as:\"Ihr Pseudonym\",not_registered:\"Nicht angmeldet\",profile_last_name:\"Pseudonym\",profile_email:\"Email\",profile_email_hint:\"Falls Sie keine Email Adresse besitzen, dann knnen sie auch ihre Handy Nummer eingeben. Wir werden Sie dann via SMS kontaktieren.\",profile_email_disclaimer:\"Sie fragen sich, wozu wir Ihre Emailadresse bentigen? Wir werden Ihnen in den kommenden Tagen wenige Emails zusenden, wie Benachrichtigungen ber wichtige Ereignisse auf der Plattform und eine Einladung zur Nachbefragung fr die wissenschaftliche Begleitstudie. Die Daten werden auf dem Server der Universitt Bern gespeichert und vertraulich behandelt. Gleich nach Ende des Projektes werden wir smtliche Emailadressen wieder von unserm Server an der Universitt Bern lschen.Ihre Emailadressen werden zu keinem Zeitpunkt an Dritte weitergegeben.\",profile_update_action:\"Speichern\",profile_update_success:\"Das Benutzerprofil wurde gespeichert\",profile_update_error:\"Das Benutzerprofil konnte nicht gespeichert werden\",profile_load_error:\"Das Benutzerprofil konnte nicht geladen werden\",goto_authentication_form:\"Zur Anmeldung\",goto_profile_page:\"Benutzerprofil berarbeiten\",tooltip_authenticated:\"Klicken Sie hier um Ihr Benutzerprofil einzusehen oder sich abzumelden.\",tooltip_non_authenticated:\"Sie sind noch nicht in der Demokratiefabrik angemeldet. Hier knnen Sie dies tun.\",logout_succeeded_title:\"Vielen Dank und auf Wiedersehen\",logout_succeeded_caption:\"Natrlich freuen wir uns auf einen erneuten Besuch. Wie wrs gleich morgen?\",authentication_succeeded_title:\"Anmeldung erfolgreich.\",authentication_succeeded_caption:\"Sie haben sich erfolgreich bei der Demokratiefabrik angemeldet. Wir danken Ihnen schon jetzt fr Ihre Mithilfe.\",authentication_warning_title:\"Anmeldung erforderlich.\",authentication_warning_body:\"Sie haben sich noch nicht bei der Demokratiefabrik angemeldet. Fr den Zugriff auf diesen Bereich ist dies jedoch erforderlich.\",authentication_invalid_warning_title:\"Session beendet.\",authentication_invalid_warning_body:\"Hoppla! Um weiterzufahren mssen Sie sich erneut anmelden.\",authentication_error_title:\"Anmeldung schlug fehl.\",authentication_error_body:\"Bei der Anmeldung tratt ein unerwarteter Fehler auf. Bitte kontakieren Sie uns via Email: info@demokratiefabrik.ch\"},stages:{home_title:\"Ihre Agenda fr den {current_date}\",status_completed:\"Nicht mehr zugnglich\",status_not_yet_accessible:\"Noch nicht zugnglich\",status_disabled:\"Deaktiviert\",status_deleted:\"Gelscht\",please_enter_stage:\"ffnen\",goto_next_stage:\"Weiter zum nchsten Punkt\",am:{welcome_full_schedule:\"Dann legen wir los. Heute sind {numberOfStages} Punkte auf Ihrer Agenda.\",welcome_partial_schedule:\"Nun habe ich nur noch eine Bitte fr Heute. | Nun sind es nur noch {numberOfScheduledStages} Punkte fr heute.\",welcome_empty_schedule:\"Super! Ich glaube fr heute haben wir keine konkreten Fragen mehr an sie.\",enter_first:\"Wir fangen hier an. Sind Sie bereit?\",enter_continue:\"Wir fahren hier nun weiter. Sind Sie bereit?\",enter_end:\"Das ist nun mein letzter Wunsch fr heute. Folgen Sie mir bitte folgen.\",already_seen:\"Das haben Sie sich schon angesehen. Jetzt brauchen wir Sie andernorts. Kommen Sie mit?\",all_stages_already_seen:\"Wenn Sie mchten, knnen Sie sich das natrlich noch einmal ansehen?\",already_completed:\"Dieser Bereich haben Sie bereits abgeschlossen.\",attention_needed:\"Bitte folgen Sie mir.\",enter_unique_stage:\"Dies ist heute der einzige Punkt auf dem Programm. Sind Sie bereit?\"}},background:{h1:\"Alles ber die Demokratiefabrik!\",citizen_assemblies:{label:\"Die Demokratiefabrik  ein neuer Ort fr digitale Beteiligung\",text:\"Die Demokratiefabrik ist ein digitaler Ort, wo sich Brgerinnen und Brger treffen, um gemeinsam ber verschiedene Themen zu diskutieren und festgelegte Endprodukte zu fabrizieren. Ziel der Demokratiefabrik ist, die Bevlkerung strker in politische Entscheidungsprozesse einzubeziehen. Obwohl die Digitalisierung hierzu eigentlich zahlreiche Chancen bietet, sind aus verschiedenen Grnden digitale Beteiligungsformate noch stark limitiert, bergen Risiken und haben nicht selten einen schlechten Ruf. Es fehlen sorgfltig entworfene digitale Beteiligungsformate, die es ermglichen, die Demokratie im digitalen Zeitalter zu strken. Mit diesem vom Schweizerischen Nationalfond (SNF) untersttzten Forschungsprojekt wollen wir die Forschung in diesem Bereich vorantreiben. Zu wissen, unter welchen Bedingungen digitale Beteiligungsformen die Demokratie strken knnen, stellt die Grundlage fr eine erfolgreiche Brgerbeteiligung im digitalen Zeitalter dar.\"},digital_participation:{label:\"Was Sie auf unserer digitalen Plattform erwartet\",text:\"Wir haben mit der Demokratiefabrik ein digitales Beteiligungsformat entwickelt, das den Brgerinnen und Brgern ermglicht, eigene Argumente und berzeugungen in den Abstimmungs- und Wahldiskurs einzubringen. Damit soll nicht nur das Vertrauen in Online-Infrastruktur gestrkt, sondern auch die Legitimitt der direkten Demokratie erhht werden. Damit das gelingt, setzen wir auf folgende Neuerungen: Zum einen setzen wir auf die zufllige Auswahl einer reprsentativen Stichprobe von Personen. Zum anderen soll mittels technischer Innovation gewhrleistet werden, dass eine maximale Diversitt von Argumenten und Positionen in die Diskussion einfliessen und dass Teilnehmende im politischen Gestaltungsprozess eine autonome Rolle spielen. Teilnehmende an der Demokratiefabrik haben die Mglichkeit, eigene Beitrge zu verfassen sowie zufllig ausgeloste Beitrge von anderen Nutzenden zu bewerten und zu kommentieren.\"},team:{label:\"Wer fr die Demokratiefabrik verantwortlich ist\",text:\"Beteiligt an den Projekten sind fr die Projektleitung Dr. Marlne Gerber (Hauptverantwortliche), Prof. Dr. Marc Bhlmann, Dr. Anja Heidelberger, Dr. Dominik Wyss (Verantwortlicher Plattform) und Giada Gianola (Doktorandin im Projekt) am Institut fr Politikwissenschaft der Universitt Bern. Das Projekt profitiert vom Expertenwissen von Prof. Dr. Andr Bchtiger (Universitt Stuttgart) und Dr. Marc Klein (MIT, Center for Collective Intelligence). Die smartvote-Fallstudie erfolgt in Zusammenarbeit mit smartvote (Michael Erne). Der Schweizerische Nationalfonds untersttzt das Projekt seit April 2020 fr eine Dauer von 36 Monaten im Rahmen des NFP77 Digitale Transformation.\"},artificialmoderators:{label:\"@:am.actor.2 und @:am.actor.1 - Das Moderatorenteam\",text:\"Bestimmt sind Ihnen bereits Sophie und Felix begegnet. Unser Moderator und unsere Moderatorin begleiten Sie bei der Mitarbeit in der Demokratiefabrik. Sie machen Sie auf die wichtigsten Aufgaben aufmerksam und fhren Sie Schritt fr Schritt durch unsere Plattform.\"},next_steps:{label:\"Die nchsten Schritte\",text:\"Konkret werden im Projekt zwei Prototypen digitaler Beteiligung getestet: 1) Wahlberechtigte stellen einen smartvote-Fragekatalog zusammen und 2) Stimmberechtigte erstellen ein Argumentarium zu einer eidgenssischen Abstimmungsvorlage. Die Demokratiefabrik ist erstmals vom 14. Juni bis 2. Juli 2021 im Einsatz: 9'000 zufllig ausgewhlte Wahlberechtigte der Gemeinde Kniz erhalten dann die Gelegenheit, den smartvote-Fragebogen fr die Gemeindewahlen vom 26. September 2021 mitzugestalten.\"},transparency:{label:\"Vollstndige Transparenz\",text:\"Ein wichtiges Anliegen von uns ist, dass die Funktionsweise unserer Software von der interessierten ffentlich jederzeit nachvollzogen und auf Herz und Nieren berprft werden kann. Unsere Software ist Open Source, das heisst der Quelltext ist ffentlich und kann von Dritten eingesehen, gendert und genutzt werden. Die Software kann kostenlos verwendet werden. Doch auch fr Leute ohne IT-Kenntnisse schaffen wir Transparenz. Allem voran finden sich auf der Plattform an verschiedensten Stellen das folgende Icon {iconTechnicalTransparency}. Dahinter verbergen sich jeweils Erluterungen, wie genau und warum etwas gemacht wurde.\"},privacy:{label:\"Maximaler Datenschutz\",text:\"Die Privatsphre aller teilnehmenden Personen ist uns wichtig. Daher arbeiten wir auf der Plattform ausschliesslich mit Pseudonymen. Wir erfassen einzig Personendaten (namentlich die Email-Adresse oder alternativ die Handy-Nummer), welche fr das Funktionieren der Demokratiefabrik notwendig sind. Diese Daten werden nach Beendigung der Demokratiefabrik auf unseren Servern gelscht. Auch whrend der Projektphase werden diese zu keinem Zeitpunkt mit den Nutzungsaktivitten innerhalb der Demokratiefabrik verknpft, so das Rckschlsse auf Ihre Person nicht mglich sind. Die Daten werden allesamt ausschliesslich in der Schweiz auf hauseigenen Servern gehostet (Universitt Bern). Wir behandeln Ihre Personendaten sehr vertraulich und werden sie keinesfalls an Dritte weitergegeben.\"},technologies:{label:\"Die Technologie, welche die Fabrik antreibt\",text:\"Fr den Aufbau der Demokratiefabrik setzen wir auf moderne Software-Architektur und breit angewendete Open-Source-Software. Sie finden im Folgenden eine kleine Auswahl der verwendeten Technologien und Konzepte.\"},am:{page_introduction:\"Wir haben auf dieser Seite die wichtigsten Informationen zur Demokratiefabrik zusammengetragen.\",open_questions:\"Blieben noch Fragen offen? Dann knnen Sie uns auch gerne via Email kontaktieren.\",cmd_email_composer:\"Email verfassen\"}},news:{h1:\"Was aktuell in der Demokratiefabrik luft!\",am:{newsletter:\"Mchten Sie bezglich der Demokratiefabrik auf dem Laufenden bleiben? Dann knnen sie unseren Newsletter abonnieren.\",cmd_newsletter_abo:\"Newsletter-Abo\"}},contenttree:{comment_section_tooltip:\"Haben Sie an dieser Stelle Fragen oder Anregungen?\",close_comment_section_tooltip:\"Klicken Sie hier um die Kommentarspalte wieder zu schliessen\",no_entries:\"Es sind noch keine Kommentare oder Fragen vorhanden. Machen Sie den Anfang?\",no_filter_results:\"Keine Eintrge passen zu dieser Sucheingabe!\",created_by:\"von {username}\",search_button:\"Suche\",search_field_label:\"Suchbegriff...\",add_comment_or_question:\"Neuer Beitrag\",close_comment_section:\"Forum schliessen\",notification_number_of_expanded:\"Sie sehen aktuell {nof_shown} von {nof_total} Beitrgen.\",expand_all:\"Beitrge ausklappen\",collapse_all:\"Beitrge einklappen\",toolbar:{reply:\"Mchten Sie diesem Beitrag antworten?\",edit:\"Mchten Sie diesen Beitrag bearbeiten?\",delete:\"Mchten Sie diesen Beitrag lschen?\",reply_proposal:\"Mchten Sie eine Antwort vorschlagen?\",edit_proposal:\"Mchten Sie eine berarbeitung vorschlagen?\",delete_proposal:\"Mchten Sie eine Lschung dieses Beitrags vorschlagen?\",track_changes:\"Mchten Sie diesen zur Nachverfolgung kennzeichnen?\",show_background:\"Beitragssummarium anzeigen.\"},types:{COMMENT:\"Kommentar\",QUESTION:\"Frage\",ANSWER:\"Antwort\",PARAGRAPH:\"Absatz\",FOLDER:\"Gesprchsthema  \",SECTION:\"Kapitel\",SUBSECTION:\"Unterkapitel\",VAA_QUESTION:\"smartvote-Frage\",VAA_TOPIC:\"Themenfeld\"},rating:{1:\"Nicht hilfreich\",2:\"Mittelmssig hilfreich\",3:\"Sehr hilfreich\"},rating_response:\"Danke! Ihre Bewertung wurde vermerkt.\",editor:{head_create:\"Neuer Beitrag\",head_reply:\"Antwort schreiben\",head_edit:\"Bearbeiten\",content_title:\"berschrift\",content_title_shadow:\"Geben Sie Ihrem Beitrag eine prgnante berschrift\",content_text:\"Text\",content_text_shadow:\"Geben Sie hier Ihren Beitrag ein.\",content_text_hint:\"Schreiben Sie prgnant. Niemand mchte hier ganze Romane lesen.\",content_type:\"Art des Beitrags\",content_type_hint:\"Ordnen Sie den Beitrag einer Beitragskategorie zu.\",error:{wrong_contenttype:\"The content has a wrong type.\",type_misconfiguration:\"The Contenttree is misconfigured. No type can be assigned to the content.\"}},am:{index:\"Haben an dieser Stelle Fragen oder Anregungen? Die anderen Delegierten\\n                wrde das sicher auch interessieren. | Hier ist Platz fr Fragen und Kommentare zum obigen Abschnitt. | Hier wurden von anderen Besuchern bereits Beitrge eingegeben.\"}}},i={},a={\"de-ch\":s,\"en-us\":i},u=n(\"bd4c\"),l=u[\"b\"].getDateDiff,c=u[\"b\"].formatDate;r[\"default\"].use(o[\"a\"]),r[\"default\"].filter(\"formatDate\",(function(e){if(e)return c(e,\"DD.MM.YYYY\")})),r[\"default\"].filter(\"formatTimeLeft\",(function(e,t){if(t||(t=Date.now()),!e)return\"\";var n=l(e,t,\"seconds\"),r=l(e,t,\"minutes\"),o=l(e,t,\"hours\"),s=l(e,t,\"days\"),i=l(e,t,\"months\"),a=new Array,u=\"in\";return n<0&&(u=\"vor\"),i>1&&(a.push(\"\".concat(i,\" Monate\")),s-=30*s,o=0,r=0),s>1&&(a.push(\"\".concat(s,\" Tage\")),o-=24*o,r=0),o>1&&(a.push(\"\".concat(o,\" Stunden\")),r-=60*r),r>15&&(a.push(\"\".concat(r,\" Minuten\")),r=0),r>5&&(a.push(\"wenigen Minuten\"),r=0),a.length?\"\".concat(u,\" \").concat(a.join(\",\")):\"gerade jetzt\"}));var d=new o[\"a\"]({locale:\"de-ch\",fallbackLocale:\"de-ch\",messages:a});t[\"a\"]=function(e){var t=e.app;t.i18n=d}},9651:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return s}));var r=n(\"2b0e\"),o=r[\"default\"].observable({stageID:null,assemblyIdentifier:null,appExitState:!1}),s={exitApp:function(){o.appExitState=!0},setStageID:function(e){o.stageID=parseInt(e)},setAssemblyIdentifier:function(e){o.assemblyIdentifier=e}}},\"9fd8\":function(e,t,n){\"use strict\";n(\"4de4\"),n(\"4160\"),n(\"e260\"),n(\"d3b7\"),n(\"07ac\"),n(\"159b\"),n(\"ddb0\");var r=n(\"5319b\");t[\"a\"]={mixins:[r[\"a\"]],data:function(){return{contentID:null,numberOfCurrentlySaliencedEntries:0}},provide:function(){return{incrementNumberOfCurrentlySaliencedEntries:this.incrementNumberOfCurrentlySaliencedEntries}},computed:{node:function(){if(!this.contentID)return null;var e=this.contenttree.entries[this.contentID];return e},nodeChildrenObject:function(){var e=this;return this.node?Object.filter(this.contenttree.entries,(function(t){return e.contenttree.entries[t.content.id].content.parent_id==e.contentID})):null},nodeChildren:function(){var e=this;if(!this.contenttree)return null;if(!this.nodeChildrenObject)return null;var t=[];return Object.values(this.nodeChildrenObject).forEach((function(n){e.$pushSorted(t,n)})),t},salienceCompleted:function(){return this.routed_stage&&this.$loaded(this.nodeChildren)?(console.log(this.numberOfCurrentlySaliencedEntries,\"Ll\"),this.numberOfCurrentlySaliencedEntries>=5||0==this.numberOfUnsaliencedTopLevelEntries):null},numberOfUnratedTopLevelEntries:function(){var e=this;if(!this.$loaded(this.node)||!this.$loaded(this.nodeChildren))return null;var t=this.nodeChildren.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.rating)}));return t.length},numberOfUnsaliencedTopLevelEntries:function(){var e=this;if(!this.$loaded(this.node)||!this.$loaded(this.nodeChildren))return null;var t=this.nodeChildren.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.salience)}));return t.length}},methods:{incrementNumberOfCurrentlySaliencedEntries:function(){this.numberOfCurrentlySaliencedEntries+=1}},mounted:function(){}}},c75e:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(\"2b0e\"),o=new r[\"default\"]},c937:function(e,t,n){\"use strict\";n(\"7db0\"),n(\"07ac\"),n(\"18a5\");var r=n(\"ded3\"),o=n.n(r),s=n(\"2f62\"),i=n(\"2256\"),a=n(\"28e9\"),u=n(\"c75e\"),l=n(\"9651\"),c=n(\"c9d9\");t[\"a\"]={mixins:[i[\"a\"],Object(a[\"ReactiveProvideMixin\"])({name:\"STAGE\",include:[\"routed_stage\"]})],computed:o()({routed_stage:function(){if(console.log(\"get routed_stage\",l[\"b\"].stageID),!this.assembly_stages)return console.log(\"assembly is not yet loaded\"),null;if(!this.assembly_stages[l[\"b\"].stageID])return console.error(\"invalid stage in this assembly\"),this.$root.gotoAssemblyHome(this.assembly),null;var e=this.assembly_stages[l[\"b\"].stageID];return u[\"a\"].$emit(\"EventStageLoaded\",e),e},ready:function(){var e=this.$loaded(this.routed_stage);return e&&u[\"a\"].$emit(\"hideLoading\"),e},isFirstText:function(){var e=Object.values(this.assembly_sorted_stages).find((function(e){return\"TEXTSHEET\"==e.stage.type}));return this.routed_stage==e},highlightedItem:function(){var e=this;return this.sideMenuItems.find((function(t){if(t.customHightlighting)return t.customHightlighting();var n=e.stageMilestoneWeigths[t.anchor];return!n||n<3}))}},Object(s[\"c\"])(\"assemblystore\",[\"stageMilestonesCompleted\",\"stageMilestoneLabels\",\"stageMilestoneWeigths\",\"assembly_sorted_stages\",\"is_stage_alerted\",\"get_stage_number_by_stage_id\",\"is_stage_accessible\"])),methods:o()({milestone:function(e,t,n){console.assert(this.routed_stage),this.addMilestone({label:e,weight:t,key:n}),this.checkMilestones()},checkMilestones:function(){this.stageMilestonesCompleted&&this.is_stage_alerted(this.routed_stage)&&this.markUnAlert()},markUnAlert:function(){console.log(\"IDLE: unalert stage\"),console.assert(this.routed_stage),this.routed_stage.progression?this.$root.monitorLog(c[\"a\"].MONITOR_STAGE_UNALERT):this.$root.monitorFire(c[\"a\"].MONITOR_STAGE_UNALERT),this.storeStageProgressionAlertFlag({stageID:this.routed_stage.stage.id,alerted:!1})},markCompleted:function(){var e;console.log(\"COPLETED: mark completed stage\",this.routed_stage.stage.id),console.assert(this.routed_stage),null!==(e=this.routed_stage.progression)&&void 0!==e&&e.completed||(this.$root.monitorLog(c[\"a\"].MONITOR_STAGE_COMPLETED),this.storeStageProgressionCompleted({stageID:this.routed_stage.stage.id,completed:!0}))}},Object(s[\"b\"])(\"assemblystore\",[\"storeStageProgressionAlertFlag\",\"storeStageProgressionCompleted\",\"addMilestone\"])),created:function(){this.checkMilestones()}}},c9d9:function(e,t,n){\"use strict\";t[\"a\"]={QTREE_NUMBER_OF_INITIALLY_EXPANDED_NODES:7,TEXTTYPES:[\"PARAGRAPH\",\"SECTION\",\"SUBSECTION\"],DISCUSSIONTYPES:[\"COMMENT\",\"QUESTION\"],VAA_TOPIC_TYPES:[\"COMMENT\",\"QUESTION\",\"VAA_TOPIC\"],VAA_QUESTION_TYPES:[\"COMMENT\",\"QUESTION\",\"VAA_QUESTION\"],ICONS:{FOLDER:\"mdi-folder-multiple-outline\",SECTION:\"mdi-folder-text-outline\",SUBSECTION:\"mdi-folder-text-outline\",PARAGRAPH:\"mdi-text\",VAA_TOPIC:\"mdi-shape\",VAA_QUESTION:\"mdi-sign-direction\",UPDATEPROPOSAL:\"mdi-lightbulb-on-outline\"},TYPE_LABELS:{COMMENT:\"KOMMENTAR\",FOLDER:\"ORDNER\",SECTION:\"KAPITEL\",SUBSECTION:\"ABSCHNITT\",PARAGRAPH:\"ABSATZ\",VAA_TOPIC:\"THEMENFELD\",VAA_QUESTION:\"SMARTVOTE-FRAGE\",UPDATEPROPOSAL:\"VERBESSERUNGSVORSCHLAG\"},MONITOR_ERROR_NETWORK:\"ERROR.NETWORK\",MONITOR_ERROR_AUTHORIZATION:\"ERROR.AUTH\",MONITOR_ERROR_TOO_MANY_REQUESTS:\"ERROR.TOO.MANY.REQ\",MONITOR_ERROR_INVALID_TOKEN:\"ERROR_INVLAID_TOKEN\",MONITOR_ERROR_AUTHENTICATION:\"ERROR.AUTH\",MONITOR_WARNING_AUTHENTICATION:\"WARNING.AUTH\",MONITOR_WARNING_MESSAGES:{PEERREVIEW_ALREADY_CLOSED_USER_RESPONSE_IGNORED:\"Ein Gutachten wurde gerade eben abgeschlossen. Ihre Antwort konnte dabei nicht mehr bercksichtigt werden.\"},MONITOR_ACCOUNT_PROFILE_UPDATE:\"PROFILE.UPDATE\",MONITOR_ROUTE_CHANGE:\"ROUTE\",MONITOR_LOGIN:\"LOGIN\",MONITOR_LOGOUT:\"LOGOUT\",MONITOR_EXIT:\"EXIT\",MONITOR_ACCOUNT_PROFILE_VISIT:\"PROFILE.VISIT\",MONITOR_ASSEMBLY_ENTERING:\"ASSEMBLY.ENTER\",MONITOR_DISCUSSION_SHOW:\"DISCUSSION.SHOW\",MONITOR_DISCUSSION_HIDE:\"DISCUSSION.HIDE\",MONITOR_STAGE_ENTERING:\"STAGE.ENTER\",MONITOR_STAGE_UNALERT:\"STAGE.UNALERT\",MONITOR_STAGE_COMPLETED:\"STAGE.COMPLETED\",MONITOR_STAGE_FOCUSED_CONTENT:\"STAGE.FOCUSED.CONTENT\",MONITOR_STAGE_RANDOM_SAMPLING_CONTENT:\"STAGE.RANDOM_SAMPLING_CONTENT\",MONITOR_SET_RATING:\"CONTENT.RATING\",MONITOR_SET_SALIENCE:\"CONTENT.SALIENCE\",MONITOR_SET_CONTENT_READ:\"CONTENT.READ\",MONITOR_SET_CONTENT_DISCUSSED:\"CONTENT.DISCUSSED\",MONITOR_SET_CONTENT_REVIEWED:\"CONTENT.REVIEWED\",MONITOR_SET_PEERREVIEW_RESPONSE:\"PEERREVIEW.RESPONSE\"}},d3af:function(e,t,n){}});","name":"js/app.35b712b8.js","input":"/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tfunction webpackJsonpCallback(data) {\n/******/ \t\tvar chunkIds = data[0];\n/******/ \t\tvar moreModules = data[1];\n/******/ \t\tvar executeModules = data[2];\n/******/ \t\tvar prefetchChunks = data[3] || [];\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, resolves = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n/******/ \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n/******/ \t\t\t}\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n/******/ \t\tdeferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\n/******/ \t\twhile(resolves.length) {\n/******/ \t\t\tresolves.shift()();\n/******/ \t\t}\n/******/\n/******/ \t\t// add entry modules from loaded chunk to deferred list\n/******/ \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n/******/\n/******/ \t\t// run deferred modules when all chunks ready\n/******/ \t\treturn checkDeferredModules();\n/******/ \t};\n/******/ \tfunction checkDeferredModules() {\n/******/ \t\tvar result;\n/******/ \t\tfor(var i = 0; i < deferredModules.length; i++) {\n/******/ \t\t\tvar deferredModule = deferredModules[i];\n/******/ \t\t\tvar fulfilled = true;\n/******/ \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n/******/ \t\t\t\tvar depId = deferredModule[j];\n/******/ \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n/******/ \t\t\t}\n/******/ \t\t\tif(fulfilled) {\n/******/ \t\t\t\tdeferredModules.splice(i--, 1);\n/******/ \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(deferredModules.length === 0) {\n/******/ \t\t\t// chunk prefetching for javascript\n/******/ \t\t\tdeferredPrefetch.forEach(function(chunkId) {\n/******/ \t\t\t\tif(installedChunks[chunkId] === undefined) {\n/******/ \t\t\t\t\tinstalledChunks[chunkId] = null;\n/******/ \t\t\t\t\tvar link = document.createElement('link');\n/******/\n/******/ \t\t\t\t\tif (__webpack_require__.nc) {\n/******/ \t\t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tlink.rel = \"prefetch\";\n/******/ \t\t\t\t\tlink.as = \"script\";\n/******/ \t\t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n/******/ \t\t\t\t\tdocument.head.appendChild(link);\n/******/ \t\t\t\t}\n/******/ \t\t\t});\n/******/ \t\t\tdeferredPrefetch.length = 0;\n/******/ \t\t}\n/******/ \t\treturn result;\n/******/ \t}\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded CSS chunks\n/******/ \tvar installedCssChunks = {\n/******/ \t\t6: 0\n/******/ \t};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n/******/ \t// Promise = chunk loading, 0 = chunk loaded\n/******/ \tvar installedChunks = {\n/******/ \t\t6: 0\n/******/ \t};\n/******/\n/******/ \tvar deferredModules = [], deferredPrefetch = [];\n/******/\n/******/ \t// script path function\n/******/ \tfunction jsonpScriptSrc(chunkId) {\n/******/ \t\treturn __webpack_require__.p + \"js/\" + ({\"1\":\"chunk-common\"}[chunkId]||chunkId) + \".\" + {\"1\":\"aa12d6ef\",\"2\":\"daef4da6\",\"3\":\"94e7b1f5\",\"4\":\"fe71f1a1\",\"5\":\"ae627cf6\",\"7\":\"2d7d188f\",\"8\":\"9adef0b0\",\"9\":\"e92fd9ea\",\"10\":\"ea6cbd50\",\"11\":\"e44c344b\",\"12\":\"abdec68e\",\"13\":\"8be66378\",\"14\":\"9b0b7603\",\"15\":\"d5307372\",\"16\":\"4475cf19\",\"17\":\"d5a1179e\",\"18\":\"0c70ce43\",\"19\":\"78a8eede\",\"20\":\"51dd0acb\",\"21\":\"62343c84\",\"22\":\"0cecf65a\",\"23\":\"403e43b0\",\"24\":\"65778036\",\"25\":\"56fdfefc\",\"26\":\"68bc4596\",\"27\":\"f752e388\",\"28\":\"fa482932\",\"29\":\"b5159f5c\",\"30\":\"669dd4ff\"}[chunkId] + \".js\"\n/******/ \t}\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\tvar promises = [];\n/******/\n/******/\n/******/ \t\t// mini-css-extract-plugin CSS loading\n/******/ \t\tvar cssChunks = {\"1\":1,\"3\":1,\"4\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":1,\"11\":1};\n/******/ \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n/******/ \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n/******/ \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n/******/ \t\t\t\tvar href = \"css/\" + ({\"1\":\"chunk-common\"}[chunkId]||chunkId) + \".\" + {\"1\":\"00080bca\",\"2\":\"31d6cfe0\",\"3\":\"3cad11c8\",\"4\":\"dfabb1b7\",\"5\":\"31d6cfe0\",\"7\":\"b87f789c\",\"8\":\"aa13da7f\",\"9\":\"21f910da\",\"10\":\"0d5e333b\",\"11\":\"1fb183bd\",\"12\":\"31d6cfe0\",\"13\":\"31d6cfe0\",\"14\":\"31d6cfe0\",\"15\":\"31d6cfe0\",\"16\":\"31d6cfe0\",\"17\":\"31d6cfe0\",\"18\":\"31d6cfe0\",\"19\":\"31d6cfe0\",\"20\":\"31d6cfe0\",\"21\":\"31d6cfe0\",\"22\":\"31d6cfe0\",\"23\":\"31d6cfe0\",\"24\":\"31d6cfe0\",\"25\":\"31d6cfe0\",\"26\":\"31d6cfe0\",\"27\":\"31d6cfe0\",\"28\":\"31d6cfe0\",\"29\":\"31d6cfe0\",\"30\":\"31d6cfe0\"}[chunkId] + \".css\";\n/******/ \t\t\t\tvar fullhref = __webpack_require__.p + href;\n/******/ \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n/******/ \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n/******/ \t\t\t\t\tvar tag = existingLinkTags[i];\n/******/ \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n/******/ \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n/******/ \t\t\t\t}\n/******/ \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n/******/ \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n/******/ \t\t\t\t\tvar tag = existingStyleTags[i];\n/******/ \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n/******/ \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n/******/ \t\t\t\t}\n/******/ \t\t\t\tvar linkTag = document.createElement(\"link\");\n/******/ \t\t\t\tlinkTag.rel = \"stylesheet\";\n/******/ \t\t\t\tlinkTag.type = \"text/css\";\n/******/ \t\t\t\tlinkTag.onload = resolve;\n/******/ \t\t\t\tlinkTag.onerror = function(event) {\n/******/ \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n/******/ \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n/******/ \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n/******/ \t\t\t\t\terr.request = request;\n/******/ \t\t\t\t\tdelete installedCssChunks[chunkId]\n/******/ \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n/******/ \t\t\t\t\treject(err);\n/******/ \t\t\t\t};\n/******/ \t\t\t\tlinkTag.href = fullhref;\n/******/\n/******/ \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n/******/ \t\t\t\thead.appendChild(linkTag);\n/******/ \t\t\t}).then(function() {\n/******/ \t\t\t\tinstalledCssChunks[chunkId] = 0;\n/******/ \t\t\t}));\n/******/ \t\t}\n/******/\n/******/ \t\t// JSONP chunk loading for javascript\n/******/\n/******/ \t\tvar installedChunkData = installedChunks[chunkId];\n/******/ \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n/******/\n/******/ \t\t\t// a Promise means \"currently loading\".\n/******/ \t\t\tif(installedChunkData) {\n/******/ \t\t\t\tpromises.push(installedChunkData[2]);\n/******/ \t\t\t} else {\n/******/ \t\t\t\t// setup Promise in chunk cache\n/******/ \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n/******/ \t\t\t\t});\n/******/ \t\t\t\tpromises.push(installedChunkData[2] = promise);\n/******/\n/******/ \t\t\t\t// start chunk loading\n/******/ \t\t\t\tvar script = document.createElement('script');\n/******/ \t\t\t\tvar onScriptComplete;\n/******/\n/******/ \t\t\t\tscript.charset = 'utf-8';\n/******/ \t\t\t\tscript.timeout = 120;\n/******/ \t\t\t\tif (__webpack_require__.nc) {\n/******/ \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n/******/ \t\t\t\t}\n/******/ \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n/******/\n/******/ \t\t\t\t// create error before stack unwound to get useful stacktrace later\n/******/ \t\t\t\tvar error = new Error();\n/******/ \t\t\t\tonScriptComplete = function (event) {\n/******/ \t\t\t\t\t// avoid mem leaks in IE.\n/******/ \t\t\t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\t\t\tclearTimeout(timeout);\n/******/ \t\t\t\t\tvar chunk = installedChunks[chunkId];\n/******/ \t\t\t\t\tif(chunk !== 0) {\n/******/ \t\t\t\t\t\tif(chunk) {\n/******/ \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n/******/ \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n/******/ \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n/******/ \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n/******/ \t\t\t\t\t\t\terror.type = errorType;\n/******/ \t\t\t\t\t\t\terror.request = realSrc;\n/******/ \t\t\t\t\t\t\tchunk[1](error);\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t};\n/******/ \t\t\t\tvar timeout = setTimeout(function(){\n/******/ \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n/******/ \t\t\t\t}, 120000);\n/******/ \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n/******/ \t\t\t\tdocument.head.appendChild(script);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\treturn Promise.all(promises);\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// on error function for async loading\n/******/ \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n/******/\n/******/ \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n/******/ \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n/******/ \tjsonpArray.push = webpackJsonpCallback;\n/******/ \tjsonpArray = jsonpArray.slice();\n/******/ \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n/******/ \tvar parentJsonpFunction = oldJsonpFunction;\n/******/\n/******/\n/******/ \tvar startupResult = (function() {\n/******/ \t// add entry module to deferred list\n/******/ \tdeferredModules.push([0,0]);\n/******/ \t// run deferred modules when ready\n/******/ \treturn checkDeferredModules();\n/******/ \t})();\n/******/\n/******/ \twebpackJsonpCallback([[], {}, 0, [0,1,12,15,24,14,16,20,22]]);\n/******/ \treturn startupResult;\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"2f39\");\n\n\n/***/ }),\n\n/***/ \"0047\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"2105\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ApiService */\n/* unused harmony export ReloginOnStatus403 */\n/* unused harmony export Allow400Status */\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"caad\");\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"d3b7\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"e6cf\");\n/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ac1f\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"2532\");\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"1276\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"96cf\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"c973\");\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"2b0e\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"bc3a\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"c75e\");\n/* harmony import */ var src_plugins_VueOAuth2PKCE_eventbus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"2647\");\n\n\n\n\n\n\n\n\n\n/**\r\n * https://medium.com/locale-ai/architecting-http-clients-in-vue-js-applications-for-efficient-network-communication-991cf1df1cb2\r\n * \r\n * Provides methods for XHR-calls using Axios.\r\n */\n\n\n\n\nvar HTTP_HEADER = 'Authorization';\nvar RequestOrigin = 'ApiService';\n\nvar ReloginOnStatus403 = function ReloginOnStatus403() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.prototype.hasOwnProperty.call(config, 'ReloginOnStatus403') && !config.ReloginOnStatus403 ? false : true;\n};\n\nvar Allow400Status = function Allow400Status() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.prototype.hasOwnProperty.call(config, 'Allow400Status') && config.Allow400Status ? true : false;\n};\n\nvar WithoutAuthHeader = function WithoutAuthHeader() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.prototype.hasOwnProperty.call(config, 'WithoutAuthHeader') && config.WithoutAuthHeader ? true : false;\n};\n\nvar ApiService = {\n  init: function init() {\n    axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.timeout = 2000;\n    axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.baseURL = \"http://localhost:8020\";\n  },\n\n  /**\r\n   * Sets the transmitted JWT token as current default authentication header\r\n   */\n  setHeader: function setHeader(token) {\n    if (token) {\n      console.log(\"............NEW NEW JWT TOKEN: \", !!token, token.substring(token.length - 5));\n      axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.headers.common[HTTP_HEADER] = 'JWT ' + token;\n    } else {\n      console.log(\"............Remove header jwt set: \", !!token);\n      delete axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.headers.common[HTTP_HEADER];\n    }\n  },\n\n  /**\r\n   * Removes the JWT token as default authentication header\r\n   */\n  removeHeader: function removeHeader() {\n    axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.headers.common = {};\n    console.log('Remove axios header');\n  },\n\n  /**\r\n   * Returns currently set default authentication header (without prefix)\r\n   */\n  getHeader: function getHeader() {\n    if (HTTP_HEADER in axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.headers.common) {\n      var header = axios__WEBPACK_IMPORTED_MODULE_9___default.a.defaults.headers.common[HTTP_HEADER];\n\n      if (header) {\n        // console.log(header)\n        var parts = header.split(' ');\n        return parts[1];\n      }\n    }\n\n    return null;\n  },\n  is_api_service_used_as_axios_wrapper: function is_api_service_used_as_axios_wrapper(resource) {\n    if (!('origin' in resource) || resource['origin'] != RequestOrigin) {\n      console.assert('ERROR: Please use ApiService as Axios Wrapper...');\n    }\n  },\n  get: function get(resource) {\n    var _this = this;\n\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var options;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              options = {\n                method: 'GET',\n                url: resource\n              };\n              _context.next = 3;\n              return _this.customRequest(options);\n\n            case 3:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  post: function post(resource, data) {\n    var _this2 = this;\n\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var fulldata;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fulldata = {\n                method: 'POST',\n                url: resource,\n                data: data\n              };\n              _context2.next = 3;\n              return _this2.customRequest(fulldata);\n\n            case 3:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  put: function put(resource, data) {\n    var _this3 = this;\n\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var fulldata;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              fulldata = {\n                method: 'PUT',\n                url: resource,\n                data: data\n              };\n              _context3.next = 3;\n              return _this3.customRequest(fulldata);\n\n            case 3:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n  delete: function _delete(resource, data) {\n    var _this4 = this;\n\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var fulldata;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              fulldata = {\n                method: 'DELETE',\n                url: resource,\n                data: data\n              };\n              _context4.next = 3;\n              return _this4.customRequest(fulldata);\n\n            case 3:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  },\n\n  /**\r\n   * Perform a custom Axios request.\r\n   **/\n  customRequest: function customRequest(data) {\n    var _this5 = this;\n\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n      var temp_oauth_jwt, response;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              // Assert that header is set, when somebody is authenticated.\n              temp_oauth_jwt = null;\n              data['origin'] = RequestOrigin;\n              data['timeout'] = 30000; // 30 seconds till timeout\n\n              if (WithoutAuthHeader(data)) {\n                // cache the current header and remove it\n                // console.log('remove XHR header')\n                temp_oauth_jwt = _this5.getHeader();\n\n                _this5.removeHeader();\n              }\n\n              response = null;\n              _context5.next = 7;\n              return axios__WEBPACK_IMPORTED_MODULE_9___default()(data);\n\n            case 7:\n              response = _context5.sent;\n\n              if (!response.retoken) {\n                _context5.next = 15;\n                break;\n              }\n\n              console.log('PERMISSION ERROR: Initiate a secont attempt'); // Re-axios (same as before...)\n              // (token should already be refreshed...)\n              // console.log('Second attempt....')\n\n              _context5.next = 12;\n              return axios__WEBPACK_IMPORTED_MODULE_9___default()(data);\n\n            case 12:\n              response = _context5.sent;\n\n              // What if the second attempt fails?\n              if (response.retoken) {\n                console.log('token could not be renewed.. 2nd attempt failed.');\n                src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showAuthorizationError');\n              } // Headers are set again. dont neet to this.\n\n\n              temp_oauth_jwt = null;\n\n            case 15:\n              if (!response.HTTP_ERROR_CODE) {\n                _context5.next = 23;\n                break;\n              }\n\n              console.log('HTTP ERROR: Initiate a second attempt');\n              data.HTTP_ERROR_CODE = response.HTTP_ERROR_CODE; // ReIssue the request\n\n              console.assert(data.url);\n\n              if (data.url.includes('?')) {\n                data.url = \"\".concat(data.url, \"&rty=1\");\n              } else {\n                data.url = \"\".concat(data.url, \"?rty=1\");\n              } // console.log(data, \"REISSUE SECOND ATEMPTlllllllllllllllll\")\n\n\n              _context5.next = 22;\n              return axios__WEBPACK_IMPORTED_MODULE_9___default()(data);\n\n            case 22:\n              response = _context5.sent;\n\n            case 23:\n              if (temp_oauth_jwt && WithoutAuthHeader(data)) {\n                // re-set the header\n                console.log('header re-set');\n\n                _this5.setHeader(temp_oauth_jwt);\n              }\n\n              return _context5.abrupt(\"return\", response);\n\n            case 25:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }))();\n  },\n\n  /**\r\n   * Refresh Token: if Api request returns 401\r\n   * This is done by axios intercept method, which everytime checks response.status of each API call.\r\n   */\n  mountAxiosInterceptor: function mountAxiosInterceptor(onRejected) {\n    var onFullfilled = function onFullfilled(response) {\n      return response;\n    };\n\n    axios__WEBPACK_IMPORTED_MODULE_9___default.a.interceptors.response.use(onFullfilled, function (error) {\n      return onRejected(error);\n    });\n  }\n}; // AXIOS  INTERCEPTOR\n/////////////////////////////////\n\nvar axiosErrorHandling = /*#__PURE__*/function () {\n  var _ref = _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(error, test) {\n    var _error$config;\n\n    var HTTP_ERROR_CODE;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            // axiosErrorHandling = async function (error) {\n            // enfoce that ApiService Wrapper is used, (and not pure Axios)\n            // console.log(\"XHR ERROR\")\n            ApiService.is_api_service_used_as_axios_wrapper(error.config); // Is it already a retrieal (after an previous Error?)\n\n            HTTP_ERROR_CODE = error === null || error === void 0 ? void 0 : (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.HTTP_ERROR_CODE; // No remote connection established\n            // Invalid URL or Server not reachable...\n\n            if (error.response) {\n              _context6.next = 10;\n              break;\n            }\n\n            console.log('Network error', error); // check if two in a row...\n\n            if (!(HTTP_ERROR_CODE != 'NETWORK')) {\n              _context6.next = 6;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", {\n              HTTP_ERROR_CODE: 'NETWORK'\n            });\n\n          case 6:\n            src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showNetworkError');\n            return _context6.abrupt(\"return\", Promise.reject(error));\n\n          case 10:\n            if (!(error.response.status == 400)) {\n              _context6.next = 20;\n              break;\n            }\n\n            if (!Allow400Status(error.config)) {\n              _context6.next = 14;\n              break;\n            }\n\n            // dont raise 400 errors, if this is desired explicitly\n            console.log('AXIOS: Pass Error 400');\n            return _context6.abrupt(\"return\", true);\n\n          case 14:\n            if (!(HTTP_ERROR_CODE != 400)) {\n              _context6.next = 16;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", {\n              HTTP_ERROR_CODE: 400\n            });\n\n          case 16:\n            src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showServiceError');\n            return _context6.abrupt(\"return\", Promise.reject(error));\n\n          case 20:\n            if (!(error.response.status == 405)) {\n              _context6.next = 26;\n              break;\n            }\n\n            // 405 errors (parse errors)\n            console.log('AXIOS: Pass Error 405');\n            src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showAuthorizationError');\n            return _context6.abrupt(\"return\", Promise.reject(error));\n\n          case 26:\n            if (!(error.response.status == 429)) {\n              _context6.next = 32;\n              break;\n            }\n\n            console.log('AXIOS: Pass Error 429');\n            src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showTooManyRequestsError');\n            return _context6.abrupt(\"return\", Promise.reject(error));\n\n          case 32:\n            if (!(error.response.status == 403)) {\n              _context6.next = 46;\n              break;\n            }\n\n            console.log('403 Error');\n\n            if (!ReloginOnStatus403(error.config)) {\n              _context6.next = 46;\n              break;\n            }\n\n            console.log('AXIOS: ReloginOnStatus403');\n            error.response.status = 449;\n\n            if (!vue__WEBPACK_IMPORTED_MODULE_8__[\"default\"].prototype.pkce.isAuthorized()) {\n              _context6.next = 43;\n              break;\n            }\n\n            _context6.next = 40;\n            return vue__WEBPACK_IMPORTED_MODULE_8__[\"default\"].prototype.refresh_token();\n\n          case 40:\n            if (!(vue__WEBPACK_IMPORTED_MODULE_8__[\"default\"].prototype.pkce.state && vue__WEBPACK_IMPORTED_MODULE_8__[\"default\"].prototype.pkce.state.accessToken)) {\n              _context6.next = 43;\n              break;\n            }\n\n            error.config.retoken = true;\n            return _context6.abrupt(\"return\", error.config);\n\n          case 43:\n            // Token Refresh, seems not be possible / desired :-(\n            console.log('Not Authenticated');\n            src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showAuthenticationWarning');\n            return _context6.abrupt(\"return\", Promise.reject(error));\n\n          case 46:\n            // All other errors:\n            console.log('Unknown API Request Error');\n            console.log('status: ' + error.response.status);\n            src_utils_eventbus__WEBPACK_IMPORTED_MODULE_10__[/* LayoutEventBus */ \"a\"].$emit('showServiceError');\n            return _context6.abrupt(\"return\", Promise.reject(error));\n\n          case 50:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function axiosErrorHandling(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nApiService.mountAxiosInterceptor(axiosErrorHandling);\nsrc_plugins_VueOAuth2PKCE_eventbus__WEBPACK_IMPORTED_MODULE_11__[/* oAuthEventBus */ \"a\"].$on('TokenChanges', function (jwt) {\n  if (jwt) {\n    ApiService.setHeader(jwt);\n  } else {\n    ApiService.removeHeader();\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ApiService);\n\n/***/ }),\n\n/***/ \"2256\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"99af\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ded3\");\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"2f62\");\n/* harmony import */ var src_utils_eventbus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"c75e\");\n/* harmony import */ var src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"9651\");\n/* harmony import */ var src_utils_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"c9d9\");\n\n\n // import scroll from 'quasar/src/utils/scroll.js';\n\n\n\n // const { getScrollTarget, setScrollPosition } = scroll\n\n/* Note: Make available all the properties and methods in any descendant object.*/\n// const ReactiveProvidePropertiesMixin = ReactiveProvideMixin({\n//   name: 'ABLY',\n//   include: ['assemblyAcls']\n// })\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  provide: function provide() {\n    return {\n      gotoNextStageNr: this.gotoNextStageNr,\n      getDailyContributionLimits: this.getDailyContributionLimits\n    };\n  },\n  // CONTENTTREE\n  computed: _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, Object(vuex__WEBPACK_IMPORTED_MODULE_2__[/* mapGetters */ \"c\"])('assemblystore', ['assembly', 'assemblyProgression', \"assemblyConfiguration\", 'assembly_sorted_stages', 'is_stage_accessible', 'is_stage_scheduled', 'last_accessible_stage', 'is_stage_idle', 'is_stage_done', 'is_stage_disabled', 'is_stage_completed', 'is_stage_new', 'is_stage_last', 'is_stage_first', 'is_stage_alert', 'assembly_scheduled_stages', 'assembly_stages', 'get_stage_number_by_stage_id', 'get_stage_number_by_stage', 'next_scheduled_stage', 'find_next_accessible_stage', 'assembly_stages', 'IsDelegate', 'IsManager'])), {}, {\n    daySessions: function daySessions() {\n      var _this$assemblyProgres;\n\n      return (_this$assemblyProgres = this.assemblyProgression) === null || _this$assemblyProgres === void 0 ? void 0 : _this$assemblyProgres.number_of_day_sessions;\n    },\n    ready: function ready() {\n      var ready = this.$loaded(this.assembly);\n\n      if (ready) {\n        src_utils_eventbus__WEBPACK_IMPORTED_MODULE_3__[/* LayoutEventBus */ \"a\"].$emit('hideLoading');\n      }\n\n      return ready;\n    },\n    stage_nr_last_visited: {\n      get: function get() {\n        if (isNaN(src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].stageID) || src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].stageID === null) {\n          return null;\n        }\n\n        return this.get_stage_number_by_stage_id(src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].stageID);\n      },\n      set: function set(stageNr) {\n        if (stageNr === null || stageNr === undefined) {\n          src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeMutations */ \"a\"].setStageID(null);\n        } else {\n          var stageID = this.assembly_sorted_stages[stageNr].stage.id; // console.log(\"set stageID by stageNR\", stageNr, stageID)\n\n          src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeMutations */ \"a\"].setStageID(stageID);\n        }\n      }\n    },\n    stage_last_visited: function stage_last_visited() {\n      if (this.stage_nr_last_visited === null) {\n        return null;\n      }\n\n      return this.assembly_sorted_stages[this.stage_nr_last_visited];\n    },\n    limitForAddingProposalsReached: function limitForAddingProposalsReached() {\n      var dailyContributionLimits = this.getDailyContributionLimits();\n\n      if (!this.$loaded(dailyContributionLimits)) {\n        return null;\n      }\n\n      dailyContributionLimits = dailyContributionLimits.number_of_proposals;\n      return dailyContributionLimits.current >= dailyContributionLimits.daylimit;\n      return true;\n    },\n    limitForAddingCommentsReached: function limitForAddingCommentsReached() {\n      if (this.IsManager) {\n        return false;\n      }\n\n      var dailyContributionLimits = this.getDailyContributionLimits();\n\n      if (!this.$loaded(dailyContributionLimits)) {\n        return null;\n      }\n\n      if (!this.$loaded(dailyContributionLimits)) {\n        return null;\n      }\n\n      dailyContributionLimits = dailyContributionLimits.number_of_comments;\n      return dailyContributionLimits.current >= dailyContributionLimits.daylimit;\n      return true;\n    }\n  }),\n  methods: _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({\n    clickBackToAssemblyListButton: function clickBackToAssemblyListButton() {\n      src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeMutations */ \"a\"].setAssemblyIdentifier(null);\n      this.$router.push({\n        name: 'assemblies'\n      });\n    },\n    stageTransition: function stageTransition(newVal, oldVal) {//   // this.scrollToStage()\n    },\n    laggedScrollToStage: function laggedScrollToStage() {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.scrollToStage();\n      }, 200);\n    },\n    gotoNextStageNr: function gotoNextStageNr(stage) {\n      console.assert(stage);\n      console.log(\"gotoNextStageNr\");\n      var currentStageGroup = stage.stage.group;\n      var nextStage = this.find_next_accessible_stage(stage);\n\n      if (!nextStage) {\n        console.log(\"NOTE: Assembly seems to be completed!\");\n        return null;\n      }\n\n      var nextStageGroup = stage.stage.group;\n\n      if (nextStageGroup !== currentStageGroup) {\n        // different group: so make a new route...\n        console.log(\"ROUTERROUTE\");\n        this.$router.push(\"\".concat(nextStage.stage.id, \"/\").concat(nextStage.stage.group));\n      } else {\n        // just update , the \"stage_nr_last_visited\"\n        // console.log(this.stage_nr_last_visited, \"old stage\")\n        this.stage_nr_last_visited = this.get_stage_number_by_stage(nextStage);\n        console.log(this.stage_nr_last_visited, \"new stage\");\n      }\n    },\n    gotoStage: function gotoStage(stage) {\n      console.assert(stage);\n      this.$router.push(this.getStageRoute(stage));\n    },\n    getStageRoute: function getStageRoute(stage) {\n      console.assert(stage);\n      var params = {\n        assemblyIdentifier: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].assemblyIdentifier,\n        stageID: stage.stage.id,\n        contenttreeID: stage.stage.contenttree_id\n      };\n      return {\n        name: stage.stage.type,\n        params: params\n      };\n    },\n    // TODO: what is that for?\n    gotoDefaultStageTeaser: function gotoDefaultStageTeaser() {\n      console.log(\"goto default stage teaser\");\n\n      if (src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].stageID !== null && src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].stageID !== undefined) {\n        this.stage_nr_last_visited = this.get_stage_number_by_stage_id(src_store_runtime_store__WEBPACK_IMPORTED_MODULE_4__[/* runtimeStore */ \"b\"].stageID);\n      } else if (this.last_accessible_stage) {\n        this.stage_nr_last_visited = this.get_stage_number_by_stage(this.last_accessible_stage);\n      } else {\n        this.stage_nr_last_visited = null;\n      }\n    },\n    getDailyContributionLimits: function getDailyContributionLimits() {\n      var progression = this.assemblyProgression;\n      var configuration = this.assemblyConfiguration; // console.log(\"Assembly PROG\", progression)\n      // console.log(\"Configuration\", configuration)\n\n      if (!configuration || !progression) {\n        // can happen when logout\n        return;\n      }\n\n      return {\n        number_of_proposals: {\n          daylimit: configuration.MAX_DAILY_USER_PROPOSALS,\n          current: progression.number_of_proposals_today === null ? 0 : progression.number_of_proposals_today\n        },\n        number_of_comments: {\n          daylimit: configuration.MAX_DAILY_USER_COMMENTS,\n          current: progression.number_of_comments_today === null ? 0 : progression.number_of_comments_today\n        }\n      };\n    }\n  }, Object(vuex__WEBPACK_IMPORTED_MODULE_2__[/* mapActions */ \"b\"])({\n    setCachedStageID: 'assemblystore/setCachedStageID'\n  })),\n  mounted: function mounted() {\n    // console.log('>> APP LOADED: in assembly. Stage: ', this.stage_nr_last_visited)\n    this.$store.dispatch('assemblystore/syncAssembly', {\n      oauthUserID: this.oauth.userid\n    });\n    console.log(\"SYNC ASSEMBLY.\");\n    this.$root.monitorLog(src_utils_constants__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].MONITOR_ASSEMBLY_ENTERING);\n  }\n});\n\n/***/ }),\n\n/***/ \"2647\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return oAuthEventBus; });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2b0e\");\n\nvar oAuthEventBus = new vue__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n/***/ }),\n\n/***/ \"2f39\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(\"ac1f\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(\"5319\");\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(\"96cf\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"c973\");\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: ./node_modules/quasar/dist/quasar.ie.polyfills.js\nvar quasar_ie_polyfills = __webpack_require__(\"5c7d\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/extras/mdi-v5/mdi-v5.css\nvar mdi_v5 = __webpack_require__(\"9f29\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/dist/quasar.sass\nvar quasar = __webpack_require__(\"985d\");\n\n// EXTERNAL MODULE: ./src/css/app.sass\nvar css_app = __webpack_require__(\"0047\");\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__(\"2b0e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/lang/de.js\nvar de = __webpack_require__(\"215a\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/icon-set/mdi-v5.js\nvar icon_set_mdi_v5 = __webpack_require__(\"8e37\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/vue-plugin.js + 1 modules\nvar vue_plugin = __webpack_require__(\"b05d\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/plugins/Notify.js\nvar Notify = __webpack_require__(\"2a19\");\n\n// CONCATENATED MODULE: ./.quasar/import-quasar.js\n/**\n * THIS FILE IS GENERATED AUTOMATICALLY.\n * DO NOT EDIT.\n *\n * You are probably looking on adding startup/initialization code.\n * Use \"quasar new boot <name>\" and add it there.\n * One boot file per concern. Then reference the file(s) in quasar.conf.js > boot:\n * boot: ['file', ...] // do not add \".js\" extension to it.\n *\n * Boot files are your \"main.js\"\n **/\n\n\n\n;\nvue_runtime_esm[\"default\"].use(vue_plugin[\"a\" /* default */], {\n  config: {\n    \"screen\": {\n      \"bodyClasses\": true\n    },\n    \"notify\": {}\n  },\n  lang: de[\"a\" /* default */],\n  iconSet: icon_set_mdi_v5[\"a\" /* default */],\n  plugins: {\n    Notify: Notify[\"a\" /* default */]\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=template&id=29f922b9&scoped=true&\nvar Appvue_type_template_id_29f922b9_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"q-app\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(!_vm.appExitState)?_c('router-view',{key:_vm.componentKey,ref:\"maincontent\"}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/App.vue?vue&type=template&id=29f922b9&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(\"99af\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(\"caad\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(\"b0c0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(\"d3b7\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(\"e6cf\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(\"2532\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"ded3\");\nvar objectSpread2_default = /*#__PURE__*/__webpack_require__.n(objectSpread2);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"2f62\");\n\n// EXTERNAL MODULE: ./src/utils/eventbus.js\nvar eventbus = __webpack_require__(\"c75e\");\n\n// EXTERNAL MODULE: ./src/plugins/VueOAuth2PKCE/eventbus.js\nvar VueOAuth2PKCE_eventbus = __webpack_require__(\"2647\");\n\n// EXTERNAL MODULE: ./src/utils/constants.js\nvar constants = __webpack_require__(\"c9d9\");\n\n// EXTERNAL MODULE: ./src/store/runtime.store.js\nvar runtime_store = __webpack_require__(\"9651\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/utils/scroll.js\nvar utils_scroll = __webpack_require__(\"0831\");\n\n// CONCATENATED MODULE: ./src/mixins/app.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;\nvar setScrollPosition = utils_scroll[\"a\" /* default */].setScrollPosition; // const { setBrand } = colors\n\n/* harmony default export */ var mixins_app = ({\n  data: function data() {\n    return {\n      appInitialized: false,\n      componentKey: 0,\n      username_derivate: ''\n    };\n  },\n  watch: {\n    // if route changes, hide TextLoading\n    $route: function $route(to, from) {\n      // check permission\n      if (to.meta.assemblyAcl) {\n        var role = \"\".concat(to.meta.assemblyAcl, \"@\").concat(to.params.assemblyIdentifier);\n\n        if (!to.params.assemblyIdentifier || !this.oauth.payload.roles.includes(role)) {\n          // Not allowed....\n          if (!to.params.assemblyIdentifier) {\n            console.error(\"WRONGLY CONFIUGRED ROUTE: assemblyACL option requires and Identifier in the route params\");\n          }\n\n          console.error(\"NOT AUTHORIZED....\", to, this.oauth.payload.roles, this.oauth.payload.roles.includes(role), role);\n          this.$router.push({\n            name: \"home\"\n          });\n          throw new Error(\"Oops! You don't seem to have access to that page.\");\n        }\n      } // Monitor ROute change\n\n\n      this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_ROUTE_CHANGE);\n    }\n  },\n  computed: objectSpread2_default()({\n    ready: function ready() {\n      // Can be overwritten by child components.\n      eventbus[\"a\" /* LayoutEventBus */].$emit('hideLoading');\n      return true;\n    },\n    appExitState: function appExitState() {\n      return runtime_store[\"b\" /* runtimeStore */].appExitState;\n    }\n  }, Object(vuex_esm[\"c\" /* mapGetters */])({\n    ongoing_assemblies: \"publicindexstore/ongoing_assemblies\",\n    isUserAssemblyManager: \"publicindexstore/storeOisUserAssemblyManagerauthAcls\" // lightProfileColor: \"publicindexstore/lightProfileColor\",\n    // profileColor: \"publicprofilestore/profileColor\",\n\n  })),\n  methods: objectSpread2_default()({\n    showAuthorizationError: function showAuthorizationError(data) {\n      var _this$$refs, _this$$refs$mainconte;\n\n      this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_ERROR_AUTHORIZATION, data);\n      var msg_title = this.$i18n.t(\"app.error.authorization_error_title\");\n      var msg_body = this.$i18n.t(\"app.error.authorization_error_body\");\n      var icon = \"mdi-key-outline\";\n      var type = \"error\";\n      var buttons = ['logout'];\n      (_this$$refs = this.$refs) === null || _this$$refs === void 0 ? void 0 : (_this$$refs$mainconte = _this$$refs.maincontent) === null || _this$$refs$mainconte === void 0 ? void 0 : _this$$refs$mainconte.showNotificationBanner(type, msg_title, msg_body, icon, false, buttons);\n    },\n    onPageLeave: function handler(event) {\n      // ON PAGE LEAVE\n      console.log(\"Shutdown Demokratiefabrik\");\n      this.$root.monitorFire(constants[\"a\" /* default */].MONITOR_EXIT);\n      runtime_store[\"a\" /* runtimeMutations */].exitApp();\n    }\n  }, Object(vuex_esm[\"b\" /* mapActions */])({\n    touchRandomSeed: \"publicprofilestore/touchRandomSeed\",\n    storeOauthAcls: \"publicprofilestore/storeOauthAcls\",\n    clearUserData: \"clearUserData\"\n  })),\n  created: function created() {\n    var _this = this;\n\n    // GlOBAL Page Unmount Listener\n    window.addEventListener('beforeunload', this.onPageLeave); // Catch globally all show and hide TextLoading events\n\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"reload\", function () {\n      _this.$root.reload();\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showServiceError\", function (data) {\n      var _this$$refs2, _this$$refs2$maincont;\n\n      var msg_title = _this.$i18n.t(\"app.error.service_error_title\");\n\n      var msg_body = _this.$i18n.t(\"app.error.service_error_body\");\n\n      var icon = \"mdi-alarm-light-outline\";\n      var settimer = data !== null && data !== void 0 && data.settimer ? data.settimer : false;\n      var buttons = data !== null && data !== void 0 && data.nobuttons ? [] : [\"reload\"];\n      var type = \"error\";\n      (_this$$refs2 = _this.$refs) === null || _this$$refs2 === void 0 ? void 0 : (_this$$refs2$maincont = _this$$refs2.maincontent) === null || _this$$refs2$maincont === void 0 ? void 0 : _this$$refs2$maincont.showNotificationBanner(type, msg_title, msg_body, icon, settimer, buttons);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$once(\"showNetworkError\", function (data) {\n      _this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_ERROR_NETWORK, data);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showNetworkError\", function (data) {\n      var _this$$refs3, _this$$refs3$maincont;\n\n      var msg_title = _this.$i18n.t(\"app.error.network_error_title\");\n\n      var msg_body = _this.$i18n.t(\"app.error.network_error_body\");\n\n      var icon = \"mdi-alarm-light-outline\";\n      var type = \"error\";\n      var buttons = ['reload', 'hide'];\n      (_this$$refs3 = _this.$refs) === null || _this$$refs3 === void 0 ? void 0 : (_this$$refs3$maincont = _this$$refs3.maincontent) === null || _this$$refs3$maincont === void 0 ? void 0 : _this$$refs3$maincont.showNotificationBanner(type, msg_title, msg_body, icon, null, buttons);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showAuthorizationError\", function (data) {\n      _this.showAuthorizationError(data);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showAuthorizationInvalidToken\", function (data) {\n      var _this$$refs4, _this$$refs4$maincont;\n\n      _this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_ERROR_INVALID_TOKEN, data);\n\n      var msg_title = _this.$i18n.t(\"auth.authentication_invalid_warning_title\");\n\n      var msg_body = _this.$i18n.t(\"auth.authentication_invalid_warning_body\");\n\n      var icon = \"mdi-key-outline\";\n      var type = \"error\";\n      var settimer = data !== null && data !== void 0 && data.settimer ? data.settimer : false;\n      var buttons = ['auth'];\n      (_this$$refs4 = _this.$refs) === null || _this$$refs4 === void 0 ? void 0 : (_this$$refs4$maincont = _this$$refs4.maincontent) === null || _this$$refs4$maincont === void 0 ? void 0 : _this$$refs4$maincont.showNotificationBanner(type, msg_title, msg_body, icon, settimer, buttons);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showTooManyRequestsError\", function (data) {\n      var _this$$refs5, _this$$refs5$maincont;\n\n      _this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_ERROR_TOO_MANY_REQUESTS, data);\n\n      var msg_title = _this.$i18n.t(\"app.error.toomanyrequests_error_title\");\n\n      var msg_body = _this.$i18n.t(\"app.error.toomanyrequests_error_body\");\n\n      var icon = \"mdi-car-multiple\";\n      var type = \"error\";\n      (_this$$refs5 = _this.$refs) === null || _this$$refs5 === void 0 ? void 0 : (_this$$refs5$maincont = _this$$refs5.maincontent) === null || _this$$refs5$maincont === void 0 ? void 0 : _this$$refs5$maincont.showNotificationBanner(type, msg_title, msg_body, icon);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showAuthenticationWarning\", function (data) {\n      var _this$$refs6, _this$$refs6$maincont;\n\n      _this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_WARNING_AUTHENTICATION, data);\n\n      var type = \"warning\";\n      var icon = \"mdi-emoticon-cool-outline\";\n\n      var msg_title = _this.$i18n.t(\"auth.authentication_warning_title\");\n\n      var msg_body = _this.$i18n.t(\"auth.authentication_warning_body\");\n\n      (_this$$refs6 = _this.$refs) === null || _this$$refs6 === void 0 ? void 0 : (_this$$refs6$maincont = _this$$refs6.maincontent) === null || _this$$refs6$maincont === void 0 ? void 0 : _this$$refs6$maincont.showNotificationBanner(type, msg_title, msg_body, icon, false, [\"auth\", \"home\"]);\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"showAuthenticationError\", function (data) {\n      var _this$$refs7, _this$$refs7$maincont;\n\n      _this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_ERROR_AUTHENTICATION, data);\n\n      var type = \"error\";\n      var icon = \"mdi-alarm-light-outline\";\n\n      var msg_title = _this.$i18n.t(\"auth.authentication_error_title\");\n\n      var msg_body = _this.$i18n.t(\"auth.authentication_error_body\");\n\n      (_this$$refs7 = _this.$refs) === null || _this$$refs7 === void 0 ? void 0 : (_this$$refs7$maincont = _this$$refs7.maincontent) === null || _this$$refs7$maincont === void 0 ? void 0 : _this$$refs7$maincont.showNotificationBanner(type, msg_title, msg_body, icon);\n    }); // LayoutEventBus.$on(\"AfterProfileUpdate\", (data) => {\n    //   this.$root.monitorLog(constants.MONITOR_ACCOUNT_PROFILE_UPDATE, data)\n    //   const type = \"info\";\n    //   const icon = \"mdi-account\";\n    //   const msg_title = \"Benutzerprofil gespeichert\"; // this.$i18n.t('auth.authentication_error_title')\n    //   const msg_body = `Das Benutzerprofil wurde erfolgreich gespeichert. berprfen Sie bitte ein letztes Mal ob die folgende Kontaktangabe korrekt ist: ${data.userEmail}`;\n    //   const buttons = [\"redirect\", \"profile\"];\n    //   this.$refs?.maincontent?.showNotificationBanner(\n    //     type,\n    //     msg_title,\n    //     msg_body,\n    //     icon,\n    //     false,\n    //     buttons,\n    //     data.destination_route\n    //   );\n    // });\n\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"PublicProfileLoaded\", function () {\n      // SYNC USER PROFILE\n      // console.log(\"on PublicProfileLoaded\")\n      // is email already set: if not => redirect to userprofile...\n      _this.$store.dispatch(\"publicprofilestore/setUsernameDerivate\", {\n        usernameDerivate: _this.usernameDerivate()\n      });\n    });\n    eventbus[\"a\" /* LayoutEventBus */].$on(\"hideNotificationBanners\", function (data) {\n      var _this$$refs8, _this$$refs8$maincont;\n\n      (_this$$refs8 = _this.$refs) === null || _this$$refs8 === void 0 ? void 0 : (_this$$refs8$maincont = _this$$refs8.maincontent) === null || _this$$refs8$maincont === void 0 ? void 0 : _this$$refs8$maincont.hideNotificationBanner();\n    }); // oAuth2PKCE Hooks\n\n    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$on('AfterTokenChanged', function (data) {\n      var _this$oauth, _this$oauth$payload;\n\n      // NOTIFY EVERYONE, THAT TOKEN HAS CHANGED NOW!\n      _this.storeOauthAcls({\n        oauthAcls: (_this$oauth = _this.oauth) === null || _this$oauth === void 0 ? void 0 : (_this$oauth$payload = _this$oauth.payload) === null || _this$oauth$payload === void 0 ? void 0 : _this$oauth$payload.roles\n      });\n    });\n    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$on(\"AfterLogout\", function () {\n      _this.$router.push({\n        name: \"logout\"\n      });\n\n      _this.$root.clearUserData();\n    });\n    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$on('AfterLogin', function () {\n      // reset monitor routine (and push first action)\n      _this.$store.dispatch('monitorSetup');\n\n      _this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_LOGIN); // CHECK FOR REDIRECTION URL in local storage (During Login)\n\n\n      var destination_route = JSON.parse(localStorage.getItem('oauth2authcodepkce-destination'));\n\n      if (destination_route) {\n        localStorage.removeItem('oauth2authcodepkce-destination');\n\n        _this.$router.push(destination_route);\n      } else {\n        _this.$router.push({\n          name: 'home'\n        });\n      } // Clear data of last session...\n\n\n      _this.$root.clearSession();\n    }); // Random Seed => for random allocation of things (i.e. artificial moderator avatars)\n\n    this.touchRandomSeed(); // to enforce reload of page container!\n\n    this.$root.reload = function () {\n      _this.componentKey += 1;\n    };\n\n    this.$root.initialized = false; // MONITOR ACTIVITIES OF USERS (periodically and on demand)\n\n    this.$store.dispatch('monitorSetup');\n\n    this.$root.getAssemblyHomeRoute = function (assembly) {\n      // console.log(\"get assembly route \", assembly)\n      return {\n        name: assembly.type,\n        params: {\n          assemblyIdentifier: assembly.identifier\n        }\n      };\n    };\n\n    this.$root.getAssemblyManageRoute = function (assembly) {\n      // console.log(\"KKK\", {\n      //   name: 'assembly_manage',\n      //   params: { assemblyIdentifier: assembly.identifier }\n      // });\n      // if (assembly.acl.includes('manage')) {\n      return {\n        name: 'assembly_manage',\n        params: {\n          assemblyIdentifier: assembly.identifier\n        }\n      }; // }\n    };\n\n    this.$root.gotoAssemblyManage = function (assembly) {\n      var route = _this.$root.getAssemblyManageRoute(assembly);\n\n      _this.$router.pushR(route);\n    };\n\n    this.$root.gotoAssemblyHome = function (assembly) {\n      var route = _this.$root.getAssemblyHomeRoute(assembly);\n\n      _this.$router.pushR(route);\n    };\n\n    this.$root.scrollToAnchor = function (anchor) {\n      var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n      var lag = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var dom = document.getElementsByName(anchor);\n      var ele = dom === null || dom === void 0 ? void 0 : dom.item(0);\n\n      var scrollFnc = function scrollFnc() {\n        _this.fixedSelectedItem = anchor;\n\n        var offset = _this.$getOffsetTop(ele) - _this.$root.headerOffset;\n\n        setScrollPosition(window, offset, duration);\n        setTimeout(function () {\n          return _this.fixedSelectedItem = null;\n        }, duration);\n      };\n\n      if (lag) {\n        setTimeout(scrollFnc, lag);\n      } else {\n        scrollFnc();\n      }\n    }, this.$root.logout = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var eventString,\n          extra,\n          _args = arguments;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              eventString = _args.length > 0 && _args[0] !== undefined ? _args[0] : null;\n              extra = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n              _context.next = 4;\n              return _this.$store.dispatch('monitorFire', {\n                eventString: constants[\"a\" /* default */].MONITOR_LOGOUT,\n                data: {}\n              });\n\n            case 4:\n              _this.oauth.logout();\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    this.$root.username = function (profile) {\n      return profile ? profile.U : \"Anonymous\";\n    };\n\n    this.$root.username_derivation = function (profile, shortversion) {\n      if (!profile) {\n        return \"\";\n      }\n\n      var altitude = profile.ALT;\n      var fullname = profile.FN;\n      var canton = profile.CA;\n      return _this.$i18n.t(\"auth.name_derivation_3rd_party\".concat(shortversion ? '_short' : ''), {\n        fullname: fullname,\n        canton: canton,\n        altitude: altitude\n      });\n    };\n\n    this.$root.monitorLog = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var eventString,\n          extra,\n          route,\n          data,\n          _args2 = arguments;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              eventString = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : null;\n              extra = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n\n              if (_this.oauth.authorized) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", null);\n\n            case 4:\n              route = _this.$router.currentRouteObject();\n              data = objectSpread2_default()(objectSpread2_default()({\n                name: route.name\n              }, route.params), extra);\n\n              _this.$store.dispatch('monitorLog', {\n                eventString: eventString,\n                data: data\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.$root.monitorFire = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var eventString,\n          extra,\n          route,\n          data,\n          _args3 = arguments;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              eventString = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : null;\n              extra = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {};\n\n              if (_this.oauth.authorized) {\n                _context3.next = 4;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", null);\n\n            case 4:\n              route = _this.$router.currentRouteObject();\n              data = objectSpread2_default()(objectSpread2_default()({\n                name: route.name\n              }, route.params), extra);\n              _context3.next = 8;\n              return _this.$store.dispatch('monitorFire', {\n                eventString: eventString,\n                data: data\n              });\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    /**\n     * Clear all the data, that we want to reset for every participation session\n     */\n\n    this.$root.clearSession = function () {\n      runtime_store[\"a\" /* runtimeMutations */].setStageID(null);\n      runtime_store[\"a\" /* runtimeMutations */].setAssemblyIdentifier(null);\n    };\n    /**\n     * Clear all the data, that is linked to a certain user. => performed at logout\n     */\n\n\n    this.$root.clearUserData = function () {\n      _this.$root.clearSession();\n\n      _this.clearUserData();\n    }; // console.log(\"--- end of app.js created\")\n\n  },\n  mounted: function () {\n    var _mounted = asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var intervall, _this$oauth$payload2;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log(\"*** INIT OAUTH ***\"); // let response = null\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return this.oauth.initialize();\n\n            case 4:\n              _context4.next = 17;\n              break;\n\n            case 6:\n              _context4.prev = 6;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.log(\"error in oauth initialization...\", _context4.t0);\n              _context4.t1 = _context4.t0.message;\n              _context4.next = _context4.t1 === 'ErrorInvalidGrant' ? 12 : 14;\n              break;\n\n            case 12:\n              eventbus[\"a\" /* LayoutEventBus */].$emit('showAuthorizationInvalidToken');\n              return _context4.abrupt(\"break\", 16);\n\n            case 14:\n              eventbus[\"a\" /* LayoutEventBus */].$emit('showServiceError', {\n                nobuttons: true\n              });\n              return _context4.abrupt(\"break\", 16);\n\n            case 16:\n              return _context4.abrupt(\"return\");\n\n            case 17:\n              // check token \n              console.log(\"*** TOKEN EXPIRE? ***\");\n              _context4.next = 20;\n              return this.oauth.refresh_token_if_required();\n\n            case 20:\n              this.appInitialized = _context4.sent;\n              // this.appInitialized = false\n              // console.log(\"...STATUS\", this.appInitialized)\n              console.log(\"*** START MONITOR ENGINE ***\"); // Start periodic monitorLog Raiser\n              // keep this interval low (much lower than the intervall number specified in env. files) \n              // (e.g. 1 Min.)\n\n              intervall = parseInt(\"60\");\n\n              if (!intervall) {\n                intervall = 60;\n              } // TODO: THIS MONITOR RUNS MULTIPLE TIMES (guess because of dev live DOM updates...)\n\n\n              this.$root.$monitorTimer = setInterval(function () {\n                console.log(\"/i\");\n\n                _this2.$root.monitorFire();\n              }, intervall * 1000); // In case of oauth error. Dont load data from resource server...\n\n              if (!this.appInitialized) {\n                _context4.next = 33;\n                break;\n              }\n\n              console.log(\"*** SYNC LOCAL DATA ***\");\n              console.log(\"...publicIndex\");\n              this.$store.dispatch('publicindexstore/syncPublicIndex');\n\n              if (!this.oauth.userid) {\n                _context4.next = 33;\n                break;\n              }\n\n              console.log(\"...profile\");\n              _context4.next = 33;\n              return this.$store.dispatch(\"publicprofilestore/syncProfile\", {\n                oauthUserID: this.oauth.userid,\n                oauthUserEmail: (_this$oauth$payload2 = this.oauth.payload) === null || _this$oauth$payload2 === void 0 ? void 0 : _this$oauth$payload2.userEmail\n              });\n\n            case 33:\n              // END\n              console.log(\"*** APP MOUNTED ***\");\n              console.log(\"ALLOW AUTODETECTION OF POLYFILLS\");\n              console.log(window.fetch);\n\n            case 36:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this, [[1, 6]]);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    console.log(\"ALLOW AUTODETECTION OF POLYFILLS\");\n    console.log(window.fetch); // TODO: destroy all eventbus listeners!!!\n    // Don't forget to turn the listener off before your component is destroyed\n    // this.$root.$off('openLeftDrawer', this.openLeftDrawerCallback)\n  }\n});\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Appvue_type_script_lang_js_ = ({\n  name: \"App\",\n  mixins: [mixins_app]\n});\n// CONCATENATED MODULE: ./src/App.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_Appvue_type_script_lang_js_ = (Appvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/App.vue?vue&type=style&index=0&id=29f922b9&scoped=true&lang=css&\nvar Appvue_type_style_index_0_id_29f922b9_scoped_true_lang_css_ = __webpack_require__(\"5e55\");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// CONCATENATED MODULE: ./src/App.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  src_Appvue_type_script_lang_js_,\n  Appvue_type_template_id_29f922b9_scoped_true_render,\n  staticRenderFns,\n  false,\n  null,\n  \"29f922b9\",\n  null\n  \n)\n\n/* harmony default export */ var App = (component.exports);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(\"4de4\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.for-each.js\nvar es_array_for_each = __webpack_require__(\"4160\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(\"d81d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(\"b64b\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(\"159b\");\n\n// EXTERNAL MODULE: ./node_modules/vuex-persistedstate/dist/vuex-persistedstate.es.js\nvar vuex_persistedstate_es = __webpack_require__(\"0e44\");\n\n// EXTERNAL MODULE: ./src/utils/api.js\nvar api = __webpack_require__(\"7c15\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/utils/date.js\nvar date = __webpack_require__(\"bd4c\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(\"e260\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.some.js\nvar es_array_some = __webpack_require__(\"45fc\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.entries.js\nvar es_object_entries = __webpack_require__(\"4fad\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.values.js\nvar es_object_values = __webpack_require__(\"07ac\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(\"ddb0\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(\"278c\");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/defineProperty.js\nvar defineProperty = __webpack_require__(\"9523\");\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);\n\n// EXTERNAL MODULE: ./src/mixins/content.js\nvar mixins_content = __webpack_require__(\"9fd8\");\n\n// CONCATENATED MODULE: ./src/store/vuex-store-contenttree.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _getters;\n\n/* ContentTree are stored in LocalStorage. */\n\n\n\n // import date from 'quasar/src/utils/date.js';\n\nvar vuex_store_contenttree_state = {\n  contenttree: {},\n  expanded_branches: {}\n};\nvar vuex_store_contenttree_getters = (_getters = {\n  get_contenttree: function get_contenttree(state) {\n    return function (_ref) {\n      var contenttreeID = _ref.contenttreeID;\n      // return state.things.find(thing => thing.identifier === id)\n      // console.log(contenttreeID)\n      console.assert(contenttreeID);\n\n      if (!(contenttreeID in state.contenttree)) {\n        return null;\n      }\n\n      return state.contenttree[contenttreeID];\n    };\n  },\n  get_content: function get_content(state) {\n    return function (_ref2) {\n      var contenttreeID = _ref2.contenttreeID,\n          contentID = _ref2.contentID;\n      // return state.things.find(thing => thing.identifier === id)\n      // console.log(contenttreeID)\n      console.assert(contenttreeID);\n      console.assert(contentID);\n\n      if (!(contenttreeID in state.contenttree)) {\n        return null;\n      }\n\n      console.log(contenttreeID, contentID);\n\n      if (!(contentID in state.contenttree[contenttreeID].entries)) {\n        return null;\n      }\n\n      return state.contenttree[contenttreeID].entries[contentID];\n    };\n  },\n  get_content_text_max_length: function get_content_text_max_length(state) {\n    return function (_ref3) {\n      var contenttreeID = _ref3.contenttreeID,\n          type = _ref3.type;\n      console.log(contenttreeID, type);\n      var MAX_LENGTHS = state.contenttree[contenttreeID].configuration.CONTENT_TEXT_MAX_LENGTH_BY_TYPES;\n\n      if (type in MAX_LENGTHS) {\n        return MAX_LENGTHS[type];\n      }\n\n      return state.contenttree[contenttreeID].configuration.DEFAULT_CONTENT_TEXT_MAX_LENGTH;\n    };\n  },\n  get_allowed_node_types: function get_allowed_node_types(state) {\n    return function (_ref4) {\n      var contenttreeID = _ref4.contenttreeID,\n          parentType = _ref4.parentType;\n      // Allowed types by ontology\n      var types = [];\n\n      if (parentType === undefined) {\n        types = state.contenttree[contenttreeID].configuration.CONTENTTYPES;\n      } else {\n        types = state.contenttree[contenttreeID].configuration.ONTOLOGY[parentType];\n      }\n\n      return types;\n    };\n  },\n  get_node_types_with_add_permission: function get_node_types_with_add_permission(state) {\n    return function (_ref5) {\n      var contenttreeID = _ref5.contenttreeID;\n      // Allowed types by ontology\n      return state.contenttree[contenttreeID].configuration.ALLOWED_CONTENT_TYPES_TO_ADD;\n    };\n  },\n  getExpandedBranches: function getExpandedBranches(state) {\n    return function (_ref6) {\n      var contenttreeID = _ref6.contenttreeID,\n          rootNodeID = _ref6.rootNodeID;\n      var key = contenttreeID + '-' + rootNodeID;\n\n      if (!(key in state.expanded_branches)) {\n        return null;\n      }\n\n      return state.expanded_branches[key];\n    };\n  }\n}, defineProperty_default()(_getters, \"get_content\", function get_content(state) {\n  return function (_ref7) {\n    var _state$contenttree$co;\n\n    var contenttreeID = _ref7.contenttreeID,\n        contentID = _ref7.contentID;\n    return (_state$contenttree$co = state.contenttree[contenttreeID]) === null || _state$contenttree$co === void 0 ? void 0 : _state$contenttree$co.entries[contentID];\n  };\n}), defineProperty_default()(_getters, \"isCommonPropertyByConentType\", function isCommonPropertyByConentType(state) {\n  return function (_ref8) {\n    var contenttreeID = _ref8.contenttreeID,\n        type = _ref8.type;\n\n    if (!state.contenttree[contenttreeID].configuration.CONTENTTYPES.includes(type)) {\n      return null;\n    }\n\n    return state.contenttree[contenttreeID].configuration.COMMON_PROPERTY_CONTENT.includes(type);\n  };\n}), defineProperty_default()(_getters, \"monitorPathChange\", function monitorPathChange(state) {\n  return function (_ref9) {\n    var _state$contenttree$co2, _state$contenttree$co3;\n\n    var contentTuple = _ref9.contentTuple;\n    // return yes, if parent_id changed or if path is not yet set.\n    console.assert(contentTuple && contentTuple.content && contentTuple.content.id);\n    var contenttreeID = contentTuple.content.contenttree_id;\n    console.assert(contenttreeID);\n    var previousParentID = (_state$contenttree$co2 = state.contenttree[contenttreeID].entries[contentTuple.content.id]) === null || _state$contenttree$co2 === void 0 ? void 0 : (_state$contenttree$co3 = _state$contenttree$co2.content) === null || _state$contenttree$co3 === void 0 ? void 0 : _state$contenttree$co3.parent_id;\n    return previousParentID !== contentTuple.content.parent_id;\n  };\n}), _getters);\nvar actions = {\n  /* Retrieve new version of the contenttree <assemblyIdentifier>.<contenttreeID>\r\n  If timelag is set to true, the method will wait a few seconds to give priority the other \r\n  API-Requests. (e.g. RetrieveAssembly)\r\n  TODO: is there a better way to queue API Requests. \r\n  (Consider also the problem of oAuth2 Token refreshs, that are then issued twice..)\r\n  */\n  retrieveContenttree: function retrieveContenttree(_ref10, _ref11) {\n    var commit = _ref10.commit;\n    var assemblyIdentifier = _ref11.assemblyIdentifier,\n        contenttreeID = _ref11.contenttreeID,\n        timelag = _ref11.timelag;\n    console.log(\"with timelage\", timelag);\n    var timeout = timelag ? 5 : 0;\n    setTimeout(function () {\n      // console.log('Retrieve contenttree from resource server' + contenttreeID)\n      console.assert(contenttreeID);\n      api[\"a\" /* default */].retrieveContenttree(assemblyIdentifier, contenttreeID).then(function (response) {\n        // update\n        // console.log('save full contenttree to cache.')\n        console.assert(response.data);\n        console.assert('OK' in response.data);\n        console.assert('contenttree' in response.data);\n        var configuration = 'configuration' in response.data ? response.data.configuration : null;\n        commit('add_or_update_contenttree', {\n          contenttreeID: contenttreeID,\n          contenttree: response.data.contenttree,\n          configuration: configuration\n        });\n      }).catch(function (error) {\n        console.warn(\"Request Error\", error);\n      });\n    });\n  },\n\n  /* Retrieve modifed content of the contenttree <assemblyIdentifier>.<contenttreeID>\r\n  */\n  updateContenttree: function updateContenttree(_ref12, _ref13) {\n    var commit = _ref12.commit,\n        dispatch = _ref12.dispatch;\n    var assemblyIdentifier = _ref13.assemblyIdentifier,\n        contenttreeID = _ref13.contenttreeID,\n        update_date = _ref13.update_date,\n        timelag = _ref13.timelag;\n    console.log(\"UPDATE CONTENTTREE; now! with timelage\", timelag);\n    commit('set_update_date_to_current', {\n      contenttreeID: contenttreeID\n    });\n    var timeout = timelag ? 1000 : 0;\n    setTimeout(function () {\n      // console.log('Retrieve contenttree from resource server' + contenttreeID)\n      console.assert(contenttreeID);\n      api[\"a\" /* default */].updateContenttree(assemblyIdentifier, contenttreeID, update_date, timelag).then(function (response) {\n        console.log(\"RESPONSE OF CONTENTTREE UPDATE IS HERE...\", response.data);\n        console.assert(response === null || response === void 0 ? void 0 : response.data);\n        console.assert('OK' in response.data);\n        var modifiedContents = response.data.contents;\n\n        if (modifiedContents && Object.values(modifiedContents).length) {\n          console.log(\"STORE MODIFIED CONTENT TO DISK\", modifiedContents);\n          dispatch('update_contents', {\n            modifiedContents: modifiedContents\n          });\n        }\n      }).catch(function (error) {\n        console.warn(\"Request Error\", error);\n      });\n    });\n  },\n  add_or_update_contenttree: function add_or_update_contenttree(_ref14, _ref15) {\n    var commit = _ref14.commit;\n    var contenttreeID = _ref15.contenttreeID,\n        contenttree = _ref15.contenttree,\n        configuration = _ref15.configuration;\n    commit('add_or_update_contenttree', {\n      contenttreeID: contenttreeID,\n      contenttree: contenttree,\n      configuration: configuration\n    });\n  },\n  update_contents: function update_contents(_ref16, _ref17) {\n    var commit = _ref16.commit,\n        getters = _ref16.getters,\n        dispatch = _ref16.dispatch;\n    var modifiedContents = _ref17.modifiedContents;\n    // in case content or progression changes (without changing hirarchy...)\n    console.log(\"RETRIEVED MODIFIED CONTENTS (2)\", modifiedContents);\n    console.assert(modifiedContents !== undefined);\n    console.assert(modifiedContents !== null);\n    var contentIdsToUpdateStructure = {};\n\n    for (var _i = 0, _Object$values = Object.values(modifiedContents); _i < _Object$values.length; _i++) {\n      var contentTuple = _Object$values[_i];\n      console.assert(contentTuple !== undefined);\n      console.assert(contentTuple !== null); // collect all Contents with parent_id modifications (grouped by contenttree)\n\n      var contenttreeID = contentTuple.content.contenttree_id;\n\n      if (getters.monitorPathChange({\n        contentTuple: contentTuple\n      })) {\n        if (!contentIdsToUpdateStructure[contenttreeID]) {\n          contentIdsToUpdateStructure[contenttreeID] = [];\n        }\n\n        contentIdsToUpdateStructure[contenttreeID].push(contentTuple.content.id);\n      }\n\n      commit('update_content', {\n        contentTuple: contentTuple\n      });\n    } // UPDATE TREE STRUCTURE of parentID modified contents (grouped by contenttree)\n\n\n    if (contentIdsToUpdateStructure.length) {\n      console.log(\"PATH STRUCTURE IS TO UPDATE FOR \", contentIdsToUpdate.length, \" contents\");\n      Object.entries(contentIdsToUpdateStructure).forEach(function (_ref18) {\n        var _ref19 = slicedToArray_default()(_ref18, 2),\n            contenttreeID = _ref19[0],\n            contentIdsToUpdate = _ref19[1];\n\n        console.assert(contenttreeID);\n        dispatch('updateTreeStructure', {\n          contenttreeID: contenttreeID,\n          contentIdsToUpdate: contentIdsToUpdate\n        });\n      });\n    }\n  },\n  update_content: function update_content(_ref20, _ref21) {\n    var commit = _ref20.commit,\n        getters = _ref20.getters;\n    var contentTuple = _ref21.contentTuple;\n    // in case content or progression changes (without changing hirarchy...)\n    console.assert(contentTuple !== undefined);\n    console.assert(contentTuple !== null); // console.log(\"SEND TO mutate\", contentTuple);\n\n    var pathChanged = getters.monitorPathChange({\n      contentTuple: contentTuple\n    });\n    commit('update_content', {\n      contentTuple: contentTuple\n    });\n\n    if (pathChanged) {\n      // console.log(\"path changed\");\n      var contenttreeID = contentTuple.content.contenttree_id;\n      console.assert(contenttreeID);\n      commit('updateTreeStructure', {\n        contenttreeID: contenttreeID,\n        contentIdsToUpdate: [contentTuple.content.id]\n      });\n    }\n  },\n  update_rating: function update_rating(_ref22, _ref23) {\n    var commit = _ref22.commit;\n    var contenttreeID = _ref23.contenttreeID,\n        contentID = _ref23.contentID,\n        topicID = _ref23.topicID,\n        rating = _ref23.rating;\n    commit('update_rating', {\n      contenttreeID: contenttreeID,\n      contentID: contentID,\n      rating: rating\n    });\n\n    if (topicID && topicID !== contentID) {\n      console.log(\"update_discussed...topicID\", topicID);\n      commit('update_discussed', {\n        contenttreeID: contenttreeID,\n        contentID: topicID\n      });\n    }\n  },\n  update_review: function update_review(_ref24, _ref25) {\n    var commit = _ref24.commit;\n    var contenttreeID = _ref25.contenttreeID,\n        contentID = _ref25.contentID,\n        reviewed = _ref25.reviewed;\n    commit('update_review', {\n      contenttreeID: contenttreeID,\n      contentID: contentID,\n      reviewed: reviewed\n    });\n  },\n  update_salience: function update_salience(_ref26, _ref27) {\n    var commit = _ref26.commit;\n    var contenttreeID = _ref27.contenttreeID,\n        contentID = _ref27.contentID,\n        topicID = _ref27.topicID,\n        salience = _ref27.salience;\n    commit('update_salience', {\n      contenttreeID: contenttreeID,\n      contentID: contentID,\n      salience: salience\n    });\n\n    if (topicID && topicID !== contentID) {\n      commit('update_discussed', {\n        contenttreeID: contenttreeID,\n        contentID: topicID\n      });\n    }\n  },\n  update_read: function update_read(_ref28, _ref29) {\n    var commit = _ref28.commit;\n    var contenttreeID = _ref29.contenttreeID,\n        contentID = _ref29.contentID;\n    commit('update_read', {\n      contenttreeID: contenttreeID,\n      contentID: contentID\n    });\n  },\n  update_discussed: function update_discussed(_ref30, _ref31) {\n    var _content$progression;\n\n    var getters = _ref30.getters,\n        commit = _ref30.commit;\n    var contenttreeID = _ref31.contenttreeID,\n        contentID = _ref31.contentID;\n    console.assert(contentID);\n    console.log(\"first step in updat_discussion\", contenttreeID, contentID); // while (contentID) {\n\n    var content = getters.get_content({\n      contenttreeID: contenttreeID,\n      contentID: contentID\n    });\n\n    if (content !== null && content !== void 0 && (_content$progression = content.progression) !== null && _content$progression !== void 0 && _content$progression.discussed) {\n      // already discussed...\n      return;\n    }\n\n    commit('update_discussed', {\n      contenttreeID: contenttreeID,\n      contentID: contentID\n    }); // }\n  },\n  update_expanded_branches: function update_expanded_branches(_ref32, _ref33) {\n    var commit = _ref32.commit;\n    var contenttreeID = _ref33.contenttreeID,\n        rootNodeID = _ref33.rootNodeID,\n        expanded = _ref33.expanded;\n    // console.log(expanded)\n    commit('update_expanded_branches', {\n      contenttreeID: contenttreeID,\n      rootNodeID: rootNodeID,\n      expanded: expanded\n    });\n  },\n  deleteContentStore: function deleteContentStore(_ref34) {\n    var commit = _ref34.commit;\n    commit('deleteContentStore');\n  },\n  syncContenttree: function syncContenttree(_ref35, _ref36) {\n    var _state$contenttree$co4, _state$contenttree$co5;\n\n    var state = _ref35.state,\n        dispatch = _ref35.dispatch,\n        localgetters = _ref35.localgetters,\n        rootState = _ref35.rootState,\n        rootGetters = _ref35.rootGetters;\n    var assemblyIdentifier = _ref36.assemblyIdentifier,\n        contenttreeID = _ref36.contenttreeID,\n        oauthUserID = _ref36.oauthUserID;\n    // wrong user? and renew cache all x- minutes!\n    var wrongUser = state.contenttree[contenttreeID] && oauthUserID != ((_state$contenttree$co4 = state.contenttree[contenttreeID]) === null || _state$contenttree$co4 === void 0 ? void 0 : _state$contenttree$co4.access_sub);\n\n    if (wrongUser) {\n      // console.log('wrong user:-(')\n      vue_runtime_esm[\"default\"].set(state, 'contenttree', {});\n    }\n\n    var emptyContenttree = !state.contenttree[contenttreeID];\n    var expired = !emptyContenttree && api[\"a\" /* default */].expiredCacheDate((_state$contenttree$co5 = state.contenttree[contenttreeID]) === null || _state$contenttree$co5 === void 0 ? void 0 : _state$contenttree$co5.access_date);\n\n    if (!expired && !emptyContenttree && !wrongUser) {\n      // CACHE IS UP TO DATE!\n      // console.log('Contenttree Cache IS UP TO DATE')\n      // console.log(\"CONTENTREE CACHE IS STILL VALID! DO WE NEED TO CHECK FOR NEW CONTENT? \")\n      dispatch('checkToUpdateContenttree', {\n        assemblyIdentifier: assemblyIdentifier,\n        contenttreeID: contenttreeID\n      });\n      return true;\n    } // too old or missing cache: load the data from resource server...\n\n\n    console.log('Cache expired: reload contenttree', expired, wrongUser, emptyContenttree);\n    dispatch('retrieveContenttree', {\n      assemblyIdentifier: assemblyIdentifier,\n      contenttreeID: contenttreeID,\n      timelag: !emptyContenttree && !wrongUser\n    });\n  },\n  checkToUpdateContenttree: function checkToUpdateContenttree(_ref37, _ref38) {\n    var _state$contenttree$co6;\n\n    var state = _ref37.state,\n        dispatch = _ref37.dispatch,\n        localgetters = _ref37.localgetters,\n        rootState = _ref37.rootState,\n        rootGetters = _ref37.rootGetters;\n    var assemblyIdentifier = _ref38.assemblyIdentifier,\n        contenttreeID = _ref38.contenttreeID;\n    // Check for new content / Modified content, from time to time...\n    var update_date = (_state$contenttree$co6 = state.contenttree[contenttreeID]) === null || _state$contenttree$co6 === void 0 ? void 0 : _state$contenttree$co6.update_date;\n    console.assert(update_date);\n    var expiredUpdateTime = api[\"a\" /* default */].expiredUpdateDate(update_date);\n\n    if (!expiredUpdateTime) {\n      return true;\n    } // too old or missing cache: load the data from resource server...\n\n\n    console.log('Its update time: check for modified / new contents');\n    dispatch('updateContenttree', {\n      assemblyIdentifier: assemblyIdentifier,\n      contenttreeID: contenttreeID,\n      update_date: update_date,\n      timelag: true\n    });\n  }\n};\nvar mutations = {\n  add_or_update_contenttree: function add_or_update_contenttree(state, _ref39) {\n    var contenttreeID = _ref39.contenttreeID,\n        contenttree = _ref39.contenttree,\n        configuration = _ref39.configuration;\n    // keep list of opened contents (if previously available)\n    // console.log('update contenttree')\n    var configuration_old = null;\n    var expanded_old = null;\n\n    if (contenttreeID in state.contenttree) {\n      // expanded_old = state.contenttree[contenttreeID].expanded_by_default\n      configuration_old = state.contenttree[contenttreeID].configuration;\n    } // console.log(configuration)\n\n\n    contenttree.configuration = configuration ? configuration : configuration_old;\n\n    if (expanded_old) {\n      contenttree.expanded = expanded_old;\n    } // console.log(contenttree)\n    // console.log('new copy saved...')\n\n\n    vue_runtime_esm[\"default\"].set(state.contenttree, contenttreeID, contenttree);\n  },\n  update_content: function update_content(state, _ref40) {\n    var contentTuple = _ref40.contentTuple;\n    // in case content or progression changes (without changing hirarchy...)\n    console.assert(contentTuple !== undefined);\n    console.assert(contentTuple !== null);\n    var contenttreeID = contentTuple.content.contenttree_id;\n    var contentID = contentTuple.content.id; // NEW ENTRIES\n\n    if (!(contentID in state.contenttree[contenttreeID].entries)) {\n      console.assert(contentTuple.content);\n      console.assert(contentTuple.creator);\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries, contentTuple.content.id, {});\n    }\n\n    if (contentTuple.progression) {\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'progression', contentTuple.progression);\n    }\n\n    if (contentTuple.content) {\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'content', contentTuple.content);\n    }\n\n    if (contentTuple.creator) {\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'creator', contentTuple.creator);\n    }\n\n    if (contentTuple.path) {\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'path', contentTuple.path);\n    }\n  },\n  updateTreeStructure: function updateTreeStructure(state, _ref41) {\n    var contenttreeID = _ref41.contenttreeID,\n        contentIdsToUpdate = _ref41.contentIdsToUpdate;\n    console.log(\"content that have changed their parent object\", contentIdsToUpdate);\n    var contentsToUpdate = Object.values(state.contenttree[contenttreeID].entries).filter(function (contentTuple) {\n      return !contentTuple.path || contentTuple.path.some(function (r) {\n        return contentIdsToUpdate.includes(r);\n      });\n    });\n    console.log(\"content that is affected by parent_id modifications\", contentsToUpdate);\n    contentsToUpdate.forEach(function (contentTuple) {\n      console.log(\"UPDATE PATH FOR FOLLOGING CONTENTS\", contentIdsToUpdate);\n      var antecesdentID = contentTuple.content.id;\n      var antecesdent = state.contenttree[contenttreeID].entries[antecesdentID];\n      var rootElementIds = state.contenttree[contenttreeID].rootElementIds;\n      var isAmongRootElementIds = rootElementIds.includes(contentTuple.content.id);\n      console.assert(!antecesdentID || antecesdent);\n      var path = [];\n\n      while (antecesdent) {\n        // Add at the beginning\n        path.unshift(antecesdentID); // GET new Ancestore\n\n        antecesdentID = antecesdent.content.parent_id;\n\n        if (antecesdentID) {\n          antecesdent = state.contenttree[contenttreeID].entries[antecesdentID];\n        } else {\n          antecesdent = null;\n        }\n\n        console.assert(!antecesdentID || antecesdent); // console.log(\".\", antecesdentID)\n      }\n\n      console.log(\"updated Path: \", contentTuple, \":\", path);\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID], \"path\", path); // Update RootNode Ids...\n\n      if (contentTuple.content.parent_id && isAmongRootElementIds) {\n        // REMOVE\n        rootElementIds = rootElementIds.filter(function (x) {\n          return x !== contentTuple.content.id;\n        });\n        vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID], \"rootElementIds\", rootElementIds);\n      }\n\n      if (!contentTuple.content.parent_id && !isAmongRootElementIds) {\n        // ADD\n        rootElementIds.push(contentTuple.content.id);\n        vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID], \"rootElementIds\", rootElementIds); // console.log(\"add \")\n      }\n\n      console.log(\"CURRENT ROOT ELEMENTS:, \", rootElementIds);\n    });\n  },\n  update_expanded_branches: function update_expanded_branches(state, _ref42) {\n    var contenttreeID = _ref42.contenttreeID,\n        rootNodeID = _ref42.rootNodeID,\n        expanded = _ref42.expanded;\n    // in case content or progression changes (without changing hierarchy...)\n    var key = contenttreeID + '-' + rootNodeID;\n    vue_runtime_esm[\"default\"].set(state.expanded_branches, key, expanded);\n  },\n  delete_contenttree: function delete_contenttree(state, _ref43) {\n    var contenttreeID = _ref43.contenttreeID;\n    vue_runtime_esm[\"default\"].set(state.contenttree, key, null);\n  },\n  set_update_date_to_current: function set_update_date_to_current(state, _ref44) {\n    var contenttreeID = _ref44.contenttreeID;\n    var now = new Date();\n    vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID], 'update_date', now);\n  },\n  update_rating: function update_rating(state, _ref45) {\n    var _state$contenttree$co7, _state$contenttree$co8;\n\n    var contenttreeID = _ref45.contenttreeID,\n        contentID = _ref45.contentID,\n        rating = _ref45.rating;\n\n    // in case content or progression changes (without changing hierarchy...)\n    if (rating === null || rating === undefined) {\n      return null;\n    }\n\n    var progression = (_state$contenttree$co7 = state.contenttree[contenttreeID]) === null || _state$contenttree$co7 === void 0 ? void 0 : (_state$contenttree$co8 = _state$contenttree$co7.entries[contentID]) === null || _state$contenttree$co8 === void 0 ? void 0 : _state$contenttree$co8.progression;\n\n    if (!progression) {\n      progression = {\n        read: true,\n        discussed: true\n      };\n    } // store value\n\n\n    progression.rating = rating;\n    vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'progression', progression);\n  },\n  update_review: function update_review(state, _ref46) {\n    var _state$contenttree$co9, _state$contenttree$co10;\n\n    var contenttreeID = _ref46.contenttreeID,\n        contentID = _ref46.contentID,\n        reviewed = _ref46.reviewed;\n\n    // in case content or progression changes (without changing hierarchy...)\n    if (reviewed === null || reviewed === undefined) {\n      return null;\n    }\n\n    var content = (_state$contenttree$co9 = state.contenttree[contenttreeID]) === null || _state$contenttree$co9 === void 0 ? void 0 : (_state$contenttree$co10 = _state$contenttree$co9.entries[contentID]) === null || _state$contenttree$co10 === void 0 ? void 0 : _state$contenttree$co10.content;\n    console.assert(content); // store value\n\n    content.reviewed = reviewed;\n    vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'content', content);\n  },\n  update_read: function update_read(state, _ref47) {\n    var _state$contenttree$co11, _state$contenttree$co12;\n\n    var contenttreeID = _ref47.contenttreeID,\n        contentID = _ref47.contentID;\n    var progression = (_state$contenttree$co11 = state.contenttree[contenttreeID]) === null || _state$contenttree$co11 === void 0 ? void 0 : (_state$contenttree$co12 = _state$contenttree$co11.entries[contentID]) === null || _state$contenttree$co12 === void 0 ? void 0 : _state$contenttree$co12.progression;\n\n    if (!progression) {\n      progression = {\n        read: false,\n        discussed: false,\n        rating: null,\n        salience: null\n      };\n    } // store value\n\n\n    progression.read = true;\n    vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'progression', progression);\n  },\n  update_discussed: function update_discussed(state, _ref48) {\n    var _state$contenttree$co13, _state$contenttree$co14;\n\n    var contenttreeID = _ref48.contenttreeID,\n        contentID = _ref48.contentID;\n    // console.log(\"update_discussed ############\", contentID, contenttreeID)\n    var progression = (_state$contenttree$co13 = state.contenttree[contenttreeID]) === null || _state$contenttree$co13 === void 0 ? void 0 : (_state$contenttree$co14 = _state$contenttree$co13.entries[contentID]) === null || _state$contenttree$co14 === void 0 ? void 0 : _state$contenttree$co14.progression;\n\n    if (!progression) {\n      progression = {\n        read: true,\n        discussed: true,\n        rating: null,\n        salience: null\n      };\n      console.log(\"add progressison\", progression);\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'progression', progression);\n    } else {\n      console.log(\"update.. progressison discussed\", contentID);\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID].progression, 'discussed', true);\n    }\n  },\n  update_salience: function update_salience(state, _ref49) {\n    var _state$contenttree$co15, _state$contenttree$co16;\n\n    var contenttreeID = _ref49.contenttreeID,\n        contentID = _ref49.contentID,\n        salience = _ref49.salience;\n\n    if (salience === undefined) {\n      return null;\n    } // TARGET\n\n\n    var progression = (_state$contenttree$co15 = state.contenttree[contenttreeID]) === null || _state$contenttree$co15 === void 0 ? void 0 : (_state$contenttree$co16 = _state$contenttree$co15.entries[contentID]) === null || _state$contenttree$co16 === void 0 ? void 0 : _state$contenttree$co16.progression;\n\n    if (!progression) {\n      progression = {\n        read: true,\n        salience: salience,\n        discussed: true,\n        view: false\n      };\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID], 'progression', progression);\n    } else {\n      console.log(\"update.. progressison salienced\", contentID, salience);\n      vue_runtime_esm[\"default\"].set(state.contenttree[contenttreeID].entries[contentID].progression, 'salience', salience);\n    }\n  },\n  deleteContentStore: function deleteContentStore(state) {\n    vue_runtime_esm[\"default\"].set(state, 'contenttree', {});\n    vue_runtime_esm[\"default\"].set(state, 'expanded_branches', {});\n  }\n};\nvar contentstore = {\n  namespaced: true,\n  state: vuex_store_contenttree_state,\n  getters: vuex_store_contenttree_getters,\n  actions: actions,\n  mutations: mutations\n};\n// CONCATENATED MODULE: ./src/store/vuex-store-peerreview.js\n\n\n\n\n\n\n\n\n\n\n/* ContentTree are stored in LocalStorage. */\n\n // import content from 'src/mixins/content'\n\n;\nvar vuex_store_peerreview_state = {\n  peerreviews: {}\n};\nvar vuex_store_peerreview_getters = {\n  // TODO: not used, right?\n  all_peerreviews: function all_peerreviews(state) {\n    if (!Object.keys(state.peerreviews).length) {\n      return null;\n    }\n\n    var peerreviews = [];\n    Object.keys(state.peerreviews).forEach(function (contenttreeID) {\n      var entries = state.peerreviews[contenttreeID].entries;\n\n      if (entries) {\n        Object.values(entries).forEach(function (peerreview) {\n          peerreviews.push(peerreview);\n        });\n      }\n    });\n    return peerreviews;\n  },\n  loadedPeerreviewContententtrees: function loadedPeerreviewContententtrees(state) {\n    return Object.keys(state.peerreviews);\n  },\n  load_all_peerreviews_by_content_id: function load_all_peerreviews_by_content_id(state) {\n    if (!Object.keys(state.peerreviews).length) {\n      return null;\n    }\n\n    var peerreviews = {};\n    Object.keys(state.peerreviews).forEach(function (contenttreeID) {\n      var entries = state.peerreviews[contenttreeID].entries;\n\n      if (entries) {\n        Object.values(entries).forEach(function (peerreview) {\n          if (!peerreview.disabled) {\n            var content_id = peerreview.content.id;\n\n            if (!peerreviews[content_id]) {\n              peerreviews[content_id] = [];\n            }\n\n            peerreviews[content_id].push(peerreview);\n          }\n        });\n      }\n    });\n    return peerreviews;\n  },\n  // Open peerreviews assigned for the user...\n  // Only one per content is allowed!\n  get_user_peerreviews_by_content_id: function get_user_peerreviews_by_content_id(state) {\n    if (!Object.keys(state.peerreviews).length) {\n      return null;\n    }\n\n    var peerreviews = {};\n    Object.keys(state.peerreviews).forEach(function (contenttreeID) {\n      var entries = state.peerreviews[contenttreeID].entries;\n\n      if (entries) {\n        Object.values(entries).forEach(function (peerreview) {\n          // NOT ASSIGNED OR disabled\n          if (!peerreview.progression || peerreview.disabled) {\n            return;\n          } // STILL OPEN / OR closed today!\n\n\n          var todayResponse = peerreview.progression && date[\"b\" /* default */].isSameDate(new Date(), peerreview.progression.date_responded, 'day'); // Only those peerreviews that are still open\n          // Priority for those peerreviews are not responded...\n\n          if (todayResponse || !peerreview.peerreview.approved && !peerreview.peerreview.rejected) {\n            var content_id = peerreview.content.id;\n\n            if (!peerreviews[content_id]) {\n              peerreviews[content_id] = [];\n            }\n\n            peerreviews[content_id].push(peerreview);\n          }\n        });\n      }\n    });\n    return peerreviews;\n  },\n  // All peerreviews assigned for the user...\n  get_user_peerreviews_by_parent_and_content: function get_user_peerreviews_by_parent_and_content(state, getters) {\n    if (getters.get_user_peerreviews_by_content_id === null) {\n      return null;\n    }\n\n    var peerreviews = {};\n\n    for (var _i = 0, _Object$entries = Object.entries(getters.get_user_peerreviews_by_content_id); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = slicedToArray_default()(_Object$entries[_i], 2),\n          contentID = _Object$entries$_i[0],\n          contentPeerreviews = _Object$entries$_i[1];\n\n      var first = contentPeerreviews[Object.keys(contentPeerreviews)[0]];\n      var parentID = first.content.parent_id;\n\n      if (!peerreviews[parentID]) {\n        peerreviews[parentID] = {};\n      }\n\n      peerreviews[parentID][contentID] = contentPeerreviews;\n    }\n\n    return peerreviews;\n  },\n  get_peerreview_by_content: function get_peerreview_by_content(state, getters) {\n    return function (_ref) {\n      var contentID = _ref.contentID;\n      console.assert(contentID);\n      console.log(\"load peerreview of contentID\", contentID);\n      var peerreviews_by_content = getters.load_all_peerreviews_by_content_id;\n      console.assert(peerreviews_by_content != null);\n\n      if (contentID in peerreviews_by_content) {\n        return peerreviews_by_content[contentID];\n      }\n\n      return [];\n    };\n  },\n  get_peerreview: function get_peerreview(state) {\n    return function (_ref2) {\n      var contenttreeID = _ref2.contenttreeID,\n          peerreviewID = _ref2.peerreviewID;\n\n      if (!state.peerreviews.contenttreeID) {\n        return;\n      }\n\n      return state.peerreviews[contenttreeID].entries[peerreviewID];\n    };\n  }\n};\nvar vuex_store_peerreview_actions = {\n  /* Retrieve new version of the previews\r\n  If timelag is set to true, the method will wait a few seconds to give priority the other \r\n  API-Requests.\r\n  */\n  retrievePeerreviews: function retrievePeerreviews(_ref3, _ref4) {\n    var commit = _ref3.commit;\n    var assemblyIdentifier = _ref4.assemblyIdentifier,\n        contenttreeID = _ref4.contenttreeID,\n        timelag = _ref4.timelag;\n    // console.log(\"with timelage\", timelag)\n    var timeout = timelag ? 5 * 1000 : 0;\n    setTimeout(function () {\n      console.assert(contenttreeID);\n      api[\"a\" /* default */].retrievePeerreviews(assemblyIdentifier, contenttreeID).then(function (response) {\n        // update\n        // console.log('save full contenttree to cache.')\n        console.assert(response.data);\n        console.assert('OK' in response.data);\n        console.assert('peerreviews' in response.data);\n        commit('add_or_update_peerreviews', {\n          contenttreeID: contenttreeID,\n          peerreviews: response.data.peerreviews\n        });\n      }).catch(function (error) {\n        console.warn(\"Request Error\", error);\n      });\n    }, timeout);\n  },\n  update_response: function update_response(_ref5, _ref6) {\n    var commit = _ref5.commit;\n    var contenttreeID = _ref6.contenttreeID,\n        peerreviewID = _ref6.peerreviewID,\n        response = _ref6.response,\n        accept1 = _ref6.accept1,\n        accept2 = _ref6.accept2,\n        accept3 = _ref6.accept3;\n    commit('update_response', {\n      contenttreeID: contenttreeID,\n      peerreviewID: peerreviewID,\n      response: response,\n      accept1: accept1,\n      accept2: accept2,\n      accept3: accept3\n    });\n  },\n\n  /* Retrieve modifed content of the contenttree <assemblyIdentifier>.<contenttreeID>\r\n  */\n  updatePeerreviews: function updatePeerreviews(_ref7, _ref8) {\n    var commit = _ref7.commit;\n    var assemblyIdentifier = _ref8.assemblyIdentifier,\n        contenttreeID = _ref8.contenttreeID,\n        update_date = _ref8.update_date,\n        timelag = _ref8.timelag;\n    console.log(\"UPDATE CONTENTTREE; now! with timelage\", timelag);\n    commit('set_update_date_to_current', {\n      contenttreeID: contenttreeID\n    });\n    var timeout = timelag ? 1000 : 0;\n    setTimeout(function () {\n      // console.log('Retrieve contenttree from resource server' + contenttreeID)\n      console.assert(contenttreeID);\n      api[\"a\" /* default */].updatePeerreviews(assemblyIdentifier, contenttreeID, update_date, timelag).then(function (response) {\n        console.log(\"RESPONSE OF CONTENTTREE UPDATE IS HERE....\", response.data);\n        console.assert(response.data);\n        console.assert('OK' in response.data);\n        var modifiedReviews = response.data.contents;\n\n        if (modifiedReviews && Object.values(modifiedReviews).length) {\n          console.log(\"STORE MODIFIED CONTENT TO DISK\", modifiedReviews);\n          commit('update_reviews', {\n            peerreviewTuple: modifiedReviews\n          });\n        }\n      }).catch(function (error) {\n        console.warn(\"Request Error\", error);\n      });\n    });\n  },\n  updatePeerreviewTuples: function updatePeerreviewTuples(_ref9, _ref10) {\n    var commit = _ref9.commit,\n        getters = _ref9.getters,\n        dispatch = _ref9.dispatch;\n    var modifiedPeerreviews = _ref10.modifiedPeerreviews;\n    // in case content or progression changes (without changing hirarchy...)\n    console.log(\"RETRIEVED MODIFIED CONTENTS (2)\", modifiedPeerreviews);\n    console.assert(modifiedPeerreviews !== undefined);\n    console.assert(modifiedPeerreviews !== null);\n\n    for (var _i2 = 0, _Object$values = Object.values(modifiedPeerreviews); _i2 < _Object$values.length; _i2++) {\n      var peerreviewTuple = _Object$values[_i2];\n      console.assert(peerreviewTuple !== undefined);\n      console.assert(peerreviewTuple !== null);\n      dispatch('updatePeerreviewTuple', {\n        peerreviewTuple: peerreviewTuple\n      });\n    }\n  },\n  updatePeerreviewTuple: function updatePeerreviewTuple(_ref11, _ref12) {\n    var commit = _ref11.commit;\n    var peerreviewTuple = _ref12.peerreviewTuple;\n    console.log(peerreviewTuple);\n    commit('update_reviews', {\n      peerreviewTuple: peerreviewTuple\n    });\n  },\n  deletePeerreviewStore: function deletePeerreviewStore(_ref13) {\n    var commit = _ref13.commit;\n    commit('deletePeerreviewStore');\n  },\n  syncPeerreviews: function syncPeerreviews(_ref14, _ref15) {\n    var _state$peerreviews$co, _state$peerreviews$co2;\n\n    var state = _ref14.state,\n        dispatch = _ref14.dispatch;\n    var assemblyIdentifier = _ref15.assemblyIdentifier,\n        contenttreeID = _ref15.contenttreeID,\n        oauthUserID = _ref15.oauthUserID;\n    // wrong user? and renew cache all x- minutes!\n    var wrongUser = state.peerreviews[contenttreeID] && oauthUserID != ((_state$peerreviews$co = state.peerreviews[contenttreeID]) === null || _state$peerreviews$co === void 0 ? void 0 : _state$peerreviews$co.access_sub);\n\n    if (wrongUser) {\n      vue_runtime_esm[\"default\"].set(state, 'peerreviews', {});\n    }\n\n    var emptyPeerreviews = !state.peerreviews[contenttreeID];\n    var expired = !emptyPeerreviews && api[\"a\" /* default */].expiredCacheDate((_state$peerreviews$co2 = state.peerreviews[contenttreeID]) === null || _state$peerreviews$co2 === void 0 ? void 0 : _state$peerreviews$co2.access_date);\n\n    if (!expired && !emptyPeerreviews && !wrongUser) {\n      // console.log(\"CONTENTREE CACHE IS STILL VALID! DO WE NEED TO CHECK FOR NEW CONTENT? \")\n      dispatch('checkToUpdatePeerreviews', {\n        assemblyIdentifier: assemblyIdentifier,\n        contenttreeID: contenttreeID\n      });\n      return true;\n    } // too old or missing cache: load the data from resource server...\n\n\n    console.log('Cache expired: reload peerreviews', expired, wrongUser, emptyPeerreviews);\n    dispatch('retrievePeerreviews', {\n      assemblyIdentifier: assemblyIdentifier,\n      contenttreeID: contenttreeID,\n      timelag: true\n    });\n  },\n  checkToUpdatePeerreviews: function checkToUpdatePeerreviews(_ref16, _ref17) {\n    var _state$peerreviews$co3;\n\n    var state = _ref16.state,\n        dispatch = _ref16.dispatch;\n    var assemblyIdentifier = _ref17.assemblyIdentifier,\n        contenttreeID = _ref17.contenttreeID;\n    // Check for new content / Modified content, from time to time...\n    var update_date = (_state$peerreviews$co3 = state.peerreviews[contenttreeID]) === null || _state$peerreviews$co3 === void 0 ? void 0 : _state$peerreviews$co3.update_date;\n    console.assert(update_date);\n    var expiredUpdateTime = api[\"a\" /* default */].expiredUpdateDate(update_date);\n\n    if (!expiredUpdateTime) {\n      return true;\n    } // too old or missing cache: load the data from resource server...\n\n\n    console.log('Its update time: check for modified / new contents');\n    dispatch('updatePeerreviews', {\n      assemblyIdentifier: assemblyIdentifier,\n      contenttreeID: contenttreeID,\n      update_date: update_date,\n      timelag: true\n    });\n  }\n};\nvar vuex_store_peerreview_mutations = {\n  add_or_update_peerreviews: function add_or_update_peerreviews(state, _ref18) {\n    var contenttreeID = _ref18.contenttreeID,\n        peerreviews = _ref18.peerreviews;\n    console.assert(contenttreeID);\n    console.log(\"add_or_update_peerreviews\", contenttreeID, peerreviews); // console.log('new copy saved...')\n\n    vue_runtime_esm[\"default\"].set(state.peerreviews, contenttreeID, peerreviews);\n  },\n  update_reviews: function update_reviews(state, _ref19) {\n    var peerreviewTuple = _ref19.peerreviewTuple;\n    // in case content or progression changes (without changing hirarchy...)\n    // console.log(peerreviewTuple, \"lllllllllllllll\")\n    console.assert(peerreviewTuple !== undefined);\n    console.assert(peerreviewTuple !== null); // console.log(\"UPDATE PEERREVIEW TUPLE...\")\n\n    var contenttreeID = peerreviewTuple.peerreview.contenttree_id;\n    var peerreviewID = peerreviewTuple.peerreview.id; // NEW ENTRIES\n\n    if (!(peerreviewID in state.peerreviews[contenttreeID].entries)) {\n      console.assert(peerreviewTuple.peerreview);\n      console.assert(peerreviewTuple.creator);\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries, peerreviewID, {});\n    }\n\n    if (peerreviewTuple.peerreview) {\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID], 'peerreview', peerreviewTuple.peerreview);\n    }\n\n    if (peerreviewTuple.progression) {\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID], 'progression', peerreviewTuple.progression);\n    }\n\n    if (peerreviewTuple.content) {\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID], 'content', peerreviewTuple.content);\n    }\n\n    if (peerreviewTuple.creator) {\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID], 'creator', peerreviewTuple.creator);\n    }\n  },\n  set_update_date_to_current: function set_update_date_to_current(state, _ref20) {\n    var contenttreeID = _ref20.contenttreeID;\n    var now = new Date();\n    vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID], 'update_date', now);\n  },\n  update_response: function update_response(state, _ref21) {\n    var _state$peerreviews$co4, _state$peerreviews$co5;\n\n    var contenttreeID = _ref21.contenttreeID,\n        peerreviewID = _ref21.peerreviewID,\n        response = _ref21.response,\n        accept1 = _ref21.accept1,\n        accept2 = _ref21.accept2,\n        accept3 = _ref21.accept3;\n\n    // in case content or progression changes (without changing hierarchy...)\n    if (response === null || response === undefined) {\n      return null;\n    }\n\n    console.log(\"UPDATE VUEX PREEVIEW\");\n    var progression = (_state$peerreviews$co4 = state.peerreviews[contenttreeID]) === null || _state$peerreviews$co4 === void 0 ? void 0 : (_state$peerreviews$co5 = _state$peerreviews$co4.entries[peerreviewID]) === null || _state$peerreviews$co5 === void 0 ? void 0 : _state$peerreviews$co5.progression;\n\n    if (progression) {\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID].progression, 'response', response);\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID].progression, 'criteria_accept1', accept1);\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID].progression, 'criteria_accept2', accept2);\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID].progression, 'criteria_accept3', accept3);\n    } else {\n      progression = {\n        response: response,\n        criteria_accept1: accept1,\n        criteria_accept2: accept2,\n        criteria_accept3: accept3\n      };\n      vue_runtime_esm[\"default\"].set(state.peerreviews[contenttreeID].entries[peerreviewID], 'progression', progression);\n    }\n  },\n  deletePeerreviewStore: function deletePeerreviewStore(state) {\n    vue_runtime_esm[\"default\"].set(state, 'peerreviews', {});\n  }\n};\nvar peerreviewstore = {\n  namespaced: true,\n  state: vuex_store_peerreview_state,\n  getters: vuex_store_peerreview_getters,\n  actions: vuex_store_peerreview_actions,\n  mutations: vuex_store_peerreview_mutations\n};\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__(\"7db0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__(\"c975\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.reduce.js\nvar es_array_reduce = __webpack_require__(\"13d5\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.sort.js\nvar es_array_sort = __webpack_require__(\"4e82\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__(\"cca6\");\n\n// CONCATENATED MODULE: ./src/store/vuex-store-assembly.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Public Index: the publically accessible list of all potential accessible assemblies:\r\n- assemblies that are currently ongoing (require invitation)\r\n- assemblies that have been published (accessible by the public)\r\n*/\n\n\n\n\n;\nvar vuex_store_assembly_state = {\n  assemblydata: {},\n  stages: {},\n  milestones: {}\n};\nvar vuex_store_assembly_getters = {\n  assemblyTuple: function assemblyTuple(state, getters) {\n    if (!runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier) {\n      return null;\n    }\n\n    return state.assemblydata[runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier];\n  },\n  assembly: function assembly(state, getters) {\n    if (!getters.assemblyTuple) {\n      return null;\n    }\n\n    return getters.assemblyTuple.assembly;\n  },\n  assemblyName: function assemblyName(state, getters) {\n    if (getters.assembly) {\n      return getters.assembly.title;\n    }\n  },\n  assemblyType: function assemblyType(state, getters) {\n    if (getters.assembly) {\n      return getters.assembly.type;\n    }\n  },\n  assemblyConfiguration: function assemblyConfiguration(state, getters) {\n    if (!getters.assemblyTuple) {\n      console.log('...assemblyTuple not ready');\n      return null;\n    }\n\n    return getters.assemblyTuple.configuration;\n  },\n  assembly_userid: function assembly_userid(state, getters) {\n    if (!getters.assemblyTuple) {\n      console.log('...assemblyTuple not ready');\n      return null;\n    }\n\n    return getters.assemblyTuple.access_sub;\n  },\n  assemblyProgression: function assemblyProgression(state, getters) {\n    if (!getters.assemblyTuple) {\n      return null;\n    } // console.log(getters.assemblyTuple.progression)\n\n\n    return getters.assemblyTuple.progression;\n  },\n  assembly_stages: function assembly_stages(state, getters) {\n    if (!getters.assemblyTuple) {\n      console.log('...assemblyTuple not ready');\n      return null;\n    }\n\n    var stage_keys = getters.assemblyTuple.stages;\n    /** \r\n     * filter only the stages of the specific assembly\r\n     * */\n    // TODO: use Object.filter (defined in boot/index)\n\n    var stages = Object.keys(state.stages).filter(function (key) {\n      return stage_keys.includes(\"\".concat(key));\n    }).reduce(function (obj, key) {\n      obj[key] = state.stages[key];\n      return obj;\n    }, {});\n    return stages;\n  },\n\n  /**\r\n   * oAuth Server delivers user roles in the format \"<role>@<assemblyIdentifier>\".\r\n   * THis method translates thes roles in a list of acls for the given Assembly.\r\n   * => such as  ['delegate', 'modify', 'observe']\r\n   */\n  assemblyAcls: function assemblyAcls(state, getters, rootState, rootGetters) {\n    if (!runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier) {\n      return null;\n    }\n\n    var translateAclMethod = rootGetters[\"publicprofilestore/translateOauthAcls\"];\n    return translateAclMethod(runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier);\n  },\n  IsManager: function IsManager(state, getters) {\n    if (!getters.assemblyAcls) {\n      return null;\n    }\n\n    return getters.assemblyAcls.includes('manage');\n  },\n  IsObserver: function IsObserver(state, getters) {\n    if (!getters.assemblyAcls) {\n      return null;\n    }\n\n    return getters.assemblyAcls.includes('observe');\n  },\n  IsContributor: function IsContributor(state, getters) {\n    if (!getters.assemblyAcls) {\n      return null;\n    }\n\n    return getters.assemblyAcls.includes('add');\n  },\n  IsExpert: function IsExpert(state, getters) {\n    if (!getters.assemblyAcls) {\n      return null;\n    }\n\n    return getters.assemblyAcls.includes('expert');\n  },\n  IsDelegate: function IsDelegate(state, getters) {\n    if (!getters.assemblyAcls) {\n      return null;\n    }\n\n    return getters.assemblyAcls.includes('delegate');\n  },\n  stageMilestones: function stageMilestones(state, getters) {\n    var _getters$assemblyProg;\n\n    console.log(\">> NOTE: stageMilestones\");\n\n    if (!runtime_store[\"b\" /* runtimeStore */].stageID) {\n      console.log('...stageID not ready');\n      return null;\n    }\n\n    var day = (_getters$assemblyProg = getters.assemblyProgression) === null || _getters$assemblyProg === void 0 ? void 0 : _getters$assemblyProg.number_of_day_sessions;\n    console.assert(day && day > 0);\n    var stateMilestones = state.milestones[day];\n\n    if (!stateMilestones) {\n      return [];\n    }\n\n    var milestones = stateMilestones[runtime_store[\"b\" /* runtimeStore */].stageID];\n    return milestones ? milestones : [];\n  },\n  stageMilestoneLabels: function stageMilestoneLabels(state, getters) {\n    var milestones = getters.stageMilestones;\n\n    if (!milestones) {\n      console.log(\"empty milestoness...............sldfls\");\n      return [];\n    }\n\n    return milestones.map(function (milestone) {\n      return milestone.label;\n    });\n  },\n  stageMilestoneWeigths: function stageMilestoneWeigths(state, getters) {\n    var milestones = getters.stageMilestones;\n\n    if (!milestones) {\n      return {};\n    }\n\n    var weights = {};\n    milestones.forEach(function (milestone) {\n      if (!(milestone.label in weights)) {\n        weights[milestone.label] = 0;\n      }\n\n      ;\n      weights[milestone.label] += parseInt(milestone.weight);\n    });\n    return weights;\n  },\n  stageMilestonesCompleted: function stageMilestonesCompleted(state, getters) {\n    // Every user needs to archieve 10 milestones weights for each stage a day. \n    var milestones = getters.stageMilestones;\n    console.assert(milestones !== null);\n    var weights = milestones.reduce(function (n, milestone) {\n      return n + milestone['weight'];\n    }, 0); // console.log(weights, \"weights\")\n\n    return weights >= 12;\n  },\n  stage: function stage(state, getters, rootState, rootGetters, test1, test2) {\n    var stages = getters.assembly_stages;\n    return stages[runtime_store[\"b\" /* runtimeStore */].stageID];\n  },\n  assembly_sorted_stages: function assembly_sorted_stages(state, getters) {\n    // console.log(\">>..:Sort stages :\")\n    // console.trace()\n    var stages = getters.assembly_stages;\n\n    if (!stages) {\n      return null;\n    }\n\n    if (stages) {\n      return Object.values(stages).sort(function (a, b) {\n        return a.stage.order_position < b.stage.order_position ? -1 : a.stage.order_position > b.stage.order_position ? 1 : 0;\n      });\n    }\n  },\n\n  /** Which stage is  the next scheduled stage (if empty, no stages available or no scheduled stage available) */\n  next_scheduled_stage: function next_scheduled_stage(state, getters) {\n    // console.log(\">> next_scheduled_stage\")\n    // console.log(getters.assembly_sorted_stages)\n    var stages = getters.assembly_sorted_stages;\n\n    if (!stages) {\n      console.log('assemmbly is not yet loaded');\n      return null;\n    } // console.log(\"sorted stages,\", stages)\n    // console.log(getters.is_stage_scheduled(stages[1]))\n\n\n    var last_accessible_stage = stages.find(function (stage) {\n      return  true && getters.is_stage_scheduled(stage) && !getters.is_stage_disabled(stage) && !getters.is_stage_completed(stage);\n    }); // console.trace()\n\n    return last_accessible_stage;\n  },\n\n  /** Which stage is  the last one that is freely open / accessible */\n  last_accessible_stage: function last_accessible_stage(state, getters) {\n    var nextScheduledStage = getters.next_scheduled_stage;\n    var stages = getters.assembly_sorted_stages;\n\n    if (!stages) {\n      console.log('assemmbly is not yet loaded');\n      return null;\n    }\n\n    if (!nextScheduledStage) {\n      // it seems that all stages are open! => take the last one...\n      return stages[stages.length - 1];\n    } // console.log('current stage: ', nextScheduledStage)\n\n\n    return nextScheduledStage;\n  },\n\n  /* Return all stages, that are still to absolve */\n  assembly_scheduled_stages: function assembly_scheduled_stages(state, getters) {\n    var sorted_stages = getters.assembly_sorted_stages;\n\n    if (!sorted_stages) {\n      console.log('assemmbly is not yet loaded');\n      return null;\n    }\n\n    return sorted_stages.filter(function (stage) {\n      return getters.is_stage_scheduled(stage);\n    });\n  },\n\n  /** Which stages are freely open / accessible */\n  assembly_accessible_stages: function assembly_accessible_stages(state, getters) {\n    var sorted_stages = getters.assembly_sorted_stages;\n\n    if (!sorted_stages) {\n      console.log('assemmbly is not yet loaded');\n      return null;\n    } // console.assert(sorted_stages)\n\n\n    var last_accessible_stage = getters.last_accessible_stage;\n    console.assert(last_accessible_stage); // Return all stages until the last_accessible_stage\n\n    return sorted_stages.filter(function (stage) {\n      return  true && stage.stage.order_position <= last_accessible_stage.stage.order_position && !getters.is_stage_disabled(stage) && !getters.is_stage_completed(stage);\n    });\n  },\n\n  /** Which stages are freely open / accessible */\n  assembly_accessible_stage_ids: function assembly_accessible_stage_ids(state, getters) {\n    var accessible_stages = getters.assembly_accessible_stages;\n\n    if (!accessible_stages) {\n      return null;\n    }\n\n    return accessible_stages.map(function (stage) {\n      return stage.stage.id;\n    });\n  },\n  get_stage_number_by_stage: function get_stage_number_by_stage(state, getters) {\n    return function (stage) {\n      console.assert(stage);\n      var sorted_stages = getters.assembly_sorted_stages;\n      console.assert(sorted_stages);\n      var sorted_stage_ids = sorted_stages.map(function (stage) {\n        return stage.stage.id;\n      }); // console.log(sorted_stage_ids)\n\n      var stage_number = sorted_stage_ids.indexOf(stage.stage.id); // console.log(stage_number, \"stage_number of stage: \", stage)\n      // console.log(\"sorted_stage: \", sorted_stages)\n\n      console.assert(stage_number > -1);\n      return stage_number;\n    };\n  },\n  get_stage_number_by_stage_id: function get_stage_number_by_stage_id(state, getters) {\n    return function (stageID) {\n      if (!stageID) {\n        return null;\n      } // assembly loaded?\n\n\n      var sorted_stages = getters.assembly_sorted_stages;\n\n      if (!sorted_stages) {\n        return null;\n      }\n\n      console.assert(sorted_stages);\n      var sorted_stage_ids = sorted_stages.map(function (stage) {\n        return stage.stage.id;\n      });\n      var stage_number = sorted_stage_ids.indexOf(stageID); // console.log(\"find stage\", stageID, \" in \", sorted_stage_ids)\n\n      console.assert(stage_number > -1);\n      return stage_number;\n    };\n  },\n  find_next_accessible_stage: function find_next_accessible_stage(state, getters) {\n    return function (previous_stage) {\n      // console.log(\"previous stage: moveon \", previous_stage)\n      console.assert(previous_stage);\n      var next_stage = getters.assembly_accessible_stages.find(function (stage) {\n        return  true && stage.stage.order_position > previous_stage.stage.order_position;\n      }); // console.log(\"new stage found\", next_stage)\n\n      return next_stage;\n    };\n  },\n  is_stage_first: function is_stage_first(state, getters) {\n    return function (stage) {\n      console.assert(stage);\n      var sorted_stages = getters.assembly_sorted_stages;\n      return sorted_stages[0] == stage;\n    };\n  },\n  is_stage_last: function is_stage_last(state, getters) {\n    return function (stage) {\n      var _sorted_stages;\n\n      console.assert(stage);\n      console.assert(stage.stage);\n      var sorted_stages = getters.assembly_sorted_stages;\n      console.assert(sorted_stages[sorted_stages.length - 1]);\n      return ((_sorted_stages = sorted_stages[sorted_stages.length - 1]) === null || _sorted_stages === void 0 ? void 0 : _sorted_stages.stage.id) == stage.stage.id;\n    };\n  },\n\n  /* Is there still an activity required on this stage? */\n  is_stage_scheduled: function is_stage_scheduled(state, getters) {\n    return function (stage) {\n      console.assert(stage);\n\n      if (getters.is_stage_completed(stage)) {\n        return false;\n      }\n\n      return getters.is_stage_alerted(stage) || getters.is_stage_new(stage);\n    };\n  },\n\n  /** Which stage is new => no progression entry is available */\n  is_stage_new: function is_stage_new(state) {\n    return function (stage) {\n      console.assert(stage); // when progression entry not yet exists...\n\n      return !stage.progression;\n    };\n  },\n\n  /**\r\n   * Not scheduled, not new, not completeed => just idle\r\n   */\n  is_stage_alerted: function is_stage_alerted(state) {\n    return function (stage) {\n      // when progression entry not yet exists or when alerted flag is set...\n      return !stage.progression || stage.progression.alerted;\n    };\n  },\n  is_stage_idle: function is_stage_idle(state, getters) {\n    return function (stage) {\n      console.assert(stage);\n      return !getters.is_stage_scheduled(stage) && !getters.is_stage_completed(stage) && !getters.is_stage_disabled(stage);\n    };\n  },\n  is_stage_skipped: function is_stage_skipped(state) {\n    return function (stage) {\n      var _stage$progression;\n\n      console.assert(stage);\n      return (_stage$progression = stage.progression) === null || _stage$progression === void 0 ? void 0 : _stage$progression.skipped;\n    };\n  },\n  is_stage_disabled: function is_stage_disabled(state) {\n    return function (stage) {\n      console.assert(stage);\n      return false; // only admins see deleted attribute.\n      // return (stage.progression?.dis)\n      // TODO: not anymore available, right? return (stage.stage.disabled || stage.stage.deleted)\n    };\n  },\n\n  /** All stages that are not alerted, and are not new are skippable, right? */\n  // is_stage_skippable: (state, getters) => (stage) => {\n  //   console.assert(stage)\n  //   return (!getters.is_stage_alerted(stage) && !getters.is_stage_new(stage))\n  // },\n  is_stage_completed: function is_stage_completed(state) {\n    return function (stage) {\n      var _stage$progression2;\n\n      console.assert(stage);\n      return ((_stage$progression2 = stage.progression) === null || _stage$progression2 === void 0 ? void 0 : _stage$progression2.completed) === true;\n    };\n  },\n  is_stage_accessible: function is_stage_accessible(state, getters) {\n    return function (stage) {\n      console.assert(stage);\n      var accessible_stage_ids = getters.assembly_accessible_stage_ids;\n      return accessible_stage_ids.includes(stage.stage.id);\n    };\n  },\n  is_stage_done: function is_stage_done(state, getters) {\n    return function (stage) {\n      console.log(stage);\n      console.assert(stage);\n      return getters.is_stage_accessible(stage) || getters.is_stage_completed(stage);\n    };\n  },\n  // TODO rename: is_first_day_of_stage (..._of_assembly)\n  is_first_day: function is_first_day(state, getters) {\n    return function (stage) {\n      // console.log(stage.progression.date_created)\n      return date[\"b\" /* default */].isSameDate(stage.progression.date_created, Date.now(), 'day');\n    };\n  }\n};\nvar vuex_store_assembly_actions = {\n  syncAssembly: function syncAssembly(_ref, _ref2) {\n    var state = _ref.state,\n        dispatch = _ref.dispatch,\n        getters = _ref.getters,\n        rootState = _ref.rootState,\n        rootGetters = _ref.rootGetters;\n    var oauthUserID = _ref2.oauthUserID;\n    // console.log(` sync assembly ${assemblyIdentifier}`)\n    var assemblyIdentifier = runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier;\n\n    if (!state.assemblydata[assemblyIdentifier]) {\n      // no cached version exists: load the data from resource server...\n      dispatch('retrieveAssembly', {\n        assemblyIdentifier: assemblyIdentifier\n      }); // console.log(' not yet fetched...')\n\n      return null;\n    } // wrong user? and renew cache all x- minutes!\n\n\n    var wrongUser = oauthUserID != state.assemblydata[assemblyIdentifier].access_sub;\n    var expired = !state.assemblydata[assemblyIdentifier] || api[\"a\" /* default */].expiredCacheDate(state.assemblydata[assemblyIdentifier].access_date); // console.log()\n\n    if (expired || wrongUser) {\n      console.log(' Assembly not in sync  or wrong user...', expired, state.assemblydata[assemblyIdentifier].access_date);\n      dispatch('retrieveAssembly', {\n        assemblyIdentifier: assemblyIdentifier\n      });\n      return null;\n    } // console.log(\"AssemblyLoaded: Assembly retrieved from localStorage\")\n\n\n    eventbus[\"a\" /* LayoutEventBus */].$emit('AssemblyLoaded');\n    return null;\n  },\n  deleteAssemblyStore: function deleteAssemblyStore(_ref3) {\n    var commit = _ref3.commit;\n    commit('deleteAssemblyStore');\n  },\n  retrieveAssembly: function retrieveAssembly(_ref4, _ref5) {\n    var commit = _ref4.commit;\n    var assemblyIdentifier = _ref5.assemblyIdentifier;\n    // console.log('Retrieve assembly from resource server')\n    api[\"a\" /* default */].retrieveAssembly(assemblyIdentifier).then(function (response) {\n      var data = response.data;\n      commit('storeAssembly', {\n        assemblyIdentifier: assemblyIdentifier,\n        data: data\n      });\n      console.log(\"EVENT: AssemblyLoaded: Assembly retrieved from Resource Server\");\n      eventbus[\"a\" /* LayoutEventBus */].$emit('AssemblyLoaded');\n    }).catch(function (error) {\n      console.warn(error); // Error Handling is done in Axios Interceptor\n\n      console.warn('Request Error');\n    });\n  },\n  addOrUpdateStage: function addOrUpdateStage(_ref6, _ref7) {\n    var commit = _ref6.commit;\n    var stage = _ref7.stage;\n    var assemblyIdentifier = runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier;\n    console.log(\"stage: \", stage, assemblyIdentifier);\n    api[\"a\" /* default */].addOrUpdateStage(assemblyIdentifier, stage).then(function (response) {\n      console.log(response.data);\n      var data = response.data; // Store result\n\n      console.assert(!!data.assembly);\n      console.assert(!!data.stages); // UPDATE ASSEMBLY DATA and STAGE DATA\n      // storeAssembly(state, { assemblyIdentifier, data }) {\n      // commit('storeAssembly', { assemblyIdentifier, data })\n\n      commit('storeAssemblyStage', {\n        assemblyIdentifier: assemblyIdentifier,\n        data: data\n      }); // ADD Stage Relations\n      // if (stage.id) {\n      // if (data.stages) {\n      //   Object.values(data.stages).forEach((stage) => {\n      //     console.assert(stage)\n      //     console.log(stage)\n      //     commit('updateStageContent', { stage })\n      //   });\n      // }\n    }).catch(function (error) {\n      console.warn(error); // Error Handling is done in Axios Interceptor\n\n      console.warn('Request Error');\n    });\n  },\n  updateAssembly: function updateAssembly(_ref8, _ref9) {\n    var commit = _ref8.commit;\n    var assembly = _ref9.assembly;\n    var assemblyIdentifier = runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier;\n    console.log(\"assembly: \", assembly);\n    api[\"a\" /* default */].updateAssembly(assembly.identifier, assembly).then(function (response) {\n      console.log(response.data);\n      var data = response.data; // Store result\n\n      console.assert(!!data.assembly);\n      commit('storeAssemblyObject', {\n        assemblyIdentifier: assemblyIdentifier,\n        assembly: data.assembly\n      });\n    }).catch(function (error) {\n      console.warn(error); // Error Handling is done in Axios Interceptor\n\n      console.warn('Request Error');\n    });\n  },\n  addMilestone: function addMilestone(_ref10, _ref11) {\n    var _getters$assemblyProg2;\n\n    var getters = _ref10.getters,\n        commit = _ref10.commit;\n    var label = _ref11.label,\n        weight = _ref11.weight,\n        key = _ref11.key;\n    console.assert(weight);\n    console.assert(label);\n\n    if (!key) {\n      key = \"default\";\n    }\n\n    console.log(\"ADD MILESTONE\", label, \" WEIGHT:\", weight, \" KEY:\", key);\n    var day = (_getters$assemblyProg2 = getters.assemblyProgression) === null || _getters$assemblyProg2 === void 0 ? void 0 : _getters$assemblyProg2.number_of_day_sessions;\n    var stageID = runtime_store[\"b\" /* runtimeStore */].stageID;\n    console.assert(stageID);\n    var milestones = getters.stageMilestones;\n    console.assert(milestones !== null);\n\n    if (milestones) {\n      var already = milestones.find(function (milestone) {\n        return milestone.label === label && milestone.key === key;\n      });\n\n      if (already) {\n        // milestone has been already archieved before    \n        return false;\n      }\n    } // INSERT NEW MILESTONE\n\n\n    commit('addMilestone', {\n      label: label,\n      weight: weight,\n      key: key,\n      day: day,\n      stageID: stageID\n    }); // abel, weight, day, stage\n\n    return true;\n  },\n  incrementAssemblyActivityCounter: function incrementAssemblyActivityCounter(_ref12, _ref13) {\n    var commit = _ref12.commit;\n    var counterName = _ref13.counterName;\n    console.assert(['number_of_proposals_today', 'number_of_comments_today'].includes(counterName));\n    commit('incrementAssemblyActivityCounter', {\n      assemblyIdentifier: runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier,\n      counterName: counterName\n    });\n  },\n  updateFocusedContent: function updateFocusedContent(_ref14, _ref15) {\n    var commit = _ref14.commit;\n    var stageID = _ref15.stageID,\n        contentID = _ref15.contentID;\n    console.assert(stageID);\n    console.assert(contentID);\n    commit('updateFocusedContent', {\n      stageID: stageID,\n      contentID: contentID\n    });\n  },\n  storeStageProgressionAlertFlag: function storeStageProgressionAlertFlag(_ref16, _ref17) {\n    var commit = _ref16.commit;\n    var stageID = _ref17.stageID,\n        alerted = _ref17.alerted;\n    console.assert(stageID);\n    commit('storeStageProgressionAlertFlag', {\n      stageID: stageID,\n      alerted: alerted\n    });\n  },\n  storeStageProgressionCompleted: function storeStageProgressionCompleted(_ref18, _ref19) {\n    var commit = _ref18.commit;\n    var stageID = _ref19.stageID,\n        completed = _ref19.completed;\n    console.assert(stageID);\n    commit('storeStageProgressionCompleted', {\n      stageID: stageID,\n      completed: completed\n    });\n  }\n};\nvar vuex_store_assembly_mutations = {\n  /**\r\n   * Store full assembly Response (with configuration and stuff)\r\n   */\n  storeAssembly: function storeAssembly(state, _ref20) {\n    var assemblyIdentifier = _ref20.assemblyIdentifier,\n        data = _ref20.data;\n    // console.log(`Store assembly ${assemblyIdentifier}`)\n    // data.stages.forEach(stage)\n    var stages = state.stages;\n    vue_runtime_esm[\"default\"].set(state, 'stages', Object.assign({}, stages, data.stages)); // Vue.set  makes the change reactive!!\n    // console.log(data.stages, \"TESTTEST\")\n\n    data.stages = Object.keys(data.stages); // .map(stage => stage.stage.id)\n    // console.log(data.stages, \"TESTTEST\")\n\n    vue_runtime_esm[\"default\"].set(state.assemblydata, assemblyIdentifier, data);\n  },\n  storeAssemblyStage: function storeAssemblyStage(state, _ref21) {\n    var assemblyIdentifier = _ref21.assemblyIdentifier,\n        data = _ref21.data;\n    // data.stages.forEach(stage)\n    // const stages = state.stages\n    vue_runtime_esm[\"default\"].set(state, 'stages', data.stages); // Vue.set  makes the change reactive!!\n    // console.log(data.stages, \"TESTTEST\")\n\n    var deepCopy = JSON.parse(JSON.stringify(data.stages));\n    var stageKeys = Object.keys(deepCopy);\n    vue_runtime_esm[\"default\"].set(state.assemblydata[assemblyIdentifier], 'stages', stageKeys);\n  },\n  storeAssemblyObject: function storeAssemblyObject(state, _ref22) {\n    var assemblyIdentifier = _ref22.assemblyIdentifier,\n        assembly = _ref22.assembly;\n\n    // console.log(`Store assembly ${assemblyIdentifier} object`)\n    if (!state.assemblydata[assemblyIdentifier]) {\n      // happens when logout\n      return null;\n    }\n\n    vue_runtime_esm[\"default\"].set(state.assemblydata[assemblyIdentifier], 'assembly', assembly);\n  },\n  storeAssemblyProgression: function storeAssemblyProgression(state, _ref23) {\n    var assemblyIdentifier = _ref23.assemblyIdentifier,\n        progression = _ref23.progression;\n\n    // console.log(`Store assembly ${assemblyIdentifier} progressions`)\n    if (!state.assemblydata[assemblyIdentifier]) {\n      // happens when logout\n      return null;\n    }\n\n    vue_runtime_esm[\"default\"].set(state.assemblydata[assemblyIdentifier], 'progression', progression);\n  },\n  storeStageObject: function storeStageObject(state, _ref24) {\n    var stageID = _ref24.stageID,\n        stage = _ref24.stage;\n\n    // console.log(`Store stage ${stageID} object`)\n    if (!state.stages[stageID]) {\n      // happens when logout\n      return null;\n    }\n\n    vue_runtime_esm[\"default\"].set(state.stages[stageID], 'stage', stage);\n  },\n  storeStageProgression: function storeStageProgression(state, _ref25) {\n    var stageID = _ref25.stageID,\n        progression = _ref25.progression;\n\n    // console.log(`Store stage ${stageID} progression`, progression)\n    if (!state.stages[stageID]) {\n      // happens when logout\n      return null;\n    }\n\n    vue_runtime_esm[\"default\"].set(state.stages[stageID], 'progression', progression);\n  },\n  storeStageProgressionAlertFlag: function storeStageProgressionAlertFlag(state, _ref26) {\n    var _state$stages$stageID;\n\n    var stageID = _ref26.stageID,\n        alerted = _ref26.alerted;\n    console.log(\"STORE ALERTED FLAG\");\n\n    if (!((_state$stages$stageID = state.stages[stageID]) !== null && _state$stages$stageID !== void 0 && _state$stages$stageID.progression)) {\n      var progression = {\n        alerted: alerted\n      };\n      vue_runtime_esm[\"default\"].set(state.stages[stageID], 'progression', progression);\n    } else {\n      vue_runtime_esm[\"default\"].set(state.stages[stageID].progression, 'alerted', alerted);\n    } // const progression = state.stages[stageID].progression\n    // if (!progression) {\n    //   // wait on  feedback of server\n    //   // progression = {}  // seems to be readonly...\n    //   return;\n    // }\n    // progression.alerted = alerted\n    // Vue.set(state.stages[stageID], 'progression', progression)\n    // Vue.set(state.stages[stageID].progression, 'alerted', alerted)\n\n  },\n  storeStageProgressionCompleted: function storeStageProgressionCompleted(state, _ref27) {\n    var _state$stages$stageID2;\n\n    var stageID = _ref27.stageID,\n        completed = _ref27.completed;\n    console.log(\"STORE COMPLETED FLAG\");\n\n    if (!((_state$stages$stageID2 = state.stages[stageID]) !== null && _state$stages$stageID2 !== void 0 && _state$stages$stageID2.progression)) {\n      var progression = {\n        alerted: false,\n        completed: completed\n      };\n      vue_runtime_esm[\"default\"].set(state.stages[stageID], 'progression', progression);\n    } else {\n      if (state.stages[stageID].progression.alerted && completed) {\n        vue_runtime_esm[\"default\"].set(state.stages[stageID].progression, 'alerted', false);\n      }\n\n      vue_runtime_esm[\"default\"].set(state.stages[stageID].progression, 'completed', completed);\n    }\n  },\n  incrementAssemblyActivityCounter: function incrementAssemblyActivityCounter(state, _ref28) {\n    var _state$assemblydata$a;\n\n    var assemblyIdentifier = _ref28.assemblyIdentifier,\n        counterName = _ref28.counterName;\n\n    // console.log(`Store assembly ${assemblyIdentifier} progressions`)\n    if (!state.assemblydata[assemblyIdentifier]) {\n      // happens when logout\n      return null;\n    }\n\n    var progression = (_state$assemblydata$a = state.assemblydata[assemblyIdentifier]) === null || _state$assemblydata$a === void 0 ? void 0 : _state$assemblydata$a.progression;\n    console.assert(progression);\n    var counter = 0;\n\n    if (progression[counterName] !== null) {\n      counter = progression[counterName];\n    }\n\n    vue_runtime_esm[\"default\"].set(state.assemblydata[assemblyIdentifier].progression, counterName, counter + 1);\n  },\n  updateFocusedContent: function updateFocusedContent(state, _ref29) {\n    var stageID = _ref29.stageID,\n        contentID = _ref29.contentID;\n\n    // console.log(\"FOCUSEDCONTENT HAS BEEN WRITTEN (not yet)\")\n    if (!state.stages[stageID]) {\n      // seem to happen sometimes => for instance when logout and data is cleared???\n      return null;\n    }\n\n    if (!state.stages[stageID].progression) {\n      var progression = {\n        focused_content_id: contentID,\n        alerted: true\n      };\n      vue_runtime_esm[\"default\"].set(state.stages[stageID], 'progression', progression);\n    } else {\n      // const progression = state.stages[stageID].progression\n      // progression.focused_content_id = contentID\n      // console.log(\"FOCUSEDCONTENT HAS BEEN WRITTEN\")\n      vue_runtime_esm[\"default\"].set(state.stages[stageID].progression, 'focused_content_id', contentID);\n    }\n  },\n  deleteAssemblyStore: function deleteAssemblyStore(state) {\n    vue_runtime_esm[\"default\"].set(state, 'assemblydata', {});\n    vue_runtime_esm[\"default\"].set(state, 'stages', {});\n    vue_runtime_esm[\"default\"].set(state, 'milestones', {});\n  },\n  addMilestone: function addMilestone(state, _ref30) {\n    var label = _ref30.label,\n        weight = _ref30.weight,\n        key = _ref30.key,\n        day = _ref30.day,\n        stageID = _ref30.stageID;\n    console.assert(label);\n    console.assert(weight);\n    console.assert(day);\n    console.assert(stageID);\n\n    if (!(day in state.milestones)) {\n      vue_runtime_esm[\"default\"].set(state.milestones, day, {});\n    }\n\n    console.assert(state.milestones[day] !== null);\n\n    if (!(stageID in state.milestones[day])) {\n      vue_runtime_esm[\"default\"].set(state.milestones[day], stageID, []);\n    }\n\n    var newMilestone = {\n      label: label,\n      weight: weight,\n      key: key\n    };\n    var currentLength = state.milestones[day][stageID].length;\n    vue_runtime_esm[\"default\"].set(state.milestones[day][stageID], currentLength, newMilestone);\n  }\n};\nvar assemblystore = {\n  namespaced: true,\n  state: vuex_store_assembly_state,\n  mutations: vuex_store_assembly_mutations,\n  actions: vuex_store_assembly_actions,\n  getters: vuex_store_assembly_getters\n};\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.ends-with.js\nvar es_string_ends_with = __webpack_require__(\"8a79\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__(\"1276\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.anchor.js\nvar es_string_anchor = __webpack_require__(\"18a5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/wrappers/index.js\nvar wrappers = __webpack_require__(\"4bde\");\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"8c4f\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/toConsumableArray.js\nvar toConsumableArray = __webpack_require__(\"448a\");\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\n\n// CONCATENATED MODULE: ./src/plugins/TEXTSHEET/routes.js\n\n\nvar meta4AssemblyPages = {\n  topmenu: 'assemblies_ongoing_list'\n}; // , acls: ['observe']  // NOT IMPLEMENTED/ NOT NECESSARY=> VUEX \n\nvar routes = [{\n  path: '/:assemblyIdentifier/textsheet/:stageID/:contenttreeID/',\n  name: 'TEXTSHEET',\n  component: function component() {\n    return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(9)]).then(__webpack_require__.bind(null, \"e9fc\"));\n  },\n  meta: meta4AssemblyPages\n}];\n/* harmony default export */ var TEXTSHEET_routes = (routes);\n// CONCATENATED MODULE: ./src/plugins/VAA/routes.js\n\n\nvar routes_routes = [{\n  path: '/:assemblyIdentifier/vaa/',\n  component: function component() {\n    return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(28)]).then(__webpack_require__.bind(null, \"0fe0\"));\n  },\n  children: [// Note: Define a route for each stageGroup/=> /stageID/<stage.group>\n  {\n    path: ':stageID/conclusion',\n    name: 'VAA_CONCLUSION',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(27)]).then(__webpack_require__.bind(null, \"5cda\"));\n    },\n    meta: {\n      assemblyAcl: 'delegate'\n    }\n  }, {\n    path: ':stageID/questions/:contentID',\n    name: 'VAA_QUESTIONS_ENTRY',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(3)]).then(__webpack_require__.bind(null, \"6a52\"));\n    },\n    meta: {\n      assemblyAcl: 'delegate'\n    }\n  }, {\n    path: ':stageID/questions',\n    name: 'VAA_QUESTIONS',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(3)]).then(__webpack_require__.bind(null, \"6a52\"));\n    },\n    meta: {\n      assemblyAcl: 'delegate'\n    }\n  }, {\n    path: ':stageID/topics',\n    name: 'VAA_TOPICS',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(29)]).then(__webpack_require__.bind(null, \"6119\"));\n    },\n    meta: {\n      assemblyAcl: 'delegate'\n    }\n  }, // { path: 'preparation', name: 'VAA_PREPARATION', component: () => import('./Preparation') },\n  {\n    path: '',\n    name: 'VAA',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(11)]).then(__webpack_require__.bind(null, \"e955\"));\n    },\n    meta: {\n      hideAssemblyMenu: true,\n      assemblyAcl: 'delegate'\n    }\n  }]\n}];\n/* harmony default export */ var VAA_routes = (routes_routes);\n// CONCATENATED MODULE: ./src/plugins/SURVEY/routes.js\n\n\nvar SURVEY_routes_routes = [{\n  path: '/:assemblyIdentifier/survey/:stageID',\n  name: 'SURVEY',\n  component: function component() {\n    return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(26)]).then(__webpack_require__.bind(null, \"7bbf\"));\n  },\n  meta: {\n    assemblyAcl: 'delegate'\n  }\n}];\n/* harmony default export */ var SURVEY_routes = (SURVEY_routes_routes);\n// CONCATENATED MODULE: ./src/plugins/PROFILEUPDATE/routes.js\n\n\n// var routes = [\n//   {\n//     path: '/:assemblyIdentifier/profile/:stageID', name: 'PROFILEUPDATE', component: () => { console.log(\"kkkkk\"); return import('./Index') }\n//     // { path: '/sekretariat', name: 'profile', props: true, component: () => import(/* webpackPrefetch: true */ 'pages/Auth/Profile.vue') },\n//   }\n// ]\nvar PROFILEUPDATE_routes_routes = [{\n  path: '/:assemblyIdentifier/profile/:stageID',\n  name: 'PROFILEUPDATE',\n  component: function component() {\n    return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(25)]).then(__webpack_require__.bind(null, \"0079\"));\n  }\n} // {\n//   path: '/:assemblyIdentifier/profileupdate/:stageID',\n//   component: () => import('./Layout.vue'),\n//   children: [\n//     { path: '', name: 'PROFILEUPDATE', component: () => { console.log(\"kkkkk\"); return import('./Index') }\n//   ]\n// }\n];\n/* harmony default export */ var PROFILEUPDATE_routes = (PROFILEUPDATE_routes_routes);\n// CONCATENATED MODULE: ./src/router/plugin_routes.js\n\n// import cir_pros_and_cons_routes from 'src/plugins/CIR_PROS_AND_CONS/routes.js'\n\n\n\n // TODO: AUTO IMPORT\n\nvar plugin_routes = [];\nplugin_routes.push.apply(plugin_routes, toConsumableArray_default()(VAA_routes));\nplugin_routes.push.apply(plugin_routes, toConsumableArray_default()(TEXTSHEET_routes)); // plugin_routes.push(...cir_pros_and_cons_routes)\n\nplugin_routes.push.apply(plugin_routes, toConsumableArray_default()(SURVEY_routes));\nplugin_routes.push.apply(plugin_routes, toConsumableArray_default()(PROFILEUPDATE_routes)); // console.log(plugin_routes)\n\n/* harmony default export */ var router_plugin_routes = (plugin_routes);\n// CONCATENATED MODULE: ./src/router/routes.js\n\n\n\n\n\n// import UserContentDefault from 'src/pages/ContentTree/Default'\n\nvar routes_meta4AssemblyPages = {\n  topmenu: 'assemblies_ongoing_list'\n};\nvar meta4AssemblyDelegates = {\n  assemblyAcl: 'delegate'\n};\nvar meta4AssemblyManagers = {\n  assemblyAcl: 'manager'\n};\nvar router_routes_routes = [{\n  path: '/',\n  component: function component() {\n    return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(7)]).then(__webpack_require__.bind(null, \"713b\"));\n  },\n  children: [{\n    path: '',\n    name: 'home',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(23)]).then(__webpack_require__.bind(null, \"8b24\"));\n    }\n  }, {\n    path: '/authorization',\n    props: true,\n    name: 'authorization',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(20)]).then(__webpack_require__.bind(null, \"28e6\"));\n    }\n  }, {\n    path: '/logout',\n    name: 'logout',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(14)]).then(__webpack_require__.bind(null, \"ca28\"));\n    }\n  }, {\n    path: '/t/:ttoken',\n    name: 'tokenlogin',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(5)]).then(__webpack_require__.bind(null, \"75d2\"));\n    }\n  }, {\n    path: '/l/:ltoken',\n    name: 'ltokenlogin',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(5)]).then(__webpack_require__.bind(null, \"75d2\"));\n    }\n  }, {\n    path: '/sekretariat',\n    name: 'profile',\n    props: true,\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(15)]).then(__webpack_require__.bind(null, \"1640\"));\n    }\n  }, {\n    path: '/hintergrund',\n    name: 'background',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(12)]).then(__webpack_require__.bind(null, \"33d5\"));\n    }\n  }, {\n    path: '/news',\n    name: 'news',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(24)]).then(__webpack_require__.bind(null, \"4b86\"));\n    }\n  }, {\n    path: '/pause',\n    name: 'pause',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(16)]).then(__webpack_require__.bind(null, \"5a06\"));\n    }\n  }, {\n    path: '/impressum',\n    name: 'impressum',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(22)]).then(__webpack_require__.bind(null, \"acc6\"));\n    }\n  }, // { path: '/showcase', name: 'showcase', component: () => import(/* webpackPrefetch: true */ 'pages/Assembly/AssemblyListShowcase.vue') },\n  // { path: '/ongoing', name: 'assemblies_ongoing_list', component: () => import('app/doc/AssemblyListOngoing.vue.old') },\n  {\n    path: '/:assemblyIdentifier/agenda/:stageID',\n    name: 'assembly_home_stepper',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(4)]).then(__webpack_require__.bind(null, \"36c9\"));\n    },\n    meta: objectSpread2_default()(objectSpread2_default()({}, routes_meta4AssemblyPages), meta4AssemblyDelegates)\n  }, {\n    path: '/:assemblyIdentifier/stage/:stageID',\n    name: 'stage',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(2)]).then(__webpack_require__.bind(null, \"3963\"));\n    },\n    meta: routes_meta4AssemblyPages\n  }, {\n    path: '/:assemblyIdentifier/stage/:stageID/:contenttreeID',\n    name: 'contenttree',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(2)]).then(__webpack_require__.bind(null, \"3963\"));\n    },\n    meta: routes_meta4AssemblyPages\n  }, {\n    path: '/:assemblyIdentifier/stage/:stageID/:contenttreeID/:contentID',\n    name: 'content',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(2)]).then(__webpack_require__.bind(null, \"3963\"));\n    },\n    meta: routes_meta4AssemblyPages\n  }].concat(toConsumableArray_default()(router_plugin_routes), [{\n    path: '/:assemblyIdentifier',\n    name: 'assembly_home',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(4)]).then(__webpack_require__.bind(null, \"36c9\"));\n    },\n    meta: objectSpread2_default()(objectSpread2_default()({}, routes_meta4AssemblyPages), meta4AssemblyDelegates)\n  }, {\n    path: '/:assemblyIdentifier/manage',\n    name: 'assembly_manage',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(8)]).then(__webpack_require__.bind(null, \"20d5\"));\n    },\n    meta: meta4AssemblyManagers\n  }, {\n    path: '/:assemblyIdentifier/manage/tree/:stageID/:contenttreeID',\n    name: 'assembly_manage_tree',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(13)]).then(__webpack_require__.bind(null, \"39ad\"));\n    },\n    meta: meta4AssemblyManagers\n  }, {\n    path: '*',\n    component: function component() {\n      return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(21)]).then(__webpack_require__.bind(null, \"e51e\"));\n    }\n  }])\n}];\n/* harmony default export */ var router_routes = (router_routes_routes);\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\n\n\n\n/*\n * If not building with SSR mode, you can\n * directly export the Router instantiation\n */\n\nvar Router = new vue_router_esm[\"a\" /* default */]({\n  // scrollBehavior: () => ({ x: 0, y: 0 }),\n  scrollBehavior: function scrollBehavior(to, from) {\n    // scroll to anchor by returning the selector\n    if (to.hash) {\n      var position = {\n        selector: to.hash\n      };\n      position.offset = {\n        y: 100\n      };\n      return position;\n    }\n\n    if (to.params.savePosition) {\n      return {};\n    }\n\n    return {\n      x: 0,\n      y: 0\n    };\n  },\n  routes: router_routes,\n  // Leave these as is and change from quasar.conf.js instead!\n  // quasar.conf.js -> build -> vueRouterMode\n  // quasar.conf.js -> build -> publicPath\n  mode: \"history\",\n  base: \"/\"\n});\n/* harmony default export */ var src_router = (Object(wrappers[\"route\"])(function (_ref) {\n  var Vue = _ref.Vue;\n  Vue.use(vue_router_esm[\"a\" /* default */]);\n  Router.beforeEach(function (to, from, next) {\n    var _to$params;\n\n    if ((_to$params = to.params) !== null && _to$params !== void 0 && _to$params.assemblyIdentifier) {\n      console.log(\"0\", \"kkkkkkk\");\n\n      if (parseInt(\"0\") == 1) {\n        // ALL ASSEMBLY PAGES ARE UNDER CONSTRUCTION\n        return next('/pause');\n      }\n    }\n\n    return next();\n  });\n  Router.afterEach(function (to, from) {\n    var _to$params2;\n\n    if ((_to$params2 = to.params) !== null && _to$params2 !== void 0 && _to$params2.assemblyIdentifier) {\n      var _to$params3, _to$params4;\n\n      runtime_store[\"a\" /* runtimeMutations */].setAssemblyIdentifier(to.params.assemblyIdentifier);\n\n      if (((_to$params3 = to.params) === null || _to$params3 === void 0 ? void 0 : _to$params3.stageID) !== null && ((_to$params4 = to.params) === null || _to$params4 === void 0 ? void 0 : _to$params4.stageID) !== undefined) {\n        // TODO: redirect to asembly home, when stage is invalid\n        // console.log(\"router after each : new stage\", to.params.stageID, to)\n        runtime_store[\"a\" /* runtimeMutations */].setStageID(to.params.stageID);\n        eventbus[\"a\" /* LayoutEventBus */].$emit('showLoading');\n      }\n    } // console.log(to, from, store, Vue)\n    // store.dispatch('assemblystore/monitor_route_changes', { to, from })\n\n  });\n  /* Get Object of current route/page (including name and params) */\n\n  Router.currentRouteObject = function () {\n    return {\n      name: this.currentRoute.name,\n      params: this.currentRoute.params\n    };\n  };\n  /* Reload Page, when redirecting to the same page */\n\n\n  Router.pushR = function (route) {\n    var target = this.resolve(route).href;\n    var current = this.resolve(this.currentRouteObject()).href;\n\n    if (target === current) {\n      // Reload      \n      // console.log(\"EVENT BUS!!!\")\n      eventbus[\"a\" /* LayoutEventBus */].$emit('reload');\n    } else {\n      // Push\n      this.push(route);\n    }\n  };\n  /* Dont do anything when redirecting to the same page */\n\n\n  Router.pushI = function (route) {\n    var target = this.resolve(route).href;\n    var current = this.resolve(this.currentRouteObject()).href;\n\n    if (target !== current) {\n      this.push(route);\n    }\n  };\n  /* Scroll To Anchor */\n\n\n  Router.anchor = function (anchor) {\n    // scroll to element\n    var el = document.querySelector(\"a[name=\".concat(anchor, \"]\"));\n    console.log(el, \"el\");\n    el && el.scrollIntoView(); // account for fixed header\n\n    var headerHeight = 200;\n    var scrolledY = window.scrollY;\n\n    if (scrolledY) {\n      window.scroll(0, scrolledY - headerHeight);\n    }\n  };\n\n  return Router;\n}));\n// EXTERNAL MODULE: ./node_modules/quasar/src/utils/colors.js\nvar colors = __webpack_require__(\"bc78\");\n\n// CONCATENATED MODULE: ./src/store/vuex-store-profile.js\n\n\n\n\n\n\n\n\n\n/* Public Index: the publically accessible list of all potential accessible assemblies:\r\n- assemblies that are currently ongoing (require invitation)\r\n- assemblies that have been published (accessible by the public)\r\n*/\n\n\n\n\n;\nvar changeAlpha = colors[\"a\" /* default */].changeAlpha;\nvar vuex_store_profile_state = {\n  randomSeed: null,\n  publicProfile: {},\n  oauthAcls: [],\n  AMCache: {}\n};\nvar vuex_store_profile_getters = {\n  randomLocalStorageSeed: function randomLocalStorageSeed(state) {\n    return state.randomSeed;\n  },\n  is_in_testing_phase: function is_in_testing_phase(state) {\n    var _state$publicProfile, _state$publicProfile$;\n\n    if (!state.publicProfile) {\n      return null;\n    }\n\n    return (_state$publicProfile = state.publicProfile) === null || _state$publicProfile === void 0 ? void 0 : (_state$publicProfile$ = _state$publicProfile.configuration) === null || _state$publicProfile$ === void 0 ? void 0 : _state$publicProfile$.t;\n  },\n  get_public_profile: function get_public_profile(state) {\n    if (!state.publicProfile) {\n      return null;\n    }\n\n    return state.publicProfile.user;\n  },\n  lightProfileColor: function lightProfileColor(state, getters) {\n    var _state$publicProfile2;\n\n    var profile = (_state$publicProfile2 = state.publicProfile) === null || _state$publicProfile2 === void 0 ? void 0 : _state$publicProfile2.user;\n\n    if (!profile) {\n      return \"#CCCCCC\";\n    }\n\n    return changeAlpha(profile.CO, 0.2);\n  },\n  profileColor: function profileColor(state, getters) {\n    var _state$publicProfile3;\n\n    var profile = (_state$publicProfile3 = state.publicProfile) === null || _state$publicProfile3 === void 0 ? void 0 : _state$publicProfile3.user;\n\n    if (!profile) {\n      return \"#AAAAAA\";\n    }\n\n    return profile.CO;\n  },\n  oauthAcls: function oauthAcls(state) {\n    console.log('get acls transmitted via JWT token');\n    return state.oauthAcls;\n  },\n  translateOauthAcls: function translateOauthAcls(state, getters) {\n    return function (assemblyIdentifier) {\n      var roles = getters.oauthAcls;\n\n      if (!roles) {\n        return [];\n      }\n\n      var assembly_roles = roles.filter(function (el) {\n        return el.endsWith(\"@\".concat(assemblyIdentifier));\n      });\n      var assembly_roles = assembly_roles.map(function (el) {\n        return el.split('@')[0];\n      });\n      var assemblyAcls = [];\n\n      if (assembly_roles.includes('administrator')) {\n        assemblyAcls.push('administrate', 'manage', 'observe');\n      }\n\n      if (assembly_roles.includes('manager')) {\n        assemblyAcls.push('manage', 'observe');\n      }\n\n      if (assembly_roles.includes('delegate')) {\n        assemblyAcls.push('delegate', 'modify', 'add', 'observe');\n      }\n\n      if (assembly_roles.includes('contributor')) {\n        assemblyAcls.push('contribute', 'observe');\n      }\n\n      if (assembly_roles.includes('expert')) {\n        assemblyAcls.push('expert', 'observe');\n      } // TODO: Are visitors welcome within this assembly???\n\n\n      if (vue_runtime_esm[\"default\"].prototype.pkce.isAuthorized()) {\n        assemblyAcls.push('observe');\n      }\n\n      return assemblyAcls;\n    };\n  },\n  // (stage) =>\n  getAMCache: function getAMCache(state) {\n    return function (cacheKey) {\n      return state.AMCache[cacheKey];\n    };\n  }\n};\nvar vuex_store_profile_actions = {\n  touchRandomSeed: function touchRandomSeed(_ref) {\n    var commit = _ref.commit;\n    commit('set_random_seed');\n  },\n  setAMCache: function setAMCache(_ref2, _ref3) {\n    var commit = _ref2.commit;\n    var cacheKey = _ref3.cacheKey,\n        itemId = _ref3.itemId;\n    commit('setAMCache', {\n      cacheKey: cacheKey,\n      itemId: itemId\n    });\n  },\n  syncProfile: function syncProfile(_ref4, _ref5) {\n    var _state$publicProfile4;\n\n    var state = _ref4.state,\n        dispatch = _ref4.dispatch,\n        localgetters = _ref4.localgetters,\n        rootState = _ref4.rootState,\n        rootGetters = _ref4.rootGetters;\n    var oauthUserID = _ref5.oauthUserID,\n        oauthUserEmail = _ref5.oauthUserEmail;\n\n    // console.log(` sync public profile`, oauthUserEmail)\n    if (!oauthUserID) {\n      // Not logged in. DELETE ALL\n      dispatch('deletePublicProfile');\n      return null;\n    }\n\n    if (!state.publicProfile) {\n      dispatch('retrievePublicProfile', {\n        oauthUserID: oauthUserID,\n        oauthUserEmail: oauthUserEmail\n      });\n      return null;\n    } // wrong user? and renew cache all x- minutes!\n\n\n    var wrongUser = oauthUserID != state.publicProfile.access_sub;\n\n    if (wrongUser) {\n      dispatch('deletePublicProfile');\n    }\n\n    var expired = api[\"a\" /* default */].expiredCacheDate((_state$publicProfile4 = state.publicProfile) === null || _state$publicProfile4 === void 0 ? void 0 : _state$publicProfile4.access_date);\n\n    if (expired || wrongUser) {\n      console.log(' Public Profile not in sync  or wrong user...');\n      dispatch('retrievePublicProfile', {\n        oauthUserID: oauthUserID,\n        oauthUserEmail: oauthUserEmail\n      });\n      return null;\n    } // dispatch('checkProfileRequirements', { oauthUserID, oauthUserEmail })\n\n\n    return null;\n  },\n  // checkProfileRequirements: ({ state, dispatch, localgetters, rootState, rootGetters }, { oauthUserID, oauthUserEmail }) => {\n  //   // console.log(` check public profile requirements`, oauthUserEmail)\n  //   // CHECK Profile requierments\n  //   // console.log(\"CHECK STATE PROFILE\")\n  //   if (!oauthUserEmail) {\n  //     // console.log(state.publicProfile)\n  //     dispatch('gotoProfile')\n  //   }\n  //   return (null)\n  // },\n  gotoProfile: function gotoProfile(_ref6) {\n    var state = _ref6.state,\n        dispatch = _ref6.dispatch,\n        localgetters = _ref6.localgetters,\n        rootState = _ref6.rootState,\n        rootGetters = _ref6.rootGetters;\n    // console.log(` goto public profile`)\n    // CHECK Profile requierments\n    var destination_route = Router.currentRouteObject();\n    console.log(destination_route);\n\n    if (destination_route.name == \"profile\") {\n      eventbus[\"a\" /* LayoutEventBus */].$emit(\"reload\");\n    } else {\n      Router.push({\n        name: \"profile\",\n        params: {\n          destination_route: destination_route\n        }\n      });\n    }\n  },\n  deletePublicProfile: function deletePublicProfile(_ref7) {\n    var commit = _ref7.commit;\n    commit('storePublicProfile', {});\n    commit('deleteAMCahce');\n  },\n  retrievePublicProfile: function retrievePublicProfile(_ref8, _ref9) {\n    var commit = _ref8.commit,\n        dispatch = _ref8.dispatch;\n    var oauthUserID = _ref9.oauthUserID,\n        oauthUserEmail = _ref9.oauthUserEmail;\n    // console.log('Retrieve public profile from resource server', oauthUserEmail)\n    api[\"a\" /* default */].publicProfile().then(function (response) {\n      // console.log('save retrieved profile to cache.')\n      var data = response.data;\n      commit('storePublicProfile', {\n        data: data\n      }); // dispatch('checkProfileRequirements', { oauthUserID, oauthUserEmail })\n\n      return null;\n    }).catch(function (error) {\n      console.warn(error); // Error Handling is done in Axios Interceptor\n\n      console.warn('Request Error');\n    });\n  },\n  storeOauthAcls: function storeOauthAcls(_ref10, _ref11) {\n    var commit = _ref10.commit;\n    var oauthAcls = _ref11.oauthAcls;\n    commit('storeOauthAcls', oauthAcls);\n  }\n};\nvar vuex_store_profile_mutations = {\n  storePublicProfile: function storePublicProfile(state, _ref12) {\n    var data = _ref12.data;\n    vue_runtime_esm[\"default\"].set(state, 'publicProfile', data);\n  },\n  storeOauthAcls: function storeOauthAcls(state, oauthAcls) {\n    vue_runtime_esm[\"default\"].set(state, 'oauthAcls', oauthAcls);\n  },\n  set_random_seed: function set_random_seed(state) {\n    // console.log('SET RANDOM SEED IF NOT YET DONE')\n    if (!state.randomSeed) {\n      // TODO: ???? Math.floor(99)\n      var randomSeed = Math.floor(Math.random() * Math.floor(99)) + 1;\n      state.randomSeed = randomSeed;\n    }\n  },\n\n  /* Cache a currently selected AM intervention. */\n  setAMCache: function setAMCache(state, _ref13) {\n    var cacheKey = _ref13.cacheKey,\n        itemId = _ref13.itemId;\n    state.AMCache[cacheKey] = itemId;\n  },\n  deleteAMCahce: function deleteAMCahce(state) {\n    state.AMCache = {};\n  }\n};\nvar publicprofilestore = {\n  namespaced: true,\n  state: vuex_store_profile_state,\n  mutations: vuex_store_profile_mutations,\n  actions: vuex_store_profile_actions,\n  getters: vuex_store_profile_getters\n};\n// CONCATENATED MODULE: ./src/store/vuex-store-publicindex.js\n\n\n\n\n\n/* Public Index: the publically accessible list of all potential accessible assemblies:\r\n- assemblies that are currently ongoing (require invitation)\r\n- assemblies that have been published (accessible by the public)\r\n*/\n\n\n\nvar vuex_store_publicindex_state = {\n  publicIndex: null\n};\nvar vuex_store_publicindex_getters = {\n  ongoing_assemblies: function ongoing_assemblies(state) {\n    var publicIndex = state.publicIndex;\n\n    if (publicIndex === null) {\n      return null;\n    }\n\n    var filtered_assemblies = Object.filter(state.publicIndex.assemblies, function (x) {\n      return x.is_active;\n    });\n    return Object.values(filtered_assemblies);\n  },\n  published_assemblies: function published_assemblies(state) {\n    if (state.publicIndex === null || state.publicIndex === undefined) {\n      return null;\n    }\n\n    var filtered_assemblies = Object.filter(state.publicIndex.assemblies, function (x) {\n      return x.is_public;\n    });\n    return Object.values(filtered_assemblies);\n  },\n  UsersManagerAssemblies: function UsersManagerAssemblies(state, getters, rootState, rootGetters) {\n    // Check if there is at least one ongoing assembly.\n    if (state.publicIndex.assemblies.length === 0) {\n      return false;\n    } // Check permissions:\n\n\n    var compare_func = rootGetters['publicprofilestore/translateOauthAcls'];\n    var accessibleAssemblies = Object.filter(state.publicIndex.assemblies, function (x) {\n      var acls = compare_func(x.identifier);\n      return acls.includes('manage');\n    });\n    return Object.values(accessibleAssemblies);\n  },\n  UsersDelegateAssemblies: function UsersDelegateAssemblies(state, getters, rootState, rootGetters) {\n    // data not yet loaded\n    if (getters.ongoing_assemblies === null) {\n      return null;\n    } // Check if there is at least one ongoing assembly.\n\n\n    if (getters.ongoing_assemblies.length === 0) {\n      return false;\n    } // Check permissions:\n\n\n    var compare_func = rootGetters['publicprofilestore/translateOauthAcls'];\n    var accessibleAssemblies = Object.filter(getters.ongoing_assemblies, function (x) {\n      var acls = compare_func(x.identifier);\n      return acls.includes('delegate');\n    });\n    return Object.values(accessibleAssemblies);\n  },\n  IsUserDelegateOfOngoingAssembly: function IsUserDelegateOfOngoingAssembly(state, getters) {\n    // console.log(\"IsUserDelegateOfOngoingAssembly\", getters.UsersDelegateAssemblies)\n    var assemblies = getters.UsersDelegateAssemblies;\n    return assemblies && Object.values(assemblies).length > 0;\n  },\n\n  /* SHORTCUTS: mainly for artificial moderators */\n  IsThereAnAssemblyInPublicState: function IsThereAnAssemblyInPublicState(state, getters) {\n    if (state.published_assemblies == null) {\n      return null;\n    }\n\n    return state.published_assemblies.length > 0;\n  },\n  IsThereAnAssemblyOngoing: function IsThereAnAssemblyOngoing(state, getters) {\n    if (getters.ongoing_assemblies === null) {\n      return null;\n    }\n\n    return getters.ongoing_assemblies.length > 0;\n  },\n  IsThereNothingGoingOn: function IsThereNothingGoingOn(state, getters) {\n    if (getters.IsThereAnAssemblyInPublicState === null || getters.IsThereAnAssemblyInPublicState === null) {\n      return null;\n    }\n\n    return !getters.IsThereAnAssemblyOngoing && !getters.IsThereAnAssemblyInPublicState;\n  },\n  isUserAssemblyManager: function isUserAssemblyManager(state, getters, rootState, rootGetters) {\n    return function (assemblyIdentifier) {\n      // Check permissions:\n      var aclFunc = rootGetters['publicprofilestore/translateOauthAcls'];\n      var acls = aclFunc(assemblyIdentifier);\n      return acls.includes('manage');\n    };\n  }\n};\nvar vuex_store_publicindex_actions = {\n  syncPublicIndex: function syncPublicIndex(_ref) {\n    var state = _ref.state,\n        dispatch = _ref.dispatch,\n        localgetters = _ref.localgetters,\n        rootState = _ref.rootState,\n        rootGetters = _ref.rootGetters;\n\n    // console.log(\"...is public index in sync?\")\n    if (state.publicIndex === null || state.publicIndex === undefined) {\n      // no cached version exists: load the data from resource server...\n      console.log(\"...public Index cache is empty\");\n      dispatch('retrievePublicIndex');\n      return null;\n    } // renew cache all x- minutes\n\n\n    var expired = api[\"a\" /* default */].expiredCacheDate(state.publicIndex.access_date);\n\n    if (expired) {\n      // too old cache: load the data from resource server...\n      console.log(\"public Index cache is outdated\");\n      dispatch('retrievePublicIndex');\n    }\n\n    return null;\n  },\n  retrievePublicIndex: function retrievePublicIndex(_ref2) {\n    var commit = _ref2.commit;\n    console.log('Retrieve publicIndex from resource server');\n    api[\"a\" /* default */].retrievePublicIndex().then(function (response) {\n      // save data\n      // console.log('save PublicIndex to cache.', response)\n      console.assert(response.data !== null && response.data !== undefined);\n      commit('storePublicIndex', response.data);\n    }).catch(function (error) {\n      console.log(error);\n      console.warn('Request Error');\n    });\n  }\n};\nvar vuex_store_publicindex_mutations = {\n  storePublicIndex: function storePublicIndex(state, publicIndex) {\n    // Vue.set  makes the change reactive!!\n    vue_runtime_esm[\"default\"].set(state, 'publicIndex', publicIndex);\n  }\n};\nvar publicindexstore = {\n  namespaced: true,\n  state: vuex_store_publicindex_state,\n  mutations: vuex_store_publicindex_mutations,\n  actions: vuex_store_publicindex_actions,\n  getters: vuex_store_publicindex_getters\n};\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\n\n\n\n;\n\n\n\n;\nvar getDateDiff = date[\"b\" /* default */].getDateDiff;\n\n\n\n\n\n\nvue_runtime_esm[\"default\"].use(vuex_esm[\"a\" /* default */]);\n/* harmony default export */ var src_store = (new vuex_esm[\"a\" /* default */].Store({\n  modules: {\n    publicprofilestore: publicprofilestore,\n    assemblystore: assemblystore,\n    publicindexstore: publicindexstore,\n    contentstore: contentstore,\n    peerreviewstore: peerreviewstore\n  },\n  plugins: [Object(vuex_persistedstate_es[\"a\" /* default */])()],\n  strict: false,\n  // disable for production\n  state: {\n    monitor_buffer: [],\n    monitor_date: Date.now()\n  },\n  actions: {\n    clearUserData: function clearUserData(_ref) {\n      var state = _ref.state,\n          dispatch = _ref.dispatch,\n          commit = _ref.commit;\n\n      /* resets the counter to zero */\n      dispatch('monitorExit');\n      dispatch('publicprofilestore/deletePublicProfile', {\n        commit: commit\n      });\n      dispatch('contentstore/deleteContentStore', {\n        commit: commit\n      });\n      dispatch('peerreviewstore/deletePeerreviewStore', {\n        commit: commit\n      });\n      dispatch('assemblystore/deleteAssemblyStore', {\n        commit: commit\n      });\n    },\n    monitorSetup: function monitorSetup(_ref2) {\n      var state = _ref2.state,\n          dispatch = _ref2.dispatch,\n          commit = _ref2.commit;\n\n      /* resets the counter to zero */\n      commit('monitor_setup');\n      console.log(\"/setup \");\n    },\n    monitorExit: function monitorExit(_ref3) {\n      var state = _ref3.state,\n          dispatch = _ref3.dispatch,\n          commit = _ref3.commit;\n\n      /* resets the counter to zero */\n      commit('monitor_reset', {});\n      var now = null;\n      commit('monitor_update_date', {\n        now: now\n      });\n    },\n    monitorReset: function monitorReset(_ref4) {\n      var state = _ref4.state,\n          dispatch = _ref4.dispatch,\n          commit = _ref4.commit;\n\n      /* resets the counter to zero */\n      console.log('API Monitored. => Clear Buffer');\n      commit('monitor_reset', {});\n    },\n\n    /** Fire events - in any cases */\n    monitorFire: function monitorFire(_ref5, _ref6) {\n      var state = _ref5.state,\n          dispatch = _ref5.dispatch,\n          commit = _ref5.commit;\n      var eventString = _ref6.eventString,\n          data = _ref6.data;\n      console.log(\"/fire \", eventString); // add newest event to the event buffer\n\n      if (eventString) {\n        // empty event is possible => only send buffered events to api (if time is ready)\n        commit('monitor_add', {\n          eventString: eventString,\n          data: data\n        });\n      } // console.log(\"/\" + state.monitor_buffer?.length)\n\n\n      if (!state.monitor_buffer || state.monitor_buffer.length == 0) {\n        return null;\n      } // Send API Monitor\n      // console.log(\"/f\")\n      // update last-update date;-)\n\n\n      var now = new Date();\n      commit('monitor_update_date', {\n        now: now\n      });\n      api[\"a\" /* default */].monitorActivities(state.monitor_buffer).then(function (data) {\n        var _data$response$errors, _data$response$warnin;\n\n        if (!data.ok) {\n          return null;\n        }\n\n        console.log(\"ACTION MONITORED: OK!\"); // Some of the events could not be stored into the DB\n\n        if ((_data$response$errors = data.response.errors) !== null && _data$response$errors !== void 0 && _data$response$errors.length) {\n          data.response.errors.forEach(function (error) {\n            console.error(error.message, error.event);\n          });\n        }\n\n        if ((_data$response$warnin = data.response.warnings) !== null && _data$response$warnin !== void 0 && _data$response$warnin.length) {\n          var displayedWarning = [];\n          data.response.warnings.forEach(function (warning) {\n            var _warning$event, _warning$event2, _warning$event3;\n\n            // show only one warning at the time...\n            if (!((_warning$event = warning.event) !== null && _warning$event !== void 0 && _warning$event.eventString) || displayedWarning.includes((_warning$event2 = warning.event) === null || _warning$event2 === void 0 ? void 0 : _warning$event2.eventString)) {\n              return;\n            }\n\n            displayedWarning.push((_warning$event3 = warning.event) === null || _warning$event3 === void 0 ? void 0 : _warning$event3.eventString);\n            var message = warning.message;\n\n            if (message in constants[\"a\" /* default */].MONITOR_WARNING_MESSAGES) {\n              message = constants[\"a\" /* default */].MONITOR_WARNING_MESSAGES[message];\n            }\n\n            vue_runtime_esm[\"default\"].prototype.$q.notify({\n              type: \"nFabrikWarning\",\n              message: message\n            });\n          });\n        } // Dealing with Data response)\n\n\n        if (api[\"a\" /* default */].oauthSessionActive()) {\n          // Write newest data to the store!\n          dispatch('updateStore', {\n            data: data.response\n          });\n        }\n\n        commit('monitor_reset', {\n          now: now\n        });\n      });\n    },\n\n    /* monitor request in any case.. */\n    monitorLog: function monitorLog(_ref7, _ref8) {\n      var state = _ref7.state,\n          dispatch = _ref7.dispatch,\n          commit = _ref7.commit;\n      var eventString = _ref8.eventString,\n          data = _ref8.data;\n\n      // console.log(\".\", eventString)\n      // add newest event to the event buffer\n      if (eventString) {\n        // empty event is possible => only send buffered events to api (if time is ready)\n        commit('monitor_add', {\n          eventString: eventString,\n          data: data\n        });\n      }\n\n      if (!state.monitor_buffer || state.monitor_buffer.length == 0) {\n        return null;\n      } // Check if intervall is passed => so buffer events are fiired!\n      // console.log(\"/t\")\n\n\n      var now = Date.now();\n\n      if (getDateDiff(now, state.monitor_date, 'seconds') < parseInt(\"60\") * 2) {\n        return null;\n      } // manually fiire the monitor log\n      // console.log(\"/f\")\n\n\n      data = {};\n      eventString = null;\n      dispatch('monitorFire', {\n        eventString: eventString,\n        data: data\n      });\n    },\n\n    /* monitor request in any case.. */\n    updateStore: function updateStore(_ref9, _ref10) {\n      var state = _ref9.state,\n          dispatch = _ref9.dispatch,\n          commit = _ref9.commit;\n      var data = _ref10.data;\n\n      // console.log(\".\", data)\n      if ('assemblies' in data) {\n        Object.keys(data.assemblies).map(function (assemblyIdentifier) {\n          var container = data.assemblies[assemblyIdentifier];\n\n          if ('assembly' in container) {\n            var assembly = container.assembly;\n            commit('assemblystore/storeAssemblyObject', {\n              assemblyIdentifier: assemblyIdentifier,\n              assembly: assembly\n            });\n          }\n\n          if ('progression' in container) {\n            var progression = container.progression;\n            commit('assemblystore/storeAssemblyProgression', {\n              assemblyIdentifier: assemblyIdentifier,\n              progression: progression\n            });\n          }\n        });\n\n        if ('stages' in data) {\n          Object.keys(data.stages).map(function (stageID) {\n            var container = data.stages[stageID];\n\n            if ('stage' in container) {\n              var stage = container.stage;\n              commit('assemblystore/storeStageObject', {\n                stageID: stageID,\n                stage: stage\n              });\n            }\n\n            if ('progression' in container) {\n              var progression = container.progression;\n              commit('assemblystore/storeStageProgression', {\n                stageID: stageID,\n                progression: progression\n              });\n            }\n          });\n        }\n\n        if ('contents' in data) {\n          console.log(\"RETRIEVED MODIFIED CONTENTS\", data.contents);\n          dispatch('contentstore/update_contents', {\n            modifiedContents: data.contents\n          });\n        }\n\n        if ('peerreviews' in data) {\n          console.log(\"RETRIEVED MODIFIED PEERREVIEWS\", data.peerreviews);\n          dispatch('peerreviewstore/updatePeerreviewTuples', {\n            modifiedPeerreviews: data.peerreviews\n          });\n        }\n      }\n    }\n  },\n  mutations: {\n    monitor_setup: function monitor_setup(state) {\n      var now = new Date();\n      vue_runtime_esm[\"default\"].set(state, 'monitor_date', now);\n    },\n    monitor_add: function monitor_add(state, _ref11) {\n      var eventString = _ref11.eventString,\n          data = _ref11.data;\n      var buffer = state.monitor_buffer;\n      var now = new Date();\n      buffer.push({\n        eventString: eventString,\n        data: data,\n        date: now\n      });\n      vue_runtime_esm[\"default\"].set(state, 'monitor_buffer', buffer);\n    },\n    monitor_update_date: function monitor_update_date(state, _ref12) {\n      var now = _ref12.now;\n      vue_runtime_esm[\"default\"].set(state, 'monitor_date', now);\n    },\n\n    /** Delete all  buffered events [ before the date transmitted...] */\n    monitor_reset: function monitor_reset(state, _ref13) {\n      var now = _ref13.now;\n\n      if (!now) {\n        now = new Date();\n      }\n\n      if (!state.monitor_buffer) {\n        return null;\n      } // FILTER ONLY THE ONES AFTER THE GIVEN DATE\n      // console.log(\"reset buffer\")\n\n\n      var newbuffer = state.monitor_buffer.filter(function (event) {\n        return getDateDiff(event.date, now, 'seconds') > 0;\n      });\n      vue_runtime_esm[\"default\"].set(state, 'monitor_date', now);\n      vue_runtime_esm[\"default\"].set(state, 'monitor_buffer', newbuffer);\n    }\n  }\n}));\n// CONCATENATED MODULE: ./.quasar/app.js\n\n\n\n/**\n * THIS FILE IS GENERATED AUTOMATICALLY.\n * DO NOT EDIT.\n *\n * You are probably looking on adding startup/initialization code.\n * Use \"quasar new boot <name>\" and add it there.\n * One boot file per concern. Then reference the file(s) in quasar.conf.js > boot:\n * boot: ['file', ...] // do not add \".js\" extension to it.\n *\n * Boot files are your \"main.js\"\n **/\n\n\n\n\n\n/* harmony default export */ var _quasar_app = (function () {\n  return app_ref.apply(this, arguments);\n});\n\nfunction app_ref() {\n  app_ref = asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var store, router, app;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(typeof src_store === 'function')) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 3;\n            return src_store({\n              Vue: vue_runtime_esm[\"default\"]\n            });\n\n          case 3:\n            _context.t0 = _context.sent;\n            _context.next = 7;\n            break;\n\n          case 6:\n            _context.t0 = src_store;\n\n          case 7:\n            store = _context.t0;\n\n            if (!(typeof src_router === 'function')) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 11;\n            return src_router({\n              Vue: vue_runtime_esm[\"default\"],\n              store: store\n            });\n\n          case 11:\n            _context.t1 = _context.sent;\n            _context.next = 15;\n            break;\n\n          case 14:\n            _context.t1 = src_router;\n\n          case 15:\n            router = _context.t1;\n            // make router instance available in store\n            store.$router = router; // Create the app instantiation Object.\n            // Here we inject the router, store to all child components,\n            // making them available everywhere as `this.$router` and `this.$store`.\n\n            app = {\n              router: router,\n              store: store,\n              render: function render(h) {\n                return h(App);\n              }\n            };\n            app.el = '#q-app'; // expose the app, the router and the store.\n            // note we are not mounting the app here, since bootstrapping will be\n            // different depending on whether we are in a browser or on the server.\n\n            return _context.abrupt(\"return\", {\n              app: app,\n              store: store,\n              router: router\n            });\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return app_ref.apply(this, arguments);\n}\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find-index.js\nvar es_array_find_index = __webpack_require__(\"c740\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__(\"a434\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/plugins/Screen.js\nvar Screen = __webpack_require__(\"09f9\");\n\n// EXTERNAL MODULE: ./node_modules/vue-dompurify-html/dist/index.js\nvar dist = __webpack_require__(\"32801\");\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.sub.js\nvar es_string_sub = __webpack_require__(\"4c53\");\n\n// CONCATENATED MODULE: ./src/plugins/VueOAuth2PKCE/index.js\n\n\n\n\n\n\n\n\n__webpack_require__.e(/* import() */ 30).then(__webpack_require__.t.bind(null, \"ce78\", 7));\n\nvar _require = __webpack_require__(\"8c57\"),\n    OAuth2AuthCodePKCE = _require.OAuth2AuthCodePKCE;\n\n\n\n/* harmony default export */ var VueOAuth2PKCE = ({\n  install: function install(Vue, pkce_config) {\n    Vue.prototype.pkce = new OAuth2AuthCodePKCE(pkce_config);\n\n    Vue.prototype.login = function () {\n      var destination_route = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      // save destiantion route to localstorage\n      localStorage.setItem('oauth2authcodepkce-destination', JSON.stringify(destination_route));\n      Vue.prototype.pkce.fetchAuthorizationCode();\n    };\n\n    Vue.prototype.refresh_token = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var jwt;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"@@@ START TOKEN REFRESH\");\n              Vue.prototype.setOngoingTokenRefresh(true);\n              _context.prev = 2;\n              _context.next = 5;\n              return Vue.prototype.pkce.exchangeRefreshTokenForAccessToken();\n\n            case 5:\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(\"Error while refreshing token #83\", _context.t0);\n\n            case 10:\n              // TOKEN REFRESH ENDS: Notify the computed properties\n              jwt = Vue.prototype.pkce.state.accessToken.value;\n              VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('TokenChanges', jwt);\n              VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('AfterTokenChanged', jwt);\n              Vue.prototype.setOngoingTokenRefresh(false);\n              console.log(\"@@@ END WITH REFRESH\");\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 7]]);\n    })); // WAIT FOR ONGOING TOKEN REQUESTS! (wait maximal 5 seconds!)\n\n    Vue.prototype.ensureNoRefreshTokenIsOngoing = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var iter, maxSeconds;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              iter = 0;\n              maxSeconds = 4;\n              return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                (function waitForOngoingTokenRefresh() {\n                  if (!Vue.prototype.getOngoingTokenRefresh()) return resolve();\n                  iter++;\n\n                  if (iter >= maxSeconds * 10) {\n                    console.log(\"(infinity loop)\");\n                    Vue.prototype.setOngoingTokenRefresh(false);\n                    return reject(\"infinity loop\");\n                  }\n\n                  console.log('.');\n                  setTimeout(waitForOngoingTokenRefresh, 100);\n                })();\n              }));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    Vue.prototype.getOngoingTokenRefresh = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", Vue.prototype.pkce.state.ongoingTokenRefresh);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    Vue.prototype.setOngoingTokenRefresh = /*#__PURE__*/function () {\n      var _ref4 = asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(value) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                Vue.prototype.pkce.state.ongoingTokenRefresh = value;\n                console.log(\" ongoing SHALL BE \", value);\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }(); // Component Mixin\n\n\n    Vue.prototype.oauth = new Vue({\n      data: function data() {\n        return {\n          jwt: null\n        };\n      },\n      computed: {\n        authorized: function authorized() {\n          if (!this.jwt) {\n            var _Vue$prototype$pkce, _Vue$prototype$pkce$s, _Vue$prototype$pkce$s2;\n\n            // THis should not be required, however, you never know;-)\n            this.jwt = (_Vue$prototype$pkce = Vue.prototype.pkce) === null || _Vue$prototype$pkce === void 0 ? void 0 : (_Vue$prototype$pkce$s = _Vue$prototype$pkce.state) === null || _Vue$prototype$pkce$s === void 0 ? void 0 : (_Vue$prototype$pkce$s2 = _Vue$prototype$pkce$s.accessToken) === null || _Vue$prototype$pkce$s2 === void 0 ? void 0 : _Vue$prototype$pkce$s2.value;\n          }\n\n          var authorized = this.jwt && Vue.prototype.pkce.isAuthorized();\n          return !!authorized;\n        },\n        ongoing: function ongoing() {\n          // During oauth setup: if its not yet clear, if user is logged in (i.e. login process is ongoing)\n          return this.authorized === null || this.authorized === undefined;\n        },\n        payload: function payload() {\n          if (!this.authorized) {\n            return null;\n          }\n\n          return JSON.parse(window.atob(this.jwt.split('.')[1]));\n        },\n        userid: function userid() {\n          var _this$payload;\n\n          return (_this$payload = this.payload) === null || _this$payload === void 0 ? void 0 : _this$payload.sub;\n        }\n      },\n      methods: objectSpread2_default()(objectSpread2_default()({}, Object(vuex_esm[\"b\" /* mapActions */])({\n        storeOauthAcls: \"publicprofilestore/storeOauthAcls\"\n      })), {}, {\n        expiredJWT: function expiredJWT() {\n          if (!this.payload) {\n            return;\n          }\n\n          console.log(\"EXPIRES IN \", Math.round(this.payload.exp - new Date().getTime() / 1000, 1) / 60, ' minutes.');\n          return this.payload.exp < new Date().getTime() / 1000 + 5;\n        },\n\n        /* Refresh token already before a invalid request has been issued */\n        refresh_token_if_required: function () {\n          var _refresh_token_if_required = asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n            return regeneratorRuntime.wrap(function _callee5$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    if (Vue.prototype.pkce.isAuthorized()) {\n                      _context5.next = 2;\n                      break;\n                    }\n\n                    return _context5.abrupt(\"return\", true);\n\n                  case 2:\n                    _context5.next = 4;\n                    return this.expiredJWT();\n\n                  case 4:\n                    if (!_context5.sent) {\n                      _context5.next = 15;\n                      break;\n                    }\n\n                    if (!Vue.prototype.getOngoingTokenRefresh()) {\n                      _context5.next = 10;\n                      break;\n                    }\n\n                    _context5.next = 8;\n                    return Vue.prototype.ensureNoRefreshTokenIsOngoing().catch(function (error) {\n                      return false;\n                    });\n\n                  case 8:\n                    _context5.next = 11;\n                    break;\n\n                  case 10:\n                    Vue.prototype.setOngoingTokenRefresh(true);\n\n                  case 11:\n                    if (!this.expiredJWT()) {\n                      _context5.next = 14;\n                      break;\n                    }\n\n                    _context5.next = 14;\n                    return Vue.prototype.refresh_token();\n\n                  case 14:\n                    Vue.prototype.setOngoingTokenRefresh(false);\n\n                  case 15:\n                    return _context5.abrupt(\"return\", true);\n\n                  case 16:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            }, _callee5, this);\n          }));\n\n          function refresh_token_if_required() {\n            return _refresh_token_if_required.apply(this, arguments);\n          }\n\n          return refresh_token_if_required;\n        }(),\n        logout: function logout() {\n          var _this = this;\n\n          return asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n            return regeneratorRuntime.wrap(function _callee6$(_context6) {\n              while (1) {\n                switch (_context6.prev = _context6.next) {\n                  case 0:\n                    console.log(\"$$$ LOGOUT IN PLUGIN\");\n                    Vue.prototype.pkce.reset();\n                    _this.jwt = null;\n                    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('TokenChanges', null);\n                    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('AfterTokenChanged', null); // wait few seconds...before deleting everything...\n\n                    setTimeout(function () {\n                      return VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('AfterLogout');\n                    }, 10);\n\n                  case 6:\n                  case \"end\":\n                    return _context6.stop();\n                }\n              }\n            }, _callee6);\n          }))();\n        },\n        initialize: function () {\n          var _initialize = asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n            var _this2 = this;\n\n            var hasAuthCode, token, _token, _token$token;\n\n            return regeneratorRuntime.wrap(function _callee7$(_context7) {\n              while (1) {\n                switch (_context7.prev = _context7.next) {\n                  case 0:\n                    // During Startup\n                    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$on('TokenChanges', function (jwt) {\n                      _this2.jwt = jwt; // const refresh = Vue.prototype.pkce.state.refreshToken.value\n                      // console.log(\"............NEW NEW REFRESH TOKEN: \", !!refresh, refresh.substring(refresh.length - 5))\n                    });\n                    _context7.next = 3;\n                    return Vue.prototype.pkce.isReturningFromAuthServer().catch(function (potentialError) {\n                      if (potentialError) {\n                        console.log(potentialError, \"#4385\");\n                        Promise.reject(potentialError);\n                      }\n\n                      console.log(\"catch without potentialError?\", potentialError);\n                    });\n\n                  case 3:\n                    hasAuthCode = _context7.sent;\n                    // const token = Vue.prototype.pkce.isAuthorized() ? await Vue.prototype.pkce.getAccessToken() : null\n                    token = null;\n                    _context7.prev = 5;\n                    _context7.next = 8;\n                    return Vue.prototype.pkce.getAccessToken();\n\n                  case 8:\n                    token = _context7.sent;\n                    token = (_token = token) === null || _token === void 0 ? void 0 : (_token$token = _token.token) === null || _token$token === void 0 ? void 0 : _token$token.value;\n                    _context7.next = 15;\n                    break;\n\n                  case 12:\n                    _context7.prev = 12;\n                    _context7.t0 = _context7[\"catch\"](5);\n                    console.log(\"Not logged in, right?\", _context7.t0);\n\n                  case 15:\n                    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('TokenChanges', token);\n                    VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('AfterTokenChanged', token);\n\n                    if (hasAuthCode) {\n                      VueOAuth2PKCE_eventbus[\"a\" /* oAuthEventBus */].$emit('AfterLogin');\n                    } // DEBUG\n                    // this.expiredJWT()\n\n\n                  case 18:\n                  case \"end\":\n                    return _context7.stop();\n                }\n              }\n            }, _callee7, null, [[5, 12]]);\n          }));\n\n          function initialize() {\n            return _initialize.apply(this, arguments);\n          }\n\n          return initialize;\n        }()\n      })\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/plugins/VAA/index.js\n// LOADED ASSEMBLY TYPES\n/* harmony default export */ var VAA = ({\n  install: function install(Vue, pkce_config) {\n    // ADD ASSEMBLY TYPES\n    Vue.prototype.$assemblyTypes.push('VAA'); // ADD ROUTES\n    // ADD GLOBAL TRANSLATIONS...\n  }\n});\n// CONCATENATED MODULE: ./src/boot/main.js\n\n\n\n\n\n\n\n\n // APP CONSTANTS\n/////////////////////////////////\n\n\n\nvue_runtime_esm[\"default\"].prototype.Constants = constants[\"a\" /* default */]; // CONFIGURATION\n// outside of a Vue component:\n\n; // lg: 1440\n// md: 1024\n// sm: 600\n// xl: 1920\n\nvar defaultSizes = Screen[\"a\" /* default */].sizes; // defaultSizes.nu = 800;\n\ndefaultSizes.md = 850;\ndefaultSizes.sm = 450;\nScreen[\"a\" /* default */].setSizes(defaultSizes); // \n// SANITIZER\n/////////////////////////////////\n\n\nvue_runtime_esm[\"default\"].use(dist_default.a, {\n  namedConfigurations: {\n    'alink': {\n      ADD_ATTR: ['target']\n    }\n  }\n}); // GLOBAL METHODS\n/////////////////////////////////\n// Add Object filter: helper...\n//.filter only works for lists but not for objects...\n\nObject.filter = function (obj, predicate) {\n  return Object.keys(obj).filter(function (key) {\n    return predicate(obj[key]);\n  }).reduce(function (res, key) {\n    return res[key] = obj[key], res;\n  }, {});\n};\n/* Returns length of a object/list, while handling null as 0. \nTODO: same as object?.length rigth?\n*/\n\n\nvue_runtime_esm[\"default\"].prototype.$nLength = function (object1) {\n  if (object1 === null) {\n    return 0;\n  }\n\n  return object1.length;\n};\n\nvue_runtime_esm[\"default\"].prototype.$loaded = function (object1) {\n  return object1 !== null && object1 !== undefined;\n}; // // DEV\n// Vue.prototype.$alert = function (str) {\n//   alert(str);\n// }\n// \n\n\nvue_runtime_esm[\"default\"].prototype.$sample = function (array) {\n  return array[Math.floor(Math.random() * array.length)];\n};\n\nvue_runtime_esm[\"default\"].prototype.$pushSorted = function (children, toAdd) {\n  if (!toAdd.content.order_position) {\n    children.push(toAdd);\n    return children;\n  }\n\n  function getIndex(children, toAdd) {\n    var idx = children.findIndex(function (x) {\n      return x.content.order_position > toAdd.content.order_position;\n    });\n    return idx === -1 ? children.length : idx;\n  }\n\n  var ix = getIndex(children, toAdd);\n  children.splice(ix, 0, toAdd);\n  return children;\n};\n\nvue_runtime_esm[\"default\"].prototype.$getOffsetTop = function (element) {\n  var offsetTop = 0;\n\n  while (element) {\n    offsetTop += element.offsetTop;\n    element = element.offsetParent;\n  }\n\n  return offsetTop;\n}; // CUSTOMMIZATION QUASAR COMPONENTS\n//////////////////////////////////\n\n\n;\nNotify[\"a\" /* default */].registerType('nFabrikInfo', {\n  icon: 'mdi-announcement',\n  color: 'brown',\n  textColor: 'white',\n  classes: 'glossy'\n});\nNotify[\"a\" /* default */].registerType('nFabrikError', {\n  icon: 'mdi-error',\n  color: 'red',\n  textColor: 'white',\n  classes: 'glossy'\n});\nNotify[\"a\" /* default */].registerType('nFabrikWarning', {\n  icon: 'mdi-warning',\n  color: 'orange-10',\n  textColor: 'white'\n}); // LOAD AUTH\n/////////////////////////////////\n\n/**\n * OAuth2AuthCodePKCE Configuration\n */\n\nvar main_pkce_config = {\n  authorizationUrl: \"\".concat(\"http://localhost:8010\", \"/o/authorize/\"),\n  tokenUrl: \"\".concat(\"http://localhost:8010\", \"/o/token/\"),\n  clientId: \"xF6n5vYaxCp3GJXDkKBFgHJlY25Z3U4MmT3N2Grk\",\n  scopes: ['read'],\n  // TODO\n  redirectUrl: \"\".concat(\"http://localhost\").concat(\"/authorization\"),\n  onAccessTokenExpiry: function onAccessTokenExpiry(refreshAccessToken) {\n    console.log('Expired! Access token needs to be renewed. (onAccessTokenExpiry)');\n    return refreshAccessToken();\n  },\n  onInvalidGrant: function onInvalidGrant(refreshAuthCodeOrRefreshToken) {\n    if (!runtime_store[\"b\" /* runtimeStore */].appExitState) {\n      console.log(\"TOKEN REFRESH FAILED\");\n      throw new Error(\"ErrorInvalidGrant\");\n    } else {\n      // TOKEN Failed. However, user is up to leave the page. (so ignore it...)\n      Promise.resolve();\n    }\n  }\n};\n\nvue_runtime_esm[\"default\"].use(VueOAuth2PKCE, main_pkce_config); // LOAD ASSEMBLY PLUGINS\n\nvue_runtime_esm[\"default\"].prototype.$assemblyTypes = [];\n\nvue_runtime_esm[\"default\"].use(VAA);\n// EXTERNAL MODULE: ./src/boot/i18n.js + 3 modules\nvar i18n = __webpack_require__(\"8847\");\n\n// CONCATENATED MODULE: ./.quasar/client-entry.js\n\n\n\n\n\n/**\n * THIS FILE IS GENERATED AUTOMATICALLY.\n * DO NOT EDIT.\n *\n * You are probably looking on adding startup/initialization code.\n * Use \"quasar new boot <name>\" and add it there.\n * One boot file per concern. Then reference the file(s) in quasar.conf.js > boot:\n * boot: ['file', ...] // do not add \".js\" extension to it.\n *\n * Boot files are your \"main.js\"\n **/\n\n // We load Quasar stylesheet file\n\n\n\n\n\n\n\nvar publicPath = \"/\";\n\nfunction start() {\n  return _start.apply(this, arguments);\n}\n\nfunction _start() {\n  _start = asyncToGenerator_default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _yield$createApp, app, store, router, hasRedirected, redirect, urlPath, bootFiles, i;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _quasar_app();\n\n          case 2:\n            _yield$createApp = _context.sent;\n            app = _yield$createApp.app;\n            store = _yield$createApp.store;\n            router = _yield$createApp.router;\n            hasRedirected = false;\n\n            redirect = function redirect(url) {\n              hasRedirected = true;\n              var normalized = Object(url) === url ? router.resolve(url).route.fullPath : url;\n              window.location.href = normalized;\n            };\n\n            urlPath = window.location.href.replace(window.location.origin, '');\n            bootFiles = [/* Cannot get final name for export \"default\" in \"./src/boot/main.js\" (known exports: , known reexports: ) */ undefined, i18n[\"a\" /* default */]];\n            i = 0;\n\n          case 11:\n            if (!(hasRedirected === false && i < bootFiles.length)) {\n              _context.next = 29;\n              break;\n            }\n\n            if (!(typeof bootFiles[i] !== 'function')) {\n              _context.next = 14;\n              break;\n            }\n\n            return _context.abrupt(\"continue\", 26);\n\n          case 14:\n            _context.prev = 14;\n            _context.next = 17;\n            return bootFiles[i]({\n              app: app,\n              router: router,\n              store: store,\n              Vue: vue_runtime_esm[\"default\"],\n              ssrContext: null,\n              redirect: redirect,\n              urlPath: urlPath,\n              publicPath: publicPath\n            });\n\n          case 17:\n            _context.next = 26;\n            break;\n\n          case 19:\n            _context.prev = 19;\n            _context.t0 = _context[\"catch\"](14);\n\n            if (!(_context.t0 && _context.t0.url)) {\n              _context.next = 24;\n              break;\n            }\n\n            window.location.href = _context.t0.url;\n            return _context.abrupt(\"return\");\n\n          case 24:\n            console.error('[Quasar] boot error:', _context.t0);\n            return _context.abrupt(\"return\");\n\n          case 26:\n            i++;\n            _context.next = 11;\n            break;\n\n          case 29:\n            if (!(hasRedirected === true)) {\n              _context.next = 31;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 31:\n            new vue_runtime_esm[\"default\"](app);\n\n          case 32:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[14, 19]]);\n  }));\n  return _start.apply(this, arguments);\n}\n\nstart();\n\n/***/ }),\n\n/***/ \"5319b\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"4de4\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"4160\");\n/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"caad\");\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"e260\");\n/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"d3b7\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"07ac\");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"2532\");\n/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"159b\");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ddb0\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ded3\");\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"2f62\");\n/* harmony import */ var src_mixins_stage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"c937\");\n/* harmony import */ var vue_reactive_provide__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"28e9\");\n/* harmony import */ var vue_reactive_provide__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(vue_reactive_provide__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"9651\");\n/* harmony import */ var src_utils_eventbus_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"c75e\");\n/* harmony import */ var src_utils_constants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"c9d9\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  // mixins: [StageMixin],\n  mixins: [src_mixins_stage__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], Object(vue_reactive_provide__WEBPACK_IMPORTED_MODULE_12__[\"ReactiveProvideMixin\"])({\n    name: 'CONTENTTREE',\n    include: ['contenttreeID', 'contenttree', 'salienceCompleted', 'rootElements', 'rootNode', \"limitForAddingProposalsReached\", \"limitForAddingCommentsReached\"]\n  })],\n  provide: function provide() {\n    return {\n      getContentReference: this.getContentReference,\n      isRead: this.isRead,\n      isAlerted: this.isAlerted,\n      markDiscussed: this.markDiscussed,\n      markRead: this.markRead,\n      openIndex: this.openIndex,\n      openArgument: this.openArgument,\n      filter_entries: this.filter_entries\n    };\n  },\n  data: function data() {\n    return {// numberOfCurrentlySaliencedEntries: 0\n      // is_loaded: false,\n      // checked_sync_state: false\n    };\n  },\n  watch: {\n    contenttreeID: function contenttreeID(to, from) {\n      if (to) {\n        this.$store.dispatch('contentstore/syncContenttree', {\n          assemblyIdentifier: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].assemblyIdentifier,\n          contenttreeID: to,\n          oauthUserID: this.oauth.userid\n        });\n      }\n    }\n  },\n  computed: _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_9___default()({\n    ready: function ready() {\n      // console.log(this.contenttree.rootElementIds, \" lll\")\n      // alert(\"L\");\n      var ready = this.$loaded(this.contenttree) && this.$loaded(this.contenttree.rootElementIds);\n\n      if (ready) {\n        src_utils_eventbus_js__WEBPACK_IMPORTED_MODULE_14__[/* LayoutEventBus */ \"a\"].$emit('hideLoading');\n      } // console.log(\"kkk\", ready)\n\n\n      return ready;\n    },\n    contenttreeID: function contenttreeID() {\n      var _this$routed_stage, _this$routed_stage$st, _this$routed_stage2, _this$routed_stage2$s, _this$routed_stage3, _this$routed_stage3$s;\n\n      // Mixin is only usable for pages with assemblyIdentifier in the URL\n      console.log(\"load contenttreeID in contentree.computed\"); // console.log(\"RETRIEVE contenttreeID..\", this.routed_stage)\n\n      if (!this.routed_stage || !((_this$routed_stage = this.routed_stage) !== null && _this$routed_stage !== void 0 && (_this$routed_stage$st = _this$routed_stage.stage) !== null && _this$routed_stage$st !== void 0 && _this$routed_stage$st.contenttree_id)) {\n        console.log(\" routed_stage not loaded\");\n        return null;\n      }\n\n      console.log(\"contenttreeID\", (_this$routed_stage2 = this.routed_stage) === null || _this$routed_stage2 === void 0 ? void 0 : (_this$routed_stage2$s = _this$routed_stage2.stage) === null || _this$routed_stage2$s === void 0 ? void 0 : _this$routed_stage2$s.contenttree_id);\n      return (_this$routed_stage3 = this.routed_stage) === null || _this$routed_stage3 === void 0 ? void 0 : (_this$routed_stage3$s = _this$routed_stage3.stage) === null || _this$routed_stage3$s === void 0 ? void 0 : _this$routed_stage3$s.contenttree_id;\n    },\n    contenttree: function contenttree() {\n      console.log(\"load contenttree in contentree.computed\");\n\n      if (!this.contenttreeID) {\n        return null;\n      }\n\n      console.assert(src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].assemblyIdentifier); // retrieve from localStorage\n\n      var contenttree = this.get_contenttree({\n        contenttreeID: this.contenttreeID\n      });\n      console.log(\"contenttree\", contenttree);\n      return contenttree;\n    },\n    contents: function contents() {\n      return this.contenttree.entries;\n    },\n    rootNode: function rootNode() {\n      return {\n        id: null,\n        path: [],\n        children: this.rootElements\n      };\n    },\n    rootElements: function rootElements() {\n      var _this$contenttree,\n          _this = this;\n\n      // TODO: sort....\n      if ((_this$contenttree = this.contenttree) !== null && _this$contenttree !== void 0 && _this$contenttree.rootElementIds) {\n        var elements = [];\n        this.contenttree.rootElementIds.forEach(function (x) {\n          var el = _this.contenttree.entries[x];\n          elements = _this.$pushSorted(elements, el);\n        });\n        return elements;\n      }\n    },\n    salienceCompleted: function salienceCompleted() {\n      if (!this.routed_stage) {\n        return undefined;\n      }\n\n      return this.numberOfUnsaliencedTopLevelEntries == 0;\n    },\n    numberOfUnratedTopLevelEntries: function numberOfUnratedTopLevelEntries() {\n      var _this2 = this;\n\n      if (this.contenttree == null) {\n        return null;\n      }\n\n      var unrated_children = this.rootElements.filter(function (x) {\n        var _x$progression;\n\n        return !_this2.$loaded((_x$progression = x.progression) === null || _x$progression === void 0 ? void 0 : _x$progression.rating);\n      });\n      return Object.values(unrated_children).length;\n    },\n    numberOfUnsaliencedTopLevelEntries: function numberOfUnsaliencedTopLevelEntries() {\n      var _this3 = this;\n\n      if (this.contenttree == null) {\n        return null;\n      }\n\n      var unsalienced_children = this.rootElements.filter(function (x) {\n        var _x$progression2;\n\n        return !_this3.$loaded((_x$progression2 = x.progression) === null || _x$progression2 === void 0 ? void 0 : _x$progression2.salience);\n      });\n      return Object.values(unsalienced_children).length;\n    }\n  }, Object(vuex__WEBPACK_IMPORTED_MODULE_10__[/* mapGetters */ \"c\"])({\n    get_contenttree: 'contentstore/get_contenttree'\n  })),\n  methods: _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_9___default()({\n    openIndex: function openIndex() {\n      // REDIRECT TO ARGUMENT PAGE\n      this.$router.push({\n        name: this.routed_stage.stage.type,\n        params: {\n          assemblyIdentifier: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].assemblyIdentifier,\n          stageID: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].stageID // contenttreeID: this.contenttreeID\n\n        }\n      });\n    },\n    openArgument: function openArgument(contentID) {\n      if (this.standalone) {\n        return;\n      } // REDIRECT TO ARGUMENT PAGE\n\n\n      this.$router.push({\n        name: this.routed_stage.stage.type,\n        params: {\n          assemblyIdentifier: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].assemblyIdentifier,\n          stageID: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].stageID,\n          contentID: contentID\n        }\n      });\n    },\n\n    /** Filter nodes by type (positive list) */\n    filter_entries: function filter_entries(nodes, TYPES) {\n      if (!nodes) {\n        return null;\n      }\n\n      var filtered = nodes.filter(function (item) {\n        return TYPES.includes(item.content.type);\n      });\n      return filtered;\n    },\n    isRead: function isRead(content) {\n      var _content$progression;\n\n      return !!(content !== null && content !== void 0 && (_content$progression = content.progression) !== null && _content$progression !== void 0 && _content$progression.read);\n    },\n    isAlerted: function isAlerted(content) {\n      var _content$progression2;\n\n      return !!(content !== null && content !== void 0 && (_content$progression2 = content.progression) !== null && _content$progression2 !== void 0 && _content$progression2.alerted);\n    },\n    isSalienced: function isSalienced(content) {\n      var _content$progression3;\n\n      return this.$loaded((_content$progression3 = content.progression) === null || _content$progression3 === void 0 ? void 0 : _content$progression3.salience);\n    },\n    isRated: function isRated(content) {\n      var _content$progression4;\n\n      this.$loaded((_content$progression4 = content.progression) === null || _content$progression4 === void 0 ? void 0 : _content$progression4.rating);\n    },\n    markRead: function markRead(content) {\n      var data = {\n        contentID: content.content.id\n      };\n      this.$root.monitorLog(src_utils_constants__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].MONITOR_SET_CONTENT_READ, data); // immediatly update vuex store\n\n      this.update_read({\n        contenttreeID: this.contenttreeID,\n        contentID: content.content.id\n      });\n    },\n    getContentReference: function getContentReference(nodeID) {\n      console.assert(nodeID);\n      var content = this.contenttree.entries[nodeID];\n      return content.content.title;\n    },\n    markDiscussed: function markDiscussed(node) {\n      var data = {\n        contentID: node.content.id\n      };\n      this.$root.monitorLog(src_utils_constants__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"].MONITOR_SET_CONTENT_DISCUSSED, data); // immediatly update vuex store\n\n      this.update_discussed({\n        contenttreeID: this.CONTENTTREE.contenttreeID,\n        contentID: node.content.id\n      });\n    }\n  }, Object(vuex__WEBPACK_IMPORTED_MODULE_10__[/* mapActions */ \"b\"])(\"contentstore\", [\"update_read\", 'update_discussed'])),\n  mounted: function mounted() {\n    var _this$routed_stage4;\n\n    // when stage has been loaded already\n    if ((_this$routed_stage4 = this.routed_stage) !== null && _this$routed_stage4 !== void 0 && _this$routed_stage4.stage.contenttree_id && this.oauth.userid) {\n      this.$store.dispatch('contentstore/syncContenttree', {\n        assemblyIdentifier: src_store_runtime_store__WEBPACK_IMPORTED_MODULE_13__[/* runtimeStore */ \"b\"].assemblyIdentifier,\n        contenttreeID: this.routed_stage.stage.contenttree_id,\n        oauthUserID: this.oauth.userid\n      });\n    } // else {\n    //   // Stage is not yet loaded: so wait until it is...\n    //   LayoutEventBus.$once(\"EventStageLoaded\", (stage) => {\n    //     this.$store.dispatch('contentstore/syncContenttree', {\n    //       assemblyIdentifier: runtimeStore.assemblyIdentifier,\n    //       contenttreeID: stage.stage.contenttree_id,\n    //       oauthUserID: this.oauth.userid\n    //     })\n    //   });\n    // }\n\n  }\n});\n\n/***/ }),\n\n/***/ \"5e55\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_29f922b9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"d3af\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_29f922b9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_29f922b9_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"7c15\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"99af\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"96cf\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"c973\");\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"2105\");\n/* harmony import */ var quasar_src_utils_date_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"bd4c\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"2b0e\");\n\n\n\n\n/**\n * https://stackoverflow.com/questions/49639605/how-to-separate-axios-requests-from-a-vuex-store\n * Do not catch errors in here...\n */\n\n;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  /* checks if the date transmitted is still a valid cache date. */\n  expiredCacheDate: function expiredCacheDate(timeDownloaded) {\n    if (!timeDownloaded) {\n      return false;\n    }\n\n    timeDownloaded = new Date(timeDownloaded);\n    var expiringDate = quasar_src_utils_date_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"b\"].addToDate(timeDownloaded, {\n      minutes: parseInt(\"20\")\n    });\n    return new Date(Date.now()) > expiringDate;\n  },\n\n  /* checks if the date transmitted is still a valid cache date. */\n  expiredUpdateDate: function expiredUpdateDate(timeDownloaded) {\n    if (!timeDownloaded) {\n      return false;\n    }\n\n    timeDownloaded = new Date(timeDownloaded);\n    var pingDate = quasar_src_utils_date_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"b\"].addToDate(timeDownloaded, {\n      minutes: parseInt(\"1\")\n    });\n    return new Date(Date.now()) > pingDate;\n  },\n  // oAuth Server\n  // *********************************\n\n  /**\n   * Get or Update Userprofile data..\n   */\n  authProfile: function authProfile(profile) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var url, data;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"API authProfile\"); // Renew token (if required)\n\n              _context.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              /* Update Auth Profile => Emailadress/ Username etc... */\n              profile.client_id = \"xF6n5vYaxCp3GJXDkKBFgHJlY25Z3U4MmT3N2Grk\";\n              url = \"\".concat(\"http://localhost:8010\", \"/accounts/emailupdate\");\n              data = {\n                method: 'post',\n                url: url,\n                data: profile,\n                headers: {\n                  'content-type': 'application/json'\n                }\n              };\n              return _context.abrupt(\"return\", src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].customRequest(data));\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  // API\n  // ******************************\n\n  /**\n   * Get or Public-Profile Data.. (API)\n   */\n  publicProfile: function publicProfile() {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(\"API publicProfile\"); // Renew token (if required)\n              // refresh_token method is done earlier, while launching app.\n\n              _context2.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              /* Notify Resource Server about certain user activities in the client app. */\n              url = \"\".concat(\"http://localhost:8020\", \"/profile\"); // console.log('get public profile (API-Server)')\n\n              _context2.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].get(url);\n\n            case 6:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n\n  /**\n   * Testing: Reset user data \n   */\n  apireset: function apireset(full) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\"API reset\"); // Renew token (if required)\n              // refresh_token method is done earlier, while launching app.\n\n              _context3.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              /* Notify Resource Server about certain user activities in the client app. */\n              url = '';\n\n              if (full) {\n                url = \"\".concat(\"http://localhost:8020\", \"/user/fullreset\");\n              } else {\n                url = \"\".concat(\"http://localhost:8020\", \"/user/dayreset\");\n              } // console.log('get public profile (API-Server)')\n\n\n              return _context3.abrupt(\"return\", src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].get(url));\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n  monitorActivities: function monitorActivities(buffer) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var url, response;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 2:\n              // console.log(\"/api\")\n\n              /* Notify Resource Server about certain user activities in the client app. */\n              url = \"\".concat(\"http://localhost:8020\", \"/monitor\"); // console.log('monitor activies in API')\n\n              _context4.next = 5;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                buffer: buffer\n              });\n\n            case 5:\n              response = _context4.sent;\n              return _context4.abrupt(\"return\", response.data);\n\n            case 7:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  },\n  retrievePublicIndex: function retrievePublicIndex() {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n      var url, data;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              // // Renew token (if required)\n              // await Vue.prototype.oauth.refresh_token_if_required()\n              // let url = `${process.env.ENV_APISERVER_URL}/assemblies`\n              // return await ApiService.get(url)\n              console.log(\"API retrievePublicIndex\");\n              url = \"\".concat(\"http://localhost:8020\", \"/assemblies\");\n              data = {\n                method: 'GET',\n                url: url,\n                WithoutAuthHeader: true\n              };\n              _context5.next = 5;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].customRequest(data);\n\n            case 5:\n              return _context5.abrupt(\"return\", _context5.sent);\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }))();\n  },\n  retrieveAssembly: function retrieveAssembly(assemblyIdentifier) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              console.log(\"API retrieveAssembly\"); // Renew token (if required)\n\n              _context6.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier);\n              _context6.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].get(url);\n\n            case 6:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }))();\n  },\n  // async saveCoaddOrUpdateStagentent(assemblyIdentifier, stage) {\n  //   console.log(\"API saveStage\")\n  //   // Renew token (if required)\n  //   await Vue.prototype.oauth.refresh_token_if_required()\n  //   // compose url\n  //   let url = `${process.env.ENV_APISERVER_URL}/assembly/${assemblyIdentifier}/stage/${contenttreeID}`\n  //   if (data.id) {\n  //     // this is an update\n  //     url += `/content/${data.id}`\n  //   } else {\n  //     url += \"/addcontent\";\n  //   }\n  //   // Renew token (if required)\n  //   // await Vue.prototype.oauth.refresh_token_if_required()\n  //   return await ApiService.post(url, { content: data })\n  // },\n  addOrUpdateStage: function addOrUpdateStage(assemblyIdentifier, stage) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 2:\n              // const assemblyIdentifier = runtimeStore.assemblyIdentifier\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/stage\"); // console.log(\"stage: \", stage, assemblyIdentifier)\n\n              if (stage.id) {\n                // MODIFY\n                url += \"/\".concat(stage.id);\n              }\n\n              return _context7.abrupt(\"return\", src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                stage: stage\n              }));\n\n            case 5:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }))();\n  },\n  updateAssembly: function updateAssembly(assemblyIdentifier, assembly) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 2:\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/assembly/form/\").concat(assembly.id);\n              console.assert(assembly.id);\n              return _context8.abrupt(\"return\", src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                assembly: assembly\n              }));\n\n            case 5:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }))();\n  },\n  retrieveContenttree: function retrieveContenttree(assemblyIdentifier, contenttreeID) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              console.log(\"API retrieveContenttree\"); // Renew token (if required)\n\n              _context9.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/contenttree/\").concat(contenttreeID, \"/contenttree\");\n              _context9.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].get(url);\n\n            case 6:\n              return _context9.abrupt(\"return\", _context9.sent);\n\n            case 7:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }))();\n  },\n  updateContenttree: function updateContenttree(assemblyIdentifier, contenttreeID, update_date) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              console.log(\"API retrieveContenttree\"); // Renew token (if required)\n\n              _context10.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/contenttree/\").concat(contenttreeID, \"/update\");\n              _context10.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                content: {\n                  update_date: update_date\n                }\n              });\n\n            case 6:\n              return _context10.abrupt(\"return\", _context10.sent);\n\n            case 7:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }))();\n  },\n  saveContent: function saveContent(assemblyIdentifier, contenttreeID, data) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              console.log(\"API saveContent\"); // Renew token (if required)\n\n              _context11.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              // compose url\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier);\n\n              if (data.id) {\n                // this is an update\n                url += \"/content/\".concat(data.id, \"/save\");\n              } else {\n                url += \"/contenttree/\".concat(contenttreeID, \"/addcontent\");\n              }\n\n              _context11.next = 7;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                content: data\n              });\n\n            case 7:\n              return _context11.abrupt(\"return\", _context11.sent);\n\n            case 8:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }))();\n  },\n  proposeContent: function proposeContent(assemblyIdentifier, contenttreeID, data) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              console.log(\"API saveContent\", contenttreeID); // Renew token (if required)\n\n              _context12.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              // compose url\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier);\n\n              if (data.id) {\n                // this is an update\n                url += \"/content/\".concat(data.id, \"/propose\");\n              } else {\n                url += \"/contenttree/\".concat(contenttreeID, \"/propose\");\n              } // Renew token (if required)\n              // await Vue.prototype.oauth.refresh_token_if_required()\n\n\n              _context12.next = 7;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                content: data\n              });\n\n            case 7:\n              return _context12.abrupt(\"return\", _context12.sent);\n\n            case 8:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }))();\n  },\n  contentDetail: function contentDetail(assemblyIdentifier, contentID) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee13() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              console.log(\"API contentDetail\", contentID); // Renew token (if required)\n\n              _context13.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              // compose url\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/content/\").concat(contentID, \"/detail\");\n              _context13.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].get(url);\n\n            case 6:\n              return _context13.abrupt(\"return\", _context13.sent);\n\n            case 7:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }))();\n  },\n  oauthSessionActive: function oauthSessionActive() {\n    return !!src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].getHeader();\n  },\n  retrievePeerreviews: function retrievePeerreviews(assemblyIdentifier, contenttreeID) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee14() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              console.log(\"API retrievePeerreviews\"); // Renew token (if required)\n\n              _context14.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/contenttree/\").concat(contenttreeID, \"/peerreviews\");\n              _context14.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].get(url);\n\n            case 6:\n              return _context14.abrupt(\"return\", _context14.sent);\n\n            case 7:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14);\n    }))();\n  },\n  updatePeerreviews: function updatePeerreviews(assemblyIdentifier, contenttreeID, update_date) {\n    return _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/regeneratorRuntime.mark(function _callee15() {\n      var url;\n      return regeneratorRuntime.wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              console.log(\"API updatePeerreviews\"); // Renew token (if required)\n\n              _context15.next = 3;\n              return vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"].prototype.oauth.refresh_token_if_required();\n\n            case 3:\n              url = \"\".concat(\"http://localhost:8020\", \"/assembly/\").concat(assemblyIdentifier, \"/contenttree/\").concat(contenttreeID, \"/peerreviewupdate\");\n              _context15.next = 6;\n              return src_utils_xhr__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].post(url, {\n                content: {\n                  update_date: update_date\n                }\n              });\n\n            case 6:\n              return _context15.abrupt(\"return\", _context15.sent);\n\n            case 7:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15);\n    }))();\n  }\n});\n\n/***/ }),\n\n/***/ \"8847\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* binding */ i18n_i18n; });\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(\"99af\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(\"4de4\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__(\"a15b\");\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__(\"2b0e\");\n\n// EXTERNAL MODULE: ./node_modules/vue-i18n/dist/vue-i18n.esm.js\nvar vue_i18n_esm = __webpack_require__(\"a925\");\n\n// CONCATENATED MODULE: ./src/i18n/de-ch/index.js\n// functional COmponent:\n// <i18n path=\"term\" tag=\"label\" for=\"tos\">\n// <a :href=\"url\" target=\"_blank\"> {{ $t('tos') }}</a>\n// </i18n>\n// => <label>Accept <a href=\"...\">terms of services</a></label>\n// https://kazupon.github.io/vue-i18n/guide/interpolation.html#basic-usage\n/* harmony default export */ var de_ch = ({\n  // btn_ready_to_enter: 'Ja, ich bin bereit',\n  app: {\n    name: 'Demokratiefabrik',\n    version: 'v1.0',\n    error: {\n      toomanyrequests_error_title: 'Das waren gerade sehr viele Anfragen an unsere Server.',\n      toomanyrequests_error_body: 'Diese Meldung kann viele Ursachen haben: Zum Beispiel bei zuvielen Anfragen in kurzer Zeit oder auch bei zuvielen verwendeten Gerten pro User. Haben Sie etwas Geduld. Es kann gut sein, dass es nach einer Pause wieder funktioniert.',\n      authorization_error_title: 'Zugang verweigert',\n      authorization_error_body: 'Sie sind nicht berechtigt auf diesen Bereich der Demokratiefabrik zuzugreifen.',\n      service_error_title: 'Betriebsstrung',\n      service_error_body: 'Im Betrieb der Demokratiefabrik ist eine Strung aufgetreten. Wir bitten Sie um Entschuldigung. Wenn dies das erste Mal auftritt, schlagen wir vor, die Seite neu zu laden.',\n      network_error_title: 'Kommunikationsstrung',\n      network_error_body: 'Die Kommunikation innnerhalb der Demokratiefabrik ist gerade beeintrchtigt. Es kann sein, dass dadurch einige Angaben, die sie gemacht haben, nicht an den Server bermittelt werden konnten. Wir bitten dafr um Entschuldigung.'\n    },\n    btn_close: 'Schliessen',\n    btn_back: 'Zurck',\n    btn_next: 'Weiter',\n    btn_reload: 'Seite neu laden',\n    btn_skip: 'berspringen',\n    btn_cancel: 'Abbrechen',\n    btn_home: 'Zur Startseite',\n    btn_goto_profile: 'Zum Sekretariat',\n    ask_for_bookmark_title: 'Hinweis:',\n    ask_for_bookmark: 'Mchten Sie diese Webseite whrend dem Event in Ihren Favoriten/Lesezeichen speichern? Dann drcken Sie die beiden Tasten {bookmarkKeys}'\n  },\n  disclaimer: {\n    btnLabel: 'Weiterfhrende Erluterungen',\n    contenttree: {\n      basic: \"Um die Diskussion \\xFCbersichtlich zu halten, behalten wir uns vor, die Inhalte innerhalb des Forums\\n      nach belieben zu strukturieren und auch ohne Angaben von Gr\\xFCnden (insbesondere bei Redundanzen und Verst\\xF6ssen gegen unsere AGB) zu l\\xF6schen. Die Inhalte in diesem Forum werden\\n      in hierarchischer (und nicht in chronologischer) Reihenfolge aufgelistet.\\n      Die Reihenfolge der Inhalte auf gleicher Hierarchiestufe ist zuf\\xE4llig und variiert von Benutzer zu Benutzer.\",\n      extensionExtraLarge: \"Die Diskussion ist schon recht umfassend. Welche \\xFCbersichtlich bleibt,\\n      wurden nur wenige zuf\\xE4llig ausgew\\xE4hlte Beitr\\xE4ge vollst\\xE4ndig aufgeklappt.\\n      Sie k\\xF6nnen die restlichen Beitr\\xE4ge selbst per Mausklick \\xF6ffnen.\",\n      // new_add_proposal: `Alle eingeladenen KnizerInnen knnen hier neue Vorschlge fr Smartvote-Fragebogen einbringen.\n      //   Bevor die vorgeschlagene Frage dann in den Smartvote Katalog einfliesst, wird er von zufllig ausgewhlten anderen Teilnehmenden begutachtet. Ist eine Mehrheit dieser BegutachterInnen einverstanden, so wird der Vorschlag angenommen.`,\n      peerreview: \"Alle Teilnehmende k\\xF6nnen auf dieser Seite neue Vorschl\\xE4ge einbringen, wie der Smartvote-Fragebogen besser gemacht werden kann. \\n        Sie k\\xF6nnen also vorschlagen, Smartvote- Fragen zu erstellen, zu bearbeiten oder auch zu l\\xF6schen.\\n        Zuf\\xE4llig ausgew\\xE4hlte Teilnehmende werden hier dann angefragt zu diesen Vorschl\\xE4gen Stellung zu nehmen.\\n        Nach 24 Stunden wird aufgel\\xF6st: Bei einer Mehrheit an positiven Antworten, werden die Vorschl\\xE4ge automatisch umgesetzt. \"\n    }\n  },\n  am: {\n    actor: {\n      1: 'Felix',\n      2: 'Sophie'\n    },\n\n    /* Male: 0; female: 1 */\n    gender: {\n      1: function _() {\n        return 0;\n      },\n      2: function _() {\n        return 1;\n      }\n    },\n    // Use pluralization for gender... \n    reference: 'Meine Kollegin {actorPartner} | Mein Kollege {actorPartner}',\n    tooltip: {\n      1: 'Ich bin {actor}.',\n      2: 'Ich heisse {actor}'\n    }\n  },\n  language: {\n    switcher_label: 'Sprachwahl',\n    items: {\n      'en-us': {\n        label: 'English'\n      },\n      'de-ch': {\n        label: 'Deutsch'\n      }\n    }\n  },\n  menu: {\n    items: {\n      locked: {\n        tooltip: 'Dieser Bereich ist noch nicht zugnglich. Unsere ModeratorInnen haben zuerst noch eine andere Bitte an Sie!'\n      }\n    }\n  },\n  auth: {\n    name_derivation: 'Ihr Namensgeber ist der {altitude} Meter hohe Berg \"{fullname}\" ({canton})',\n    name_derivation_3rd_party: 'Der Namensgeber ist der {altitude} Meter hohe Berg \"{fullname}\" ({canton})',\n    name_derivation_3rd_party_short: 'in Kniz stimmberechtigt. Das Pseudonym stammt vom {altitude} Meter hohen Berg \"{fullname}\" ({canton})',\n    login_button_label: 'Anmeldung',\n    logout: 'Abmelden',\n    login_button_text: 'Klicken Sie auf \\'Anmeldung\\', wenn Sie sich anmelden mchten. Eine Anmeldung ist notwendig, um sich aktiv in der Fabrik zu beteiligen.',\n    registered_as: 'Ihr Pseudonym',\n    not_registered: 'Nicht angmeldet',\n    profile_last_name: 'Pseudonym',\n    profile_email: 'Email',\n    profile_email_hint: 'Falls Sie keine Email Adresse besitzen, dann knnen sie auch ihre Handy Nummer eingeben. Wir werden Sie dann via SMS kontaktieren.',\n    profile_email_disclaimer: 'Sie fragen sich, wozu wir Ihre Emailadresse bentigen? Wir werden Ihnen in den kommenden Tagen wenige Emails zusenden, wie Benachrichtigungen ber wichtige Ereignisse auf der Plattform und eine Einladung zur Nachbefragung fr die wissenschaftliche Begleitstudie. Die Daten werden auf dem Server der Universitt Bern gespeichert und vertraulich behandelt. Gleich nach Ende des Projektes werden wir smtliche Emailadressen wieder von unserm Server an der Universitt Bern lschen.Ihre Emailadressen werden zu keinem Zeitpunkt an Dritte weitergegeben.',\n    profile_update_action: 'Speichern',\n    profile_update_success: 'Das Benutzerprofil wurde gespeichert',\n    profile_update_error: 'Das Benutzerprofil konnte nicht gespeichert werden',\n    profile_load_error: 'Das Benutzerprofil konnte nicht geladen werden',\n    goto_authentication_form: 'Zur Anmeldung',\n    goto_profile_page: 'Benutzerprofil berarbeiten',\n    tooltip_authenticated: 'Klicken Sie hier um Ihr Benutzerprofil einzusehen oder sich abzumelden.',\n    tooltip_non_authenticated: 'Sie sind noch nicht in der Demokratiefabrik angemeldet. Hier knnen Sie dies tun.',\n    logout_succeeded_title: 'Vielen Dank und auf Wiedersehen',\n    logout_succeeded_caption: 'Natrlich freuen wir uns auf einen erneuten Besuch. Wie wrs gleich morgen?',\n    authentication_succeeded_title: 'Anmeldung erfolgreich.',\n    authentication_succeeded_caption: 'Sie haben sich erfolgreich bei der Demokratiefabrik angemeldet. Wir danken Ihnen schon jetzt fr Ihre Mithilfe.',\n    authentication_warning_title: 'Anmeldung erforderlich.',\n    authentication_warning_body: 'Sie haben sich noch nicht bei der Demokratiefabrik angemeldet. Fr den Zugriff auf diesen Bereich ist dies jedoch erforderlich.',\n    authentication_invalid_warning_title: 'Session beendet.',\n    authentication_invalid_warning_body: 'Hoppla! Um weiterzufahren mssen Sie sich erneut anmelden.',\n    authentication_error_title: 'Anmeldung schlug fehl.',\n    authentication_error_body: 'Bei der Anmeldung tratt ein unerwarteter Fehler auf. Bitte kontakieren Sie uns via Email: info@demokratiefabrik.ch'\n  },\n  // index: {\n  //   am: {\n  //     tooltip: {\n  //       1: [\n  //         // Tooltips for the first AM displayed on the page\n  //         'Ich bin {actor} und bin brigens sehr froh, dass Sie hier sind.'\n  //       ],\n  //       2: [\n  //         // Tooltips for AM with index:2\n  //         'Ich bin {actor}',\n  //         'Haben Sie Fragen, dann besuchen Sie bitte den Info-Point',\n  //       ]\n  //     }\n  //   }\n  // },\n  // assemblies: {\n  //   h1: 'Aktuelle Online-Versammlungen | Aktuelle Online-Versammlungen',\n  //   home_caption: 'Online-Versammlung: {assembly_title}',\n  //   home_description: 'Bis zum Ende der Online-Versammlung {relative_end_date} finden Sie hier tglich eine bersicht der anstehenden Aufgaben.',\n  //   please_enter: 'Bitte Eintreten',\n  //   date_end: 'Noch {relative_end_date}',\n  //   go_back_to_assembly_home: 'Zur Tagesbersicht',\n  //   am: {\n  //     there_are_assemblies_ongoing: 'Wunderbar! Sie sind eingeladen sich an einer Online-Versammlung zu beteiligen.',\n  //     no_assemblies_accessible: 'Sie knnen sich aktuell an keiner Online-Versammlung beteiligen. Wer sich beteiligen darf und wer nicht, entschied das Los.',\n  //     invitation_to_authenticate: 'Sind Sie eine der 1000 eingeladenen Personen, die sich an einer Online-Versammlung beteiligen drfen? Dann mchten wir Sie bitten sich anzumelden.',\n  //     you_may_enter_this_assembly_for_the_first_time: 'Treten Sie ein: Es macht Spass und Sie leisten einen Beitrag fr unsere Demokratie.'\n  //   }\n  // },\n  stages: {\n    home_title: 'Ihre Agenda fr den {current_date}',\n    status_completed: 'Nicht mehr zugnglich',\n    status_not_yet_accessible: 'Noch nicht zugnglich',\n    status_disabled: 'Deaktiviert',\n    status_deleted: 'Gelscht',\n    please_enter_stage: 'ffnen',\n    goto_next_stage: 'Weiter zum nchsten Punkt',\n    am: {\n      welcome_full_schedule: 'Dann legen wir los. Heute sind {numberOfStages} Punkte auf Ihrer Agenda.',\n      welcome_partial_schedule: 'Nun habe ich nur noch eine Bitte fr Heute. | Nun sind es nur noch {numberOfScheduledStages} Punkte fr heute.',\n      welcome_empty_schedule: 'Super! Ich glaube fr heute haben wir keine konkreten Fragen mehr an sie.',\n      enter_first: 'Wir fangen hier an. Sind Sie bereit?',\n      enter_continue: 'Wir fahren hier nun weiter. Sind Sie bereit?',\n      enter_end: 'Das ist nun mein letzter Wunsch fr heute. Folgen Sie mir bitte folgen.',\n      already_seen: 'Das haben Sie sich schon angesehen. Jetzt brauchen wir Sie andernorts. Kommen Sie mit?',\n      all_stages_already_seen: 'Wenn Sie mchten, knnen Sie sich das natrlich noch einmal ansehen?',\n      already_completed: 'Dieser Bereich haben Sie bereits abgeschlossen.',\n      attention_needed: 'Bitte folgen Sie mir.',\n      enter_unique_stage: 'Dies ist heute der einzige Punkt auf dem Programm. Sind Sie bereit?'\n    }\n  },\n  // showcase: {\n  //   h1: 'Das Ergebnis unserer Online-Versammlung | Die Ergebnisse unserer Online-Versammlungen',\n  //   am: {\n  //     no_assemblies_in_public_state: `Zur gegebener Zeit, werden wir hier die Resultate unserer \n  //       Online-Versammlungen verffentlichen. Wir versprechen Ihnen einen unabhngigen Blick \n  //       aus der Perspektive des Stimmvolks.`,\n  //     there_are_assemblies_in_public_state: `Wunderbar! Sie knnen hier schon die ersten Ergebnisse \n  //       unserer Online-Versammlung besichtigen.`,\n  //     chip_please_enter: 'Bitte treten Sie ein.',\n  //     tooltip: {\n  //       1: [\n  //         // Tooltips for the first AM displayed on the page\n  //         `Das von den Stimmbrgern erarbeitete Material ist ungemein hilfreich, wenn man sich selber ein Bild ber ein politisches \n  //         Thema machen will.`,\n  //         // Tooltips for the first AM displayed on the page\n  //         'Das warten lohnt sich auf jeden Fall. Besuchen Sie uns einfach spter wieder.'\n  //       ]\n  //     }\n  //   }\n  // },\n  background: {\n    h1: 'Alles ber die Demokratiefabrik!',\n    citizen_assemblies: {\n      label: 'Die Demokratiefabrik  ein neuer Ort fr digitale Beteiligung',\n      text: \"Die \\xABDemokratiefabrik\\xBB ist ein digitaler Ort, wo sich B\\xFCrgerinnen und B\\xFCrger treffen, um gemeinsam \\xFCber verschiedene Themen zu diskutieren und festgelegte Endprodukte zu fabrizieren. Ziel der Demokratiefabrik ist, die Bev\\xF6lkerung st\\xE4rker in politische Entscheidungsprozesse einzubeziehen. Obwohl die Digitalisierung hierzu eigentlich zahlreiche Chancen bietet, sind aus verschiedenen Gr\\xFCnden digitale Beteiligungsformate noch stark limitiert, bergen Risiken und haben nicht selten einen schlechten Ruf. Es fehlen sorgf\\xE4ltig entworfene digitale Beteiligungsformate, die es erm\\xF6glichen, die Demokratie im digitalen Zeitalter zu st\\xE4rken. Mit diesem vom Schweizerischen Nationalfond (SNF) unterst\\xFCtzten Forschungsprojekt wollen wir die Forschung in diesem Bereich vorantreiben. Zu wissen, unter welchen Bedingungen digitale Beteiligungsformen die Demokratie st\\xE4rken k\\xF6nnen, stellt die Grundlage f\\xFCr eine erfolgreiche B\\xFCrgerbeteiligung im digitalen Zeitalter dar.\"\n    },\n    digital_participation: {\n      label: 'Was Sie auf unserer digitalen Plattform erwartet',\n      text: \"Wir haben mit der \\xABDemokratiefabrik\\xBB ein digitales Beteiligungsformat entwickelt, das den B\\xFCrgerinnen und B\\xFCrgern erm\\xF6glicht, eigene Argumente und \\xDCberzeugungen in den Abstimmungs- und Wahldiskurs einzubringen. Damit soll nicht nur das Vertrauen in Online-Infrastruktur gest\\xE4rkt, sondern auch die Legitimit\\xE4t der direkten Demokratie erh\\xF6ht werden. Damit das gelingt, setzen wir auf folgende Neuerungen: Zum einen setzen wir auf die zuf\\xE4llige Auswahl einer repr\\xE4sentativen Stichprobe von Personen. Zum anderen soll mittels technischer Innovation gew\\xE4hrleistet werden, dass eine maximale Diversit\\xE4t von Argumenten und Positionen in die Diskussion einfliessen und dass Teilnehmende im politischen Gestaltungsprozess eine autonome Rolle spielen. Teilnehmende an der Demokratiefabrik haben die M\\xF6glichkeit, eigene Beitr\\xE4ge zu verfassen sowie zuf\\xE4llig ausgeloste Beitr\\xE4ge von anderen Nutzenden zu bewerten und zu kommentieren.\"\n    },\n    team: {\n      label: 'Wer fr die Demokratiefabrik verantwortlich ist',\n      text: \"Beteiligt an den Projekten sind f\\xFCr die Projektleitung Dr. Marl\\xE8ne Gerber (Hauptverantwortliche), Prof. Dr. Marc B\\xFChlmann, Dr. Anja Heidelberger, Dr. Dominik Wyss (Verantwortlicher Plattform) und Giada Gianola (Doktorandin im Projekt) am Institut f\\xFCr Politikwissenschaft der Universit\\xE4t Bern. Das Projekt profitiert vom Expertenwissen von Prof. Dr. Andr\\xE9 B\\xE4chtiger (Universit\\xE4t Stuttgart) und Dr. Marc Klein (MIT, Center for Collective Intelligence). Die smartvote-Fallstudie erfolgt in Zusammenarbeit mit smartvote (Michael Erne). Der Schweizerische Nationalfonds unterst\\xFCtzt das Projekt seit April 2020 f\\xFCr eine Dauer von 36 Monaten im Rahmen des NFP77 \\xABDigitale Transformation\\xBB.\"\n    },\n    artificialmoderators: {\n      label: '@:am.actor.2 und @:am.actor.1 - Das Moderatorenteam',\n      text: \"Bestimmt sind Ihnen bereits Sophie und Felix begegnet. Unser Moderator und unsere Moderatorin begleiten Sie bei der Mitarbeit in der Demokratiefabrik. Sie machen Sie auf die wichtigsten Aufgaben aufmerksam und f\\xFChren Sie Schritt f\\xFCr Schritt durch unsere Plattform.\"\n    },\n    next_steps: {\n      label: 'Die nchsten Schritte',\n      text: \"Konkret werden im Projekt zwei Prototypen digitaler Beteiligung getestet: 1) Wahlberechtigte stellen einen smartvote-Fragekatalog zusammen und 2) Stimmberechtigte erstellen ein Argumentarium zu einer eidgen\\xF6ssischen Abstimmungsvorlage. Die Demokratiefabrik ist erstmals vom 14. Juni bis 2. Juli 2021 im Einsatz: 9'000 zuf\\xE4llig ausgew\\xE4hlte Wahlberechtigte der Gemeinde K\\xF6niz erhalten dann die Gelegenheit, den smartvote-Fragebogen f\\xFCr die Gemeindewahlen vom 26. September 2021 mitzugestalten.\"\n    },\n    transparency: {\n      label: 'Vollstndige Transparenz',\n      // text: 'Ein wichtiges Anliegen von uns ist, dass die Funktionsweise unserer Software von der angezeigt werden. {iconTechnicalTransparency}'\n      text: \"Ein wichtiges Anliegen von uns ist, dass die Funktionsweise unserer Software von der interessierten \\xD6ffentlich jederzeit nachvollzogen und auf Herz und Nieren \\xFCberpr\\xFCft werden kann. Unsere Software ist Open Source, das heisst der Quelltext ist \\xF6ffentlich und kann von Dritten eingesehen, ge\\xE4ndert und genutzt werden. Die Software kann kostenlos verwendet werden. Doch auch f\\xFCr Leute ohne IT-Kenntnisse schaffen wir Transparenz. Allem voran finden sich auf der Plattform an verschiedensten Stellen das folgende Icon {iconTechnicalTransparency}. Dahinter verbergen sich jeweils Erl\\xE4uterungen, wie genau und warum etwas gemacht wurde.\"\n    },\n    privacy: {\n      label: 'Maximaler Datenschutz',\n      text: \"Die Privatsph\\xE4re aller teilnehmenden Personen ist uns wichtig. Daher arbeiten wir auf der Plattform ausschliesslich mit Pseudonymen. Wir erfassen einzig Personendaten (namentlich die Email-Adresse oder alternativ die Handy-Nummer), welche f\\xFCr das Funktionieren der Demokratiefabrik notwendig sind. Diese Daten werden nach Beendigung der Demokratiefabrik auf unseren Servern gel\\xF6scht. Auch w\\xE4hrend der Projektphase werden diese zu keinem Zeitpunkt mit den Nutzungsaktivit\\xE4ten innerhalb der Demokratiefabrik verkn\\xFCpft, so das R\\xFCckschl\\xFCsse auf Ihre Person nicht m\\xF6glich sind. Die Daten werden allesamt ausschliesslich in der Schweiz auf hauseigenen Servern gehostet (Universit\\xE4t Bern). Wir behandeln Ihre Personendaten sehr vertraulich und werden sie keinesfalls an Dritte weitergegeben.\"\n    },\n    technologies: {\n      label: 'Die Technologie, welche die Fabrik antreibt',\n      text: \"F\\xFCr den Aufbau der Demokratiefabrik setzen wir auf moderne Software-Architektur und breit angewendete Open-Source-Software. Sie finden im Folgenden eine kleine Auswahl der verwendeten Technologien und Konzepte.\"\n    },\n    am: {\n      page_introduction: 'Wir haben auf dieser Seite die wichtigsten Informationen zur Demokratiefabrik zusammengetragen.',\n      open_questions: 'Blieben noch Fragen offen? Dann knnen Sie uns auch gerne via Email kontaktieren.',\n      cmd_email_composer: 'Email verfassen'\n    }\n  },\n  news: {\n    h1: 'Was aktuell in der Demokratiefabrik luft!',\n    am: {\n      newsletter: 'Mchten Sie bezglich der Demokratiefabrik auf dem Laufenden bleiben? Dann knnen sie unseren Newsletter abonnieren.',\n      cmd_newsletter_abo: 'Newsletter-Abo' // tooltip: {\n      //   2: [\n      //     // Tooltips for the second AM displayed on the page\n      //     'Schauen Sie sich doch auch noch auf der Seite \"Hintergrund\" um.'\n      //   ]\n      // }\n\n    }\n  },\n  contenttree: {\n    comment_section_tooltip: 'Haben Sie an dieser Stelle Fragen oder Anregungen?',\n    close_comment_section_tooltip: 'Klicken Sie hier um die Kommentarspalte wieder zu schliessen',\n    no_entries: 'Es sind noch keine Kommentare oder Fragen vorhanden. Machen Sie den Anfang?',\n    no_filter_results: 'Keine Eintrge passen zu dieser Sucheingabe!',\n    created_by: 'von {username}',\n    search_button: 'Suche',\n    search_field_label: 'Suchbegriff...',\n    add_comment_or_question: 'Neuer Beitrag',\n    close_comment_section: 'Forum schliessen',\n    notification_number_of_expanded: 'Sie sehen aktuell {nof_shown} von {nof_total} Beitrgen.',\n    expand_all: 'Beitrge ausklappen',\n    collapse_all: 'Beitrge einklappen',\n    toolbar: {\n      reply: 'Mchten Sie diesem Beitrag antworten?',\n      edit: 'Mchten Sie diesen Beitrag bearbeiten?',\n      delete: 'Mchten Sie diesen Beitrag lschen?',\n      reply_proposal: 'Mchten Sie eine Antwort vorschlagen?',\n      edit_proposal: 'Mchten Sie eine berarbeitung vorschlagen?',\n      delete_proposal: 'Mchten Sie eine Lschung dieses Beitrags vorschlagen?',\n      track_changes: 'Mchten Sie diesen zur Nachverfolgung kennzeichnen?',\n      show_background: 'Beitragssummarium anzeigen.'\n    },\n    types: {\n      'COMMENT': 'Kommentar',\n      'QUESTION': 'Frage',\n      'ANSWER': 'Antwort',\n      'PARAGRAPH': 'Absatz',\n      'FOLDER': 'Gesprchsthema  ',\n      'SECTION': 'Kapitel',\n      'SUBSECTION': 'Unterkapitel',\n      'VAA_QUESTION': 'smartvote-Frage',\n      // TODO: Move to plugin, right? and hook translation......\n      'VAA_TOPIC': 'Themenfeld'\n    },\n    rating: {\n      1: 'Nicht hilfreich',\n      2: 'Mittelmssig hilfreich',\n      3: 'Sehr hilfreich'\n    },\n    rating_response: 'Danke! Ihre Bewertung wurde vermerkt.',\n    editor: {\n      head_create: 'Neuer Beitrag',\n      head_reply: 'Antwort schreiben',\n      head_edit: 'Bearbeiten',\n      content_title: 'berschrift',\n      content_title_shadow: 'Geben Sie Ihrem Beitrag eine prgnante berschrift',\n      content_text: 'Text',\n      content_text_shadow: 'Geben Sie hier Ihren Beitrag ein.',\n      content_text_hint: 'Schreiben Sie prgnant. Niemand mchte hier ganze Romane lesen.',\n      content_type: 'Art des Beitrags',\n      content_type_hint: 'Ordnen Sie den Beitrag einer Beitragskategorie zu.',\n      error: {\n        wrong_contenttype: 'The content has a wrong type.',\n        type_misconfiguration: 'The Contenttree is misconfigured. No type can be assigned to the content.'\n      }\n    },\n    am: {\n      index: \"Haben an dieser Stelle Fragen oder Anregungen? Die anderen Delegierten\\n                w\\xFCrde das sicher auch interessieren. | Hier ist Platz f\\xFCr Fragen und Kommentare zum obigen Abschnitt. | Hier wurden von anderen Besuchern bereits Beitr\\xE4ge eingegeben.\"\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/i18n/en-us/index.js\n// This is just an example,\n// so you can safely delete all default props below\n/* harmony default export */ var en_us = ({});\n// CONCATENATED MODULE: ./src/i18n/index.js\n// https://quasar.dev/options/app-internationalization#How-to-use\n\n\n/* harmony default export */ var i18n = ({\n  'de-ch': de_ch,\n  'en-us': en_us\n}); // // NOT SURE IF USED\n// // import {SUPPORTED_LOCALES} from \"@/config\"\n// // import {get_cookie_value, set_cookie_value} from 'src/utils/cookie.service'\n// // import i18n from \"src/utils/i18n/i18n\"\n// import moment from \"moment\"\n// /**\n// * Does this vue-app support given locale? (check config file)\n// * @param {locale candidate} locale \n// */\n// // const supportedLocalesInclude = function(locale) {\n// //   return Object.keys(SUPPORTED_LOCALES).includes(locale)\n// // }\n// /**\n//  * Get browserlangages (if there are more than one, take first one.)\n//  */\n// // const getBrowserLocale = function() {\n// //   let locales = navigator.languages !== undefined\n// //     ? navigator.languages\n// //     : [navigator.language]\n// //   let first = locales[0]\n// //   let language = first.slice(0, 2).toLowerCase()\n// //   let country = first.length == 5 ? first.slice(3, 5).toUpperCase() : null\n// //   let combination = language + \"-\" + country\n// //   // search exact match\n// //   if (country) {\n// //     let hits = Object.keys(SUPPORTED_LOCALES).filter(x => x == combination)\n// //     if (hits) {\n// //       return (hits[0])\n// //     }\n// //   }\n// //   // take first entry in same language region\n// //   let hits = Object.keys(SUPPORTED_LOCALES).filter(x => x.slice(0, 2) == language)\n// //   if (hits) {\n// //     return (hits[0])\n// //   }\n// // }\n// /**\n//  * Which is the starting locale string?\n//  * 1) check cookie from last website visit\n//  * 2) check browser language\n//  * 3) check default language of Vue-app.\n//  */\n// // export function getStartingLocale() {\n// //   // check cookie\n// //   var browserLocale = get_cookie_value('i18n')\n// //   if(browserLocale) {\n// //     return(browserLocale)\n// //   } \n// //   // take default browser language\n// //   browserLocale = getBrowserLocale();\n// //   if (browserLocale && supportedLocalesInclude(browserLocale)) {\n// //     return browserLocale\n// //   }\n// //   // take default language\n// //   return Configuration('I18N_LOCALE') || \"de\"\n// // }\n// /**\n//  * Load all messages from currently chosen locale\n//  */\n// export function loadLocaleMessages () {\n//   const locales = require.context('@/locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i);\n//   const messages = {};\n//   locales.keys().forEach(key => {\n//     const matched = key.match(/([A-Za-z0-9-_]+)\\./i);\n//     if (matched && matched.length > 1) {\n//       const locale = matched[1];\n//       messages[locale] = locales(key)\n//     }\n//   });\n//   return messages\n// }\n// /**\n//  * A new locale has been choosen\n//  * 1.) update runtime variable\n//  * 2.) update cookie\n//  */\n// export function set_new_locale(newLocale) {\n//   console.assert(newLocale, 'locale string not transmitted')\n//   console.assert(supportedLocalesInclude(newLocale), 'locale string not allowed')\n//   i18n.locale = newLocale\n//   moment.locale(newLocale)\n//   const durable = true\n//   set_cookie_value('i18n', newLocale, durable)\n// }\n// EXTERNAL MODULE: ./node_modules/quasar/src/utils/date.js\nvar date = __webpack_require__(\"bd4c\");\n\n// CONCATENATED MODULE: ./src/boot/i18n.js\n\n\n\n\n\n // import Quasar from 'quasar/src/vue-plugin.js';\n\n;\nvar getDateDiff = date[\"b\" /* default */].getDateDiff,\n    formatDate = date[\"b\" /* default */].formatDate;\nvue_runtime_esm[\"default\"].use(vue_i18n_esm[\"a\" /* default */]); // Date Filters:\n/////////////////////////////////\n// Format Date\n\nvue_runtime_esm[\"default\"].filter('formatDate', function (value) {\n  // TODO: add time when its today...\n  if (value) {\n    return formatDate(value, \"DD.MM.YYYY\");\n  }\n}); // Calculate & Format Time Left\n\nvue_runtime_esm[\"default\"].filter('formatTimeLeft', function (value, baseTime) {\n  if (!baseTime) {\n    baseTime = Date.now();\n  }\n\n  if (!value) {\n    return '';\n  }\n\n  var seconds = getDateDiff(value, baseTime, 'seconds');\n  var minutes = getDateDiff(value, baseTime, 'minutes');\n  var hours = getDateDiff(value, baseTime, 'hours');\n  var days = getDateDiff(value, baseTime, 'days');\n  var months = getDateDiff(value, baseTime, 'months');\n  var result = new Array();\n  var prefix = 'in';\n\n  if (seconds < 0) {\n    prefix = 'vor';\n  }\n\n  if (months > 1) {\n    result.push(\"\".concat(months, \" Monate\"));\n    days -= 30 * days; // console.log(days)\n\n    hours = 0;\n    minutes = 0; // seconds = 0\n  }\n\n  if (days > 1) {\n    result.push(\"\".concat(days, \" Tage\"));\n    hours -= 24 * hours;\n    minutes = 0; // seconds = 0\n  }\n\n  if (hours > 1) {\n    result.push(\"\".concat(hours, \" Stunden\"));\n    minutes -= 60 * minutes; // seconds = 0\n  } // console.log(result)\n  // console.log(hours)\n\n\n  if (minutes > 15) {\n    result.push(\"\".concat(minutes, \" Minuten\"));\n    minutes = 0; // seconds -= (60 * seconds)\n  }\n\n  if (minutes > 5) {\n    result.push(\"wenigen Minuten\");\n    minutes = 0; // seconds -= (60 * seconds)\n  }\n\n  if (!result.length) {\n    return \"gerade jetzt\";\n  }\n\n  return \"\".concat(prefix, \" \").concat(result.join(','));\n});\nvar i18n_i18n = new vue_i18n_esm[\"a\" /* default */]({\n  locale: \"de-ch\",\n  fallbackLocale: \"de-ch\",\n  messages: i18n\n});\n/* harmony default export */ var boot_i18n = __webpack_exports__[\"a\"] = (function (_ref) {\n  var app = _ref.app;\n  // Set i18n instance on app\n  app.i18n = i18n_i18n; // Quasar.lang.set(process.env.ENV_I18N_LOCALE)\n  // Quasar.lang.set(Quasar.lang.de)\n});\n\n\n/***/ }),\n\n/***/ \"9651\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return runtimeStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return runtimeMutations; });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2b0e\");\n\nvar runtimeStore = vue__WEBPACK_IMPORTED_MODULE_0__[\"default\"].observable({\n  stageID: null,\n  assemblyIdentifier: null,\n  appExitState: false\n});\nvar runtimeMutations = {\n  exitApp: function exitApp() {\n    runtimeStore.appExitState = true;\n  },\n  setStageID: function setStageID(stageID) {\n    runtimeStore.stageID = parseInt(stageID);\n  },\n  // setStageNr(stageID) {\n  //   runtimeStore.stageID = parseInt(stageID)\n  // },\n  setAssemblyIdentifier: function setAssemblyIdentifier(assemblyIdentifier) {\n    runtimeStore.assemblyIdentifier = assemblyIdentifier;\n  }\n};\n\n/***/ }),\n\n/***/ \"9fd8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"4de4\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"4160\");\n/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"e260\");\n/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"d3b7\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"07ac\");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"159b\");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"ddb0\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var src_mixins_contenttree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"5319b\");\n\n\n\n\n\n\n\n // import { LayoutEventBus } from 'src/utils/eventbus.js'\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [src_mixins_contenttree__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"]],\n  data: function data() {\n    return {\n      contentID: null,\n      numberOfCurrentlySaliencedEntries: 0\n    };\n  },\n  provide: function provide() {\n    return {\n      incrementNumberOfCurrentlySaliencedEntries: this.incrementNumberOfCurrentlySaliencedEntries\n    };\n  },\n\n  /**\n   * Refrshs current content (if url changes...)\n   **/\n  computed: {\n    // ready() {\n    //   // alert(\"L\");\n    //   const ready = this.$loaded(this.content)\n    //   if (ready) {\n    //     LayoutEventBus.$emit('hideLoading')\n    //   }\n    //   // console.log(\"kkk\", ready)\n    //   return ready;\n    // },\n    // content: function () {\n    //   if (!this.contentID || !this.contenttree) {\n    //     return null\n    //   }\n    //   return this.contenttree.entries[this.contentID]\n    // },\n    node: function node() {\n      if (!this.contentID) {\n        return null;\n      }\n\n      var node = this.contenttree.entries[this.contentID]; // TODO: error handling in case of a wrong url\n\n      return node;\n    },\n    nodeChildrenObject: function nodeChildrenObject() {\n      var _this = this;\n\n      if (!this.node) {\n        return null;\n      }\n\n      return Object.filter(this.contenttree.entries, function (x) {\n        return _this.contenttree.entries[x.content.id].content.parent_id == _this.contentID;\n      });\n    },\n    nodeChildren: function nodeChildren() {\n      var _this2 = this;\n\n      if (!this.contenttree) {\n        return null;\n      }\n\n      if (!this.nodeChildrenObject) {\n        return null;\n      }\n\n      var contents = [];\n      Object.values(this.nodeChildrenObject).forEach(function (x) {\n        _this2.$pushSorted(contents, x);\n      });\n      return contents; // return Object.values(this.nodeChildrenObject)\n    },\n    salienceCompleted: function salienceCompleted() {\n      if (!this.routed_stage) {\n        return null;\n      }\n\n      if (!this.$loaded(this.nodeChildren)) {\n        return null;\n      }\n\n      console.log(this.numberOfCurrentlySaliencedEntries, \"Ll\");\n\n      if (this.numberOfCurrentlySaliencedEntries >= 5) {\n        return true;\n      }\n\n      return this.numberOfUnsaliencedTopLevelEntries == 0;\n    },\n    numberOfUnratedTopLevelEntries: function numberOfUnratedTopLevelEntries() {\n      var _this3 = this;\n\n      if (!this.$loaded(this.node) || !this.$loaded(this.nodeChildren)) {\n        return null;\n      }\n\n      var unrated_children = this.nodeChildren.filter(function (x) {\n        var _x$progression;\n\n        return !_this3.$loaded((_x$progression = x.progression) === null || _x$progression === void 0 ? void 0 : _x$progression.rating);\n      });\n      return unrated_children.length;\n    },\n    numberOfUnsaliencedTopLevelEntries: function numberOfUnsaliencedTopLevelEntries() {\n      var _this4 = this;\n\n      if (!this.$loaded(this.node) || !this.$loaded(this.nodeChildren)) {\n        return null;\n      }\n\n      var unsalienced_children = this.nodeChildren.filter(function (x) {\n        var _x$progression2;\n\n        return !_this4.$loaded((_x$progression2 = x.progression) === null || _x$progression2 === void 0 ? void 0 : _x$progression2.salience);\n      });\n      return unsalienced_children.length;\n    }\n  },\n  methods: {\n    incrementNumberOfCurrentlySaliencedEntries: function incrementNumberOfCurrentlySaliencedEntries() {\n      this.numberOfCurrentlySaliencedEntries += 1;\n    }\n  },\n  mounted: function mounted() {// console.log(\"MOUNTED????\", this.$route.params.contentID)\n    // if (this.$route.params.contentID) {\n    //   this.contentID = this.$route.params.contentID\n    // }\n  }\n});\n\n/***/ }),\n\n/***/ \"c75e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LayoutEventBus; });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2b0e\");\n\nvar LayoutEventBus = new vue__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n/***/ }),\n\n/***/ \"c937\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"7db0\");\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"07ac\");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_string_anchor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"18a5\");\n/* harmony import */ var core_js_modules_es_string_anchor_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_anchor_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ded3\");\n/* harmony import */ var _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"2f62\");\n/* harmony import */ var src_mixins_assembly__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"2256\");\n/* harmony import */ var vue_reactive_provide__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"28e9\");\n/* harmony import */ var vue_reactive_provide__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(vue_reactive_provide__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var src_utils_eventbus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"c75e\");\n/* harmony import */ var src_store_runtime_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"9651\");\n/* harmony import */ var src_utils_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"c9d9\");\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [src_mixins_assembly__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], Object(vue_reactive_provide__WEBPACK_IMPORTED_MODULE_6__[\"ReactiveProvideMixin\"])({\n    name: 'STAGE',\n    include: ['routed_stage']\n  })],\n  // provide() {\n  //   return {\n  //     gotoIndexAndMoveOn: this.gotoIndexAndMoveOn\n  //   }\n  // },\n  computed: _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({\n    routed_stage: function routed_stage() {\n      console.log(\"get routed_stage\", src_store_runtime_store__WEBPACK_IMPORTED_MODULE_8__[/* runtimeStore */ \"b\"].stageID);\n\n      if (!this.assembly_stages) {\n        console.log('assembly is not yet loaded');\n        return null;\n      }\n\n      if (!this.assembly_stages[src_store_runtime_store__WEBPACK_IMPORTED_MODULE_8__[/* runtimeStore */ \"b\"].stageID]) {\n        console.error('invalid stage in this assembly');\n        this.$root.gotoAssemblyHome(this.assembly);\n        return null;\n      }\n\n      var stage = this.assembly_stages[src_store_runtime_store__WEBPACK_IMPORTED_MODULE_8__[/* runtimeStore */ \"b\"].stageID]; // console.error('stage found', stage)\n\n      src_utils_eventbus__WEBPACK_IMPORTED_MODULE_7__[/* LayoutEventBus */ \"a\"].$emit(\"EventStageLoaded\", stage);\n      return stage;\n    },\n    ready: function ready() {\n      var ready = this.$loaded(this.routed_stage);\n\n      if (ready) {\n        src_utils_eventbus__WEBPACK_IMPORTED_MODULE_7__[/* LayoutEventBus */ \"a\"].$emit('hideLoading');\n      }\n\n      return ready;\n    },\n    isFirstText: function isFirstText() {\n      // console.log(this.assembly_sorted_stages)\n      var firstTextStage = Object.values(this.assembly_sorted_stages).find(function (stage) {\n        return stage.stage.type == 'TEXTSHEET';\n      });\n      return this.routed_stage == firstTextStage;\n    },\n    highlightedItem: function highlightedItem() {\n      var _this = this;\n\n      return this.sideMenuItems.find(function (item) {\n        if (item.customHightlighting) {\n          return item.customHightlighting();\n        }\n\n        var weights = _this.stageMilestoneWeigths[item.anchor];\n        return !weights || weights < 3;\n      });\n    }\n  }, Object(vuex__WEBPACK_IMPORTED_MODULE_4__[/* mapGetters */ \"c\"])(\"assemblystore\", [\"stageMilestonesCompleted\", \"stageMilestoneLabels\", \"stageMilestoneWeigths\", \"assembly_sorted_stages\", \"is_stage_alerted\", \"get_stage_number_by_stage_id\", \"is_stage_accessible\"])),\n  methods: _var_demokratiefabrik_fabrikClient_node_modules_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({\n    milestone: function milestone(milestoneLabel, weight, key) {\n      console.assert(this.routed_stage);\n      this.addMilestone({\n        label: milestoneLabel,\n        weight: weight,\n        key: key\n      });\n      this.checkMilestones();\n    },\n    checkMilestones: function checkMilestones() {\n      if (this.stageMilestonesCompleted) {\n        // ignore this statement...\n        if (this.is_stage_alerted(this.routed_stage)) {\n          this.markUnAlert();\n        }\n\n        return;\n      }\n    },\n    markUnAlert: function markUnAlert() {\n      // Notify stage as completed\n      console.log(\"IDLE: unalert stage\");\n      console.assert(this.routed_stage);\n\n      if (!this.routed_stage.progression) {\n        // Fire immediately\n        this.$root.monitorFire(src_utils_constants__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].MONITOR_STAGE_UNALERT);\n      } else {\n        this.$root.monitorLog(src_utils_constants__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].MONITOR_STAGE_UNALERT);\n      }\n\n      this.storeStageProgressionAlertFlag({\n        stageID: this.routed_stage.stage.id,\n        alerted: false\n      });\n    },\n    markCompleted: function markCompleted() {\n      var _this$routed_stage$pr;\n\n      // Notify stage as completed\n      console.log(\"COPLETED: mark completed stage\", this.routed_stage.stage.id);\n      console.assert(this.routed_stage);\n\n      if (!((_this$routed_stage$pr = this.routed_stage.progression) !== null && _this$routed_stage$pr !== void 0 && _this$routed_stage$pr.completed)) {\n        this.$root.monitorLog(src_utils_constants__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].MONITOR_STAGE_COMPLETED);\n        this.storeStageProgressionCompleted({\n          stageID: this.routed_stage.stage.id,\n          completed: true\n        });\n      }\n    }\n  }, Object(vuex__WEBPACK_IMPORTED_MODULE_4__[/* mapActions */ \"b\"])(\"assemblystore\", [\"storeStageProgressionAlertFlag\", \"storeStageProgressionCompleted\", \"addMilestone\"])),\n  created: function created() {\n    this.checkMilestones();\n  }\n});\n\n/***/ }),\n\n/***/ \"c9d9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// plugins/Constants.js\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  //  create global Constants\n  QTREE_NUMBER_OF_INITIALLY_EXPANDED_NODES: 7,\n  TEXTTYPES: [\"PARAGRAPH\", \"SECTION\", \"SUBSECTION\"],\n  DISCUSSIONTYPES: [\"COMMENT\", \"QUESTION\"],\n  VAA_TOPIC_TYPES: [\"COMMENT\", \"QUESTION\", 'VAA_TOPIC'],\n  VAA_QUESTION_TYPES: [\"COMMENT\", \"QUESTION\", 'VAA_QUESTION'],\n  ICONS: {\n    FOLDER: \"mdi-folder-multiple-outline\",\n    SECTION: \"mdi-folder-text-outline\",\n    SUBSECTION: \"mdi-folder-text-outline\",\n    PARAGRAPH: \"mdi-text\",\n    VAA_TOPIC: \"mdi-shape\",\n    VAA_QUESTION: \"mdi-sign-direction\",\n    UPDATEPROPOSAL: \"mdi-lightbulb-on-outline\"\n  },\n  TYPE_LABELS: {\n    COMMENT: \"KOMMENTAR\",\n    FOLDER: \"ORDNER\",\n    SECTION: \"KAPITEL\",\n    SUBSECTION: \"ABSCHNITT\",\n    PARAGRAPH: \"ABSATZ\",\n    VAA_TOPIC: \"THEMENFELD\",\n    VAA_QUESTION: \"SMARTVOTE-FRAGE\",\n    UPDATEPROPOSAL: \"VERBESSERUNGSVORSCHLAG\"\n  },\n  // API Events\n  MONITOR_ERROR_NETWORK: 'ERROR.NETWORK',\n  MONITOR_ERROR_AUTHORIZATION: 'ERROR.AUTH',\n  MONITOR_ERROR_TOO_MANY_REQUESTS: 'ERROR.TOO.MANY.REQ',\n  MONITOR_ERROR_INVALID_TOKEN: 'ERROR_INVLAID_TOKEN',\n  MONITOR_ERROR_AUTHENTICATION: 'ERROR.AUTH',\n  MONITOR_WARNING_AUTHENTICATION: 'WARNING.AUTH',\n  MONITOR_WARNING_MESSAGES: {\n    PEERREVIEW_ALREADY_CLOSED_USER_RESPONSE_IGNORED: 'Ein Gutachten wurde gerade eben abgeschlossen. Ihre Antwort konnte dabei nicht mehr bercksichtigt werden.'\n  },\n  MONITOR_ACCOUNT_PROFILE_UPDATE: 'PROFILE.UPDATE',\n  MONITOR_ROUTE_CHANGE: 'ROUTE',\n  MONITOR_LOGIN: 'LOGIN',\n  MONITOR_LOGOUT: 'LOGOUT',\n  MONITOR_EXIT: 'EXIT',\n  MONITOR_ACCOUNT_PROFILE_VISIT: 'PROFILE.VISIT',\n  MONITOR_ASSEMBLY_ENTERING: 'ASSEMBLY.ENTER',\n  MONITOR_DISCUSSION_SHOW: 'DISCUSSION.SHOW',\n  MONITOR_DISCUSSION_HIDE: 'DISCUSSION.HIDE',\n  MONITOR_STAGE_ENTERING: 'STAGE.ENTER',\n  MONITOR_STAGE_UNALERT: 'STAGE.UNALERT',\n  MONITOR_STAGE_COMPLETED: 'STAGE.COMPLETED',\n  MONITOR_STAGE_FOCUSED_CONTENT: 'STAGE.FOCUSED.CONTENT',\n  MONITOR_STAGE_RANDOM_SAMPLING_CONTENT: 'STAGE.RANDOM_SAMPLING_CONTENT',\n  MONITOR_SET_RATING: 'CONTENT.RATING',\n  MONITOR_SET_SALIENCE: 'CONTENT.SALIENCE',\n  MONITOR_SET_CONTENT_READ: 'CONTENT.READ',\n  MONITOR_SET_CONTENT_DISCUSSED: 'CONTENT.DISCUSSED',\n  MONITOR_SET_CONTENT_REVIEWED: 'CONTENT.REVIEWED',\n  MONITOR_SET_PEERREVIEW_RESPONSE: 'PEERREVIEW.RESPONSE'\n});\n\n/***/ }),\n\n/***/ \"d3af\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n/******/ });","inputSourceMap":null}