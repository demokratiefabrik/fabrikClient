{"code":"\"use strict\";window.addEventListener(\"load\",(function(){const e=document.querySelectorAll(\"fieldset.collapse\");for(const[l,o]of e.entries())if(0===o.querySelectorAll(\"div.errors, ul.errorlist\").length){o.classList.add(\"collapsed\");const e=o.querySelector(\"h2\"),t=document.createElement(\"a\");t.id=\"fieldsetcollapser\"+l,t.className=\"collapse-toggle\",t.href=\"#\",t.textContent=gettext(\"Show\"),e.appendChild(document.createTextNode(\" (\")),e.appendChild(t),e.appendChild(document.createTextNode(\")\"))}const t=function(e){if(e.target.matches(\".collapse-toggle\")){e.preventDefault(),e.stopPropagation();const t=e.target.closest(\"fieldset\");t.classList.contains(\"collapsed\")?(e.target.textContent=gettext(\"Hide\"),t.classList.remove(\"collapsed\")):(e.target.textContent=gettext(\"Show\"),t.classList.add(\"collapsed\"))}};document.querySelectorAll(\"fieldset.module\").forEach((function(e){e.addEventListener(\"click\",t)}))}));","name":"fabrikauth/admin/js/collapse.js","input":"/*global gettext*/\n'use strict';\n{\n    window.addEventListener('load', function() {\n        // Add anchor tag for Show/Hide link\n        const fieldsets = document.querySelectorAll('fieldset.collapse');\n        for (const [i, elem] of fieldsets.entries()) {\n            // Don't hide if fields in this fieldset have errors\n            if (elem.querySelectorAll('div.errors, ul.errorlist').length === 0) {\n                elem.classList.add('collapsed');\n                const h2 = elem.querySelector('h2');\n                const link = document.createElement('a');\n                link.id = 'fieldsetcollapser' + i;\n                link.className = 'collapse-toggle';\n                link.href = '#';\n                link.textContent = gettext('Show');\n                h2.appendChild(document.createTextNode(' ('));\n                h2.appendChild(link);\n                h2.appendChild(document.createTextNode(')'));\n            }\n        }\n        // Add toggle to hide/show anchor tag\n        const toggleFunc = function(ev) {\n            if (ev.target.matches('.collapse-toggle')) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                const fieldset = ev.target.closest('fieldset');\n                if (fieldset.classList.contains('collapsed')) {\n                    // Show\n                    ev.target.textContent = gettext('Hide');\n                    fieldset.classList.remove('collapsed');\n                } else {\n                    // Hide\n                    ev.target.textContent = gettext('Show');\n                    fieldset.classList.add('collapsed');\n                }\n            }\n        };\n        document.querySelectorAll('fieldset.module').forEach(function(el) {\n            el.addEventListener('click', toggleFunc);\n        });\n    });\n}\n","inputSourceMap":null}