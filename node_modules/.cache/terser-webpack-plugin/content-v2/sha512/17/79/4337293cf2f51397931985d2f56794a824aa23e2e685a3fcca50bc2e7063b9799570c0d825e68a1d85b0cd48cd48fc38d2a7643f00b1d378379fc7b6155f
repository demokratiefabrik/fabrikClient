{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[3],{\"139f\":function(e,t,n){\"use strict\";n(\"81f6\")},\"6a52\":function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"q-page\",{staticClass:\"doc_content\"},[e.$loaded(e.ready)?e._e():n(\"div\",{staticClass:\"row justify-between\"},[n(\"div\",{staticClass:\"seperator\"},[n(\"q-spinner-dots\",{attrs:{size:\"2rem\"}})],1)]),e.ready?n(\"div\",[n(\"h2\",[e._v(e._s(e.isManualFocusStage?\"Zweites Thema:\":\"\")+\" Was wollen die Könizer.innen von Kandidierenden wissen, bevor sie sie wählen? \")]),n(\"p\",[e._v(\"\\n      In diesem Abschnitt geht es darum, ein breites Spektrum von relevanten politischen Fragen zusammenzustellen.\\n      Aus den zusammengestellten Fragen bildet sich am Ende den smartvote-Fragebogen.\\n      Sie bestimmen dabei mit, welche Fragen in den Smartvote-Katalog einfliessen.\\n    \")]),n(\"ArtificialModeration\",{attrs:{AM:e.AMs.questions_top_partner,amGroup:\"questions_intro\",alignment:\"left\",role:2,ctx:this}}),n(\"a\",{attrs:{name:\"TOPICSELECTION\"}}),e.focusedContent||!e.isRandomFocusStage?n(\"VAATopicSelector\",{attrs:{topicID:e.contentID,nofSalienceUncompleted:e.nofSalienceUncompleted,disabled:e.VAAQuestionStagesAlerted&&e.VAAQuestionStagesAlerted.length&&e.focusedContent},on:{input:e.selectTopicPrepare}}):e._e(),n(\"ArtificialModeration\",{attrs:{AM:e.AMs.questions_choose_manual_topic,amGroup:\"questions_intro\",alignment:\"right\",role:1,ctx:this}}),e.detailView&&!e.$loaded(e.nodeChildrenExceptUserPeerreviews)&&e.contentID?n(\"div\",{staticClass:\"row justify-between\"},[n(\"div\",{staticClass:\"seperator\"},[n(\"q-spinner-dots\",{attrs:{size:\"2rem\"}})],1)]):e._e(),n(\"transition\",{attrs:{name:\"fade\"}},[e.detailView&&e.$loaded(e.nodeChildrenExceptUserPeerreviews)?n(\"div\",[n(\"div\",{staticClass:\"row justify-between\"},[n(\"div\",{staticClass:\"seperator\"},[n(\"q-icon\",{attrs:{name:\"mdi-star-four-points-outline\"}})],1)]),n(\"br\"),n(\"br\"),n(\"a\",{attrs:{name:\"SALIENCE\"}}),n(\"h2\",[e.milestoneSALIENCE?n(\"q-badge\",{staticStyle:{position:\"relative\",top:\"-1em\"},attrs:{color:\"green\"}},[n(\"q-icon\",{attrs:{name:\"mdi-check\",size:\"1.2em\"}})],1):e._e(),e._v(\"\\n          Aktueller Stand des Fragenkatalogs\\n        \")],1),0===e.nodeChildrenExceptUserPeerreviews.length?n(\"p\",[e._v(\"\\n          Der Fragenkatalog zum Themenfeld '\"+e._s(e.node.content.title)+\"' ist momentan noch leer.\\n        \")]):e.nodeChildrenExceptUserPeerreviews.length>0?n(\"p\",[e._v(\"\\n          Es wurde bisher folgende Fragen zum Themenfeld '\"+e._s(e.node.content.title)+\"' eingetragen. \"),n(\"br\")]):e._e(),n(\"ArtificialModeration\",{attrs:{AM:e.AMs.questions_current_state,alignment:\"right\",ctx:this}}),e.nodeChildren&&e.nodeChildrenExceptUserPeerreviews.length?n(\"SalienceList\",{attrs:{salienceInstruction:\"Wie wichtig ist Ihnen diese Frage? Bitte verschieben Sie den Regler.\",salienceCompleted:e.salienceCompleted,contentList:e.nodeChildrenExceptUserPeerreviews,showBackgroundPage:!0,showDiscussions:!0,itemIcon:e.ICON_VAA_QUESTION,titlePrefix:\"Frage\",captionPrefix:\"Alles über die smartvote-Frage\",textPrefix:\"Warum Teilnehmende meinen, dass diese Frage wichtig ist?\"},on:{\"item-saliencing\":e.incrementNumberOfCurrentlySaliencedEntries}}):e._e(),n(\"br\"),n(\"br\"),n(\"a\",{attrs:{name:\"PEERREVIEW\"}}),n(\"br\"),n(\"br\"),n(\"div\",{staticClass:\"row justify-between\"},[n(\"div\",{staticClass:\"seperator\"},[n(\"q-icon\",{attrs:{name:\"mdi-star-four-points-outline\"}})],1)]),e.milestoneSALIENCE?e._e():n(\"Skeleton\",{attrs:{h2:\"Involvierte Gutachten\"}}),e.milestoneSALIENCE?n(\"div\",[n(\"br\"),n(\"h2\",[e.milestonePEERREVIEW?n(\"q-badge\",{staticStyle:{position:\"relative\",top:\"-1em\"},attrs:{color:\"green\"}},[n(\"q-icon\",{attrs:{name:\"mdi-check\",size:\"1.2em\"}})],1):e._e(),e._v(\" Involvierte Gutachten\\n          \")],1),n(\"p\",[e._v(\"Als Gutachterin respektive Gutachter sind Sie mitverantwortlich, welche Fragen in den Fragenkatalog aufgenommen werden und wie diese formuliert sein sollen.\")]),Object.values(e.contents_to_peerreview).length?n(\"div\",[n(\"ArtificialModeration\",{attrs:{AM:e.AMs.questions_peerreview,alignment:\"left\",ctx:this}}),n(\"q-list\",e._l(Object.values(e.contents_to_peerreview),(function(t,i){return n(\"PeerReviewListItem\",{key:\"PR\"+i,ref:\"peerreview_lists\",refInFor:!0,attrs:{peerreviews:t,topic:e.node},on:{\"completed-peerreview\":e.areAllPeerReviewCompleted}})})),1)],1):n(\"div\",{staticClass:\"text-notification\"},[e._v(\"\\n            Zu diesem Thema wurde Ihnen aktuell kein Gutachten zugewiesen.\\n          \")]),n(\"p\",[n(\"br\"),n(\"b\",[e._v(\"Hintergrund:\")]),e._v(\" Wir wollen, dass möglichst viele KönizerInnen mitentscheiden, welche Fragen im smartvote-Fragebogen erscheinen.\\n            Deshalb fragen wir jeden Tag aufs neue zufällige TeilnehmerInnen an, uns Ihre Meinung zu einem Vorschlag mitzuteilen. Die Mehrheit dieser zufällig angefragten KönizerInnen entscheidet dann, ob der Vorschlag gutgeheissen wird.\\n          \")])]):e._e(),n(\"a\",{attrs:{name:\"PROPOSE\"}}),n(\"div\",{staticClass:\"row justify-between\"},[n(\"div\",{staticClass:\"seperator\"},[n(\"q-icon\",{attrs:{name:\"mdi-star-four-points-outline\"}})],1)]),e.milestonePEERREVIEW&&e.milestoneSALIENCE&&e.peerreviewCompleted?e._e():n(\"Skeleton\",{attrs:{h2:\"Neue smartvote-Frage vorschlagen\"}}),e.milestonePEERREVIEW&&e.milestoneSALIENCE&&e.peerreviewCompleted?n(\"div\",[n(\"h2\",[e.milestonePROPOSE&&e.milestoneSALIENCE&&e.peerreviewCompleted?n(\"q-badge\",{staticStyle:{position:\"relative\",top:\"-1em\"},attrs:{color:\"green\"}},[n(\"q-icon\",{attrs:{name:\"mdi-check\",size:\"1.2em\"}})],1):e._e(),e._v(\"\\n            Neue smartvote-Frage vorschlagen\\n          \")],1),n(\"p\",[e._v(\"Finden Sie das bisher ein wichtiger Aspekt des Themas '\"+e._s(e.node.content.title)+\"' noch nicht abgedeckt ist. Dann reichen Sie hier einen neuen Vorschlag ein!\")]),e.milestonePROPOSE?e._e():n(\"ArtificialModeration\",{attrs:{AM:e.AMs.propose_question,amGroup:\"propose_question\",alignment:\"right\",role:2,ctx:this}}),n(\"ProposeVAAQuestion\",{ref:\"proposeForm\",attrs:{topic:e.node,showProposeForm:e.showProposeForm},on:{toggle:e.toggleProposeForm}}),n(\"br\"),n(\"span\",[n(\"b\",[e._v(\"So funktionierts:\")]),e._v(\" Alle eingeladenen KönizerInnen können hier neue Vorschläge für den Smartvote-Fragebogen einbringen. Bevor die vorgeschlagene Frage dann in den Smartvote Katalog einfliesst, wird er von zufällig ausgewählten anderen Teilnehmenden begutachtet.\\n          \")])],1):e._e(),n(\"br\"),n(\"br\"),n(\"div\",{staticClass:\"row justify-between\"},[n(\"div\",{staticClass:\"seperator\"},[n(\"q-icon\",{attrs:{name:\"mdi-star-four-points-outline\"}})],1)]),n(\"a\",{attrs:{name:\"CHARTS\"}}),e.milestonePROPOSE&&e.milestoneSALIENCE&&e.peerreviewCompleted?e._e():n(\"Skeleton\",{attrs:{h2:\"Rangfolge\"}}),e.milestonePROPOSE&&e.milestoneSALIENCE&&e.peerreviewCompleted?n(\"div\",[n(\"h2\",[e.milestoneCHARTS&&e.milestoneSALIENCE&&e.peerreviewCompleted?n(\"q-badge\",{staticStyle:{position:\"relative\",top:\"-1em\"},attrs:{color:\"green\"}},[n(\"q-icon\",{attrs:{name:\"mdi-check\",size:\"1.2em\"}})],1):e._e(),e._v(\"Rangfolge\\n          \")],1),e.chartBarLabels.length?n(\"p\",[e._v(\"\\n            Sie sehen hier nun ihre persönliche Prioritätenliste im Vergleich zu der Priorisierung aller Teilnehmer.innen.\\n          \")]):n(\"p\",{staticClass:\"text-notification\"},[e._v(\"\\n            Es sind heute noch zu wenige Daten vorhanden. Die Rangfolge steht für dieses Thema noch nicht zur Verfügung.\\n          \")]),n(\"br\"),n(\"br\"),e.chartBarLabels.length?n(\"ContentTreeChart\",{attrs:{chartType:e.chartType,nodes:e.nodeChildren}}):e._e(),n(\"br\"),e.chartBarLabels.length?n(\"ArtificialModeration\",{attrs:{AM:e.AMs.questions_after_charts,alignment:\"right\",amGroup:\"afterCharts\",role:2,ctx:this}}):e._e()],1):e._e(),n(\"br\"),n(\"br\"),n(\"a\",{attrs:{name:\"FINAL\"}}),n(\"br\"),n(\"br\"),n(\"br\"),e.milestoneCHARTS||!e.chartBarLabels.length?n(\"div\",[n(\"ArtificialModeration\",{attrs:{alignment:\"left\",AM:e.AMs.questions_end_of_page,ctx:this}})],1):e._e()],1):e._e()]),n(\"SideMenu\",{attrs:{items:e.sideMenuItems,highlightedItem:e.highlightedItem}})],1):e._e()])},r=[],s=(n(\"4de4\"),n(\"7db0\"),n(\"caad\"),n(\"e260\"),n(\"d81d\"),n(\"4e82\"),n(\"b64b\"),n(\"d3b7\"),n(\"07ac\"),n(\"2532\"),n(\"ddb0\"),n(\"ded3\")),o=n.n(s),a=n(\"1c16\"),c=n(\"2d5b\"),l={questions_top_partner:{id:\"questions_top_partner\",prosa:\" Einleitung zum aktuellen Themenfeld.\",condition:function(e){return e.next_scheduled_stage},loading:function(e){return!e.routed_stage||e.isRandomFocusStage&&!e.focusedContent},items:[{id:1,condition:function(e){return!e.VAAQuestionStageManualFocusTopic&&e.isRandomFocusStage},body:function(e){return[\"Wir beginnen mit einem zufällig ausgewählten Themenfeld. Danach können Sie frei weiterfahren.\",\"Sind Sie bereit für das Themenfeld '\".concat(e.VAAQuestionStageRandomFocusTopic.content.title,\"'?\")]}},{id:2,condition:function(e){return!e.VAAQuestionStageManualFocusTopic&&!e.isRandomFocusStage},body:function(e){return[e.focusedContent?\"Wir sind nun beim Themenfeld, dass Sie sich selber ausgesucht haben.\":\"Suchen Sie sich nun noch ein zweites Themenfeld aus.\"]}},{id:3,condition:function(e){return 0==e.VAAQuestionStagesAlerted.length&&e.next_scheduled_stage},body:function(e){return['Sie können sich nun die Abschlussseite \"Zwischenbilanz\" ansehen. Diese ist jetzt freigeschaltet.',\"Wenn Sie möchten könnnen Sie sich aber auch noch andere Themenbereiche anschauen.\"]}}]},questions_choose_manual_topic:{id:\"questions_choose_manual_topic\",prosa:\" Nachfrage, zur Themenwahl.\",loading:function(e){return!e.routed_stage||e.isRandomFocusStage&&!e.focusedContent},condition:function(e){return e.isManualFocusStage&&!1===e.isFocusedContentAlreadySet},items:[{id:1,condition:function(e){return e.VAAQuestionStageRandomFocusTopic!=e.temporarySelectedTopic},buttons:[{condition:function(e){return e.temporarySelectedTopic},action:function(e){e.selectTopic(e.temporarySelectedTopic.content.id)},label:function(e){return\"Ja , dieses Thema!\"}}],body:function(e){return e.temporarySelectedTopic?[\"Möchten Sie als zweites nun das Thema '\".concat(e.temporarySelectedTopic.content.title,\"' bearbeiten?\")]:[\"Für welches Thema, entscheiden Sie sich?\"]}},{id:2,condition:function(e){return e.temporarySelectedTopic&&e.VAAQuestionStageRandomFocusTopic==e.temporarySelectedTopic},body:function(e){return\"Dieses Thema haben Sie gerade schon bearbeitet.\"}}]},questions_current_state:{id:\"questions_current_state\",prosa:\" Erläuterungen zum aktuellen Stand des Fragenkatalogs.\",loading:function(e){return!e.routed_stage||!e.node},items:[{id:1,condition:function(e){return!e.milestoneSALIENCE&&e.nodeChildrenExceptUserPeerreviews.length<=6},body:function(e){return[\"Bei diesem Thema sind im Katalog aktuell \".concat(e.nodeChildrenExceptUserPeerreviews.length,\" Fragen drin.\"),\"Können sie diese Fragen bewerten? Wie relevant finden Sie sie?\"]}},{id:104,condition:function(e){return!e.milestoneSALIENCE&&e.nodeChildrenExceptUserPeerreviews.length>6},body:function(e){return[\"Bei diesem Thema sind im Katalog aktuell \".concat(e.nodeChildrenExceptUserPeerreviews.length,\" Fragen drin.\"),\"Können sie einige dieser Fragen bewerten? Wie relevant finden Sie sie?\"]}},{id:2,condition:function(e){return e.milestoneSALIENCE&&!e.milestonePEERREVIEW},body:function(e){return\"Wir fahren nun fort mit den Gutachten.\"},buttons:[{action:function(e){e.milestone(\"SALIENCE\",3)&&e.$root.scrollToAnchor(\"PEERREVIEW\")},label:function(e){return\"Zu den Gutachten.\"}}]},{id:3,condition:function(e){return e.milestonePEERREVIEW&&!e.milestonePROPOSE},body:function(e){return\"Weiter unten haben wir eine Frage an Sie.\"},buttons:[{action:function(e){e.$root.scrollToAnchor(\"PROPOSE\")},label:function(e){return\"Ich komme mit!\"}}]},{id:3,condition:function(e){return e.milestonePROPOSE&&!e.milestoneCHARTS},body:function(e){return\"Sie interessiert sicherlich nun, wie die Fragen bei den anderen Teilnehmenden abschneiden.\"},buttons:[{action:function(e){e.$root.scrollToAnchor(\"CHARTS\")},label:function(e){return\"Zur Statistik.\"}}]},{id:4,prosa:\"finish with this topic => other stage is still open..\",condition:function(e){return e.milestoneCHARTS&&e.milestonePROPOSE&&e.next_scheduled_stage&&e.VAAQuestionStagesAlerted.length},body:function(e){return\"Zum Themenfeld '\".concat(e.VAAQuestionStageRandomFocusTopic.content.title,\"' haben wir gerade keine Frage. Wenn Sie mögen können wir zum nächten Thema wechseln.\")},buttons:[{action:function(e){return e.gotoStage(e.next_scheduled_stage)},label:function(e){return\"Zum nächsten Thema\"}}]},{id:5,prosa:\"finish with everything\",condition:function(e){return e.milestonePROPOSE&&!e.next_scheduled_stage},body:function(e){return\"Sie haben das Themenfeld '\".concat(e.VAAQuestionStageRandomFocusTopic.content.title,\"' ausgewählt. Nun können Sie das Themenfeld nach belieben wechseln.\")}}]},questions_peerreview:{id:\"questions_peerreview\",loading:function(e){return!e.routed_stage},items:[{id:1,condition:function(e){return 1==Object.keys(e.contents_to_peerreview).length},body:function(e){return\"Nun brauchen wir Ihr Urteil bei einem Gutachten. Das ist uns besonders wichtig!\"}},{id:2,condition:function(e){return Object.keys(e.contents_to_peerreview).length>1},body:function(e){return\"Nun brauchen wir Ihr Urteil bei \".concat(Object.keys(e.contents_to_peerreview).length,\"  Gutachten. Das ist uns besonders wichtig!\")}}]},propose_question:{id:\"propose_question\",loading:function(e){return!e.routed_stage},condition:function(e){return!e.showProposeForm&&e.askToProposeNewQuestion},items:[{id:1,condition:function(e){return!e.CONTENTTREE.limitForAddingProposalsReached},body:function(e){return\"Haben Sie zum Thema '\".concat(e.node.content.title,\"' einen Vorschlag für eine neue smartvote-Frage?\")}},{id:2,condition:function(e){return e.CONTENTTREE.limitForAddingProposalsReached},body:function(e){return\"Heute können Sie leider keinen Vorschlag mehr einbringen. Morgen früh sieht das wieder ganz anders aus.\"}}],buttons:[{condition:function(e){return!e.CONTENTTREE.limitForAddingProposalsReached},action:function(e){e.showProposeForm=!0},label:function(e){return\"Ja, ich weiss da etwas.\"}},{condition:function(e){return!e.CONTENTTREE.limitForAddingProposalsReached},action:function(e){e.milestone(\"PROPOSE\",3),e.$root.scrollToAnchor(\"CHARTS\",300,300)},label:function(e){return\"Nein, gerade nicht.\"}},{condition:function(e){return e.CONTENTTREE.limitForAddingProposalsReached},action:function(e){e.milestone(\"PROPOSE\",3),e.$root.scrollToAnchor(\"CHARTS\",300,300)},label:function(e){return\"Weiter\"}}]},questions_after_charts:{id:\"topics_after_charts\",loading:function(e){return!e.routed_stage},items:[{id:1,body:function(e){return e.daySessions<=1?\"Sind sie mit Ihrer Priorisierung vorerst mal einverstanden?\":\"Sind sie mit Ihrer Priorisierung noch immer einverstanden?\"},condition:function(e){return!e.milestoneCHARTS},buttons:[{action:function(e){e.milestone(\"CHARTS\",4),e.$root.scrollToAnchor(\"FINAL\",300,300)},label:function(e){return\"Ja, es stimmt so!\"}},{action:function(e){e.$root.scrollToAnchor(\"SALIENCE\")},label:function(e){return\"Ich möchte noch was ändern.\"}}]},{id:2,body:function(e){return\"Sie sehen hier ihre persönliche Prioritätenliste der Smartvote-Fragen. Sind Sie noch immer damit einverstanden?\"},condition:function(e){return e.milestoneSALIENCE&&!e.milestoneCHARTS},buttons:[{action:function(e){e.milestone(\"CHARTS\",4),e.$root.scrollToAnchor(\"FINAL\",300,300)},label:function(e){return\"Ja, es stimmt so!\"}},{action:function(e){e.$root.scrollToAnchor(\"SALIENCE\")},label:function(e){return\"Ich möchte noch was ändern.\"}}]}]},questions_end_of_page:{id:\"topics_end_of_page\",condition:function(e){return e.next_scheduled_stage},loading:function(e){return!e.routed_stage},items:[{id:1,prosa:\"Fortfahren mit zweiter Fragen-Stage.\",body:function(e){return[\"Perfekt! Wir möchten nun, dass Sie sich noch ein zweites Themenfeld auswählen.\"]},condition:function(e){return e.isRandomFocusStage&&e.VAAQuestionStagesAlerted.length},buttons:[{action:function(e){e.gotoStage(e.next_scheduled_stage)},label:function(e){return\"Okay!\"}}]},{id:2,body:function(e){return[\"Ich verstehe gut, dass Sie müde sind und die Fragen hier nicht mehr bewerten wollen. Schauen Sie doch noch kurz bei der Zwischenbilanz vorbei?\"]},condition:function(e){return!e.VAAQuestionStagesAlerted.length&&!e.milestoneSALIENCE},buttons:[{action:function(e){return e.milestone(\"CHARTS\",4)&&e.$root.scrollToAnchor(\"SALIENCE\")},label:function(e){return\"Zur Bewertung der Fragen.\"}},{action:function(e){e.milestone(\"CHARTS\",4)&&e.gotoStage(e.next_scheduled_stage)},label:function(e){return\"Zur Zwischenbilanz\"}}]},{id:2,body:function(e){return[\"Oh! Haben Sie noch Lust die Gutachten zu diesem Thema zu beantworten. Es ist uns wirklich ein Anliegen, dass möglichst viele dabei teilnehmen.\"]},condition:function(e){return!e.VAAQuestionStagesAlerted.length&&e.milestoneSALIENCE&&!e.peerreviewCompleted},buttons:[{action:function(e){e.milestone(\"SALIENCE\",3),e.$root.scrollToAnchor(\"PEERREVIEW\")},label:function(e){return\"Zu den Gutachten.\"}}]},{id:2,body:function(e){return[\"Wunderbar! Sie können sich nun noch weitere Themenfelder anschauen oder direkt zur 'Zwischenbilanz' wechseln.\"]},condition:function(e){return!e.VAAQuestionStagesAlerted.length&&e.milestoneSALIENCE&&e.peerreviewCompleted},buttons:[{action:function(e){e.$root.scrollToAnchor(\"TOPICSELECTION\")},label:function(e){return\"Zurück zur Themenwahl\"}},{action:function(e){e.gotoStage(e.next_scheduled_stage)},label:function(e){return\"Zur Zwischenbilanz\"}}]}]}},d=l,u=n(\"836c\"),h=n(\"2f62\"),p=n(\"c9d9\"),m=n(\"c75e\"),g=n(\"00ef\"),f=n(\"9fd8\"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"row justify-between  q-ma-none q-pa-none\"},[n(\"q-carousel\",{class:{\"full-width customSelector rounded-borders\":!0,disabledCustomSelector:e.disabled},attrs:{value:e.value,animated:\"\",\"transition-prev\":\"slide-right\",\"transition-next\":\"slide-left\",\"control-type\":\"unelevated\",infinite:\"\",navigation:!e.disabled,swipeable:!e.disabled,arrows:!e.disabled,\"navigation-icon\":\"mdi-checkbox-blank-circle\",\"navigation-active-icon\":\"mdi-checkbox-circle\",padding:\"\",\"control-color\":\"profilecolor\"},on:{input:e.input}},[e.topicID?e._e():n(\"q-carousel-slide\",{key:\"topic-content\",staticClass:\"profilecolor column no-wrap flex-center\",attrs:{name:\"index\"}},[n(\"q-icon\",{attrs:{name:\"mdi-routes\",size:\"xl\"}}),n(\"div\",{staticClass:\"q-mt-md text-center\",staticStyle:{\"font-size\":\"1.3rem\"}},[e._v(\"\\n        Bitte wählen Sie mit\"),n(\"br\"),e._v(\"den Pfeilen ein Thema aus!\\n      \")])],1),e._l(e.topics,(function(t){return n(\"q-carousel-slide\",{key:\"topic-\"+t.content.id,staticClass:\"column no-wrap flex-center\",attrs:{name:t.content.id}},[n(\"q-card\",{staticClass:\"q-ma-none q-pa-none head-card\",attrs:{flat:\"\"}},[n(\"br\"),n(\"q-card-section\",{staticClass:\"bg-profilecolor\",style:\" color:#fff;\"},[n(\"q-avatar\",{staticClass:\"absolute\",staticStyle:{top:\"0\",right:\"12px\",transform:\"translateY(-50%)\"},attrs:{color:\"primary\",\"text-color\":\"white\",icon:\"mdi-sign-direction\"}}),n(\"div\",{staticClass:\"row no-wrap items-center\"},[n(\"div\",{staticClass:\"col text-h2\"},[e._v(\"\\n              \"+e._s(t.content.title)+\"\\n              \"),e.nof_contents_to_peerreview?n(\"div\",{staticClass:\"text-subtitle1\"},[n(\"q-icon\",{attrs:{size:\"md\",name:\"mdi-scale-balance\"}}),e._v(\"\\n                \"+e._s(e.nof_contents_to_peerreview)+\" \"+e._s(1==e.nof_contents_to_peerreview?\"hängiges\":\"hängige\")+\" Gutachten\\n              \")],1):e._e(),e.nofSalienceUncompleted?n(\"div\",{staticClass:\"text-subtitle1\"},[n(\"q-icon\",{attrs:{name:\"mdi-thumb-down\"}}),n(\"q-icon\",{attrs:{name:\"mdi-thumb-up\"}}),e._v(\"\\n                \"+e._s(e.nofSalienceUncompleted)+\" unbewertete \"+e._s(1==e.nofSalienceUncompleted?\"smartvote-Frage\":\"smartvote-Fragen\")+\"\\n\\n              \")],1):e._e()])])],1),n(\"q-card-section\",{staticClass:\"q-pt-none q-ma-md\"},[n(\"div\",{staticClass:\"grey\"},[e._v(\"\\n            \"+e._s(t.content.text)+\"\\n          \")])]),n(\"q-card-section\",{staticClass:\"q-pt-none q-ma-md\"},[t.progression&&t.progression.last_interaction?n(\"div\",{staticClass:\"text-caption text-grey\"},[e._v(\"\\n            Letzter Besuch: \"+e._s(e._f(\"formatTimeLeft\")(t.progression.last_interaction))+\"\\n          \")]):e._e()])],1)],1)}))],2)],1)},_=[],b=(n(\"4160\"),n(\"159b\"),{name:\"VAATopicSelector\",props:[\"topicID\",\"disabled\",\"nofSalienceUncompleted\"],inject:[\"CONTENTTREE\"],computed:o()({topics:function(){var e=this,t=[];return this.CONTENTTREE.rootElements.forEach((function(n){t=e.$pushSorted(t,n)})),t},value:function(){return this.topicID?parseInt(this.topicID):\"index\"},nof_contents_to_peerreview:function(){var e=this;if(!this.$loaded(this.contents_to_peerreview))return null;var t=Object.values(this.contents_to_peerreview).filter((function(t){return!e.$loaded(t[0].progression.response)}));return t.length},nof_peerreview_assigned:function(){return this.$loaded(this.contents_to_peerreview)?Object.keys(this.contents_to_peerreview).length:null},contents_to_peerreview:function(){if(!this.topicID)return{};var e=this.get_user_peerreviews_by_parent_and_content;return this.$loaded(e)?this.topicID&&e[this.topicID]?e[this.topicID]:{}:null}},Object(h[\"c\"])({get_user_peerreviews_by_parent_and_content:\"peerreviewstore/get_user_peerreviews_by_parent_and_content\"})),methods:{input:function(e){this.$emit(\"input\",\"index\"==e?null:e)}}}),w=b,S=(n(\"d828\"),n(\"2877\")),E=n(\"880c\"),C=n(\"62cd\"),A=n(\"0016\"),T=n(\"f09f\"),I=n(\"a370\"),P=n(\"cb32\"),R=n(\"eebe\"),F=n.n(R),y=Object(S[\"a\"])(w,v,_,!1,null,\"c32f3a72\",null),q=y.exports;F()(y,\"components\",{QCarousel:E[\"a\"],QCarouselSlide:C[\"a\"],QIcon:A[\"a\"],QCard:T[\"a\"],QCardSection:I[\"a\"],QAvatar:P[\"a\"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"q-expansion-item\",{attrs:{popup:\"\",value:e.showProposeForm,icon:\"mdi-sticker-plus-outline\"},on:{input:e.toggleProposeForm},scopedSlots:e._u([{key:\"header\",fn:function(){return[n(\"q-item-section\",{attrs:{avatar:\"\"}},[n(\"q-icon\",{attrs:{name:\"mdi-lightbulb-outline\",size:\"md\"}})],1),n(\"q-item-section\",[n(\"q-item-label\",[e._v(\"\\n        Neuer Antrag für eine smartvote-Frage einreichen \")]),n(\"q-item-label\",{attrs:{caption:\"\"}},[e._v(\"\\n        Welcher Aspekt des Themas '\"+e._s(e.topic.content.title)+\"' ist für Sie wichtig aber fehlt in der obigen Fragenliste?\\n      \")])],1),n(\"a\",{attrs:{name:\"NEWPROPOSAL\"}})]},proxy:!0}])},[e.showProposeForm?n(\"q-card\",[n(\"br\"),e.CONTENTTREE.limitForAddingProposalsReached?n(\"q-card-section\",{staticClass:\"q-mb-md q-ml-md text-notification\"},[e._v(\"\\n\\n      Sie haben heute schon \"+e._s(e.dailyContributionLimits.current)+\" Anträge eingereicht. Damit haben Sie die Tageslimite erreicht.\\n      Ab morgen früh können Sie wieder neue Anträge stellen.\\n    \")]):e._e(),e.newlyEnteredContent||!e.CONTENTTREE.limitForAddingProposalsReached?n(\"q-card-section\",{staticClass:\"q-mb-md q-ml-md \"},[n(\"q-form\",{staticClass:\"q-gutter-md\",on:{submit:e.onSubmit,reset:e.onReset}},[e._v(\"\\n        Bitte bestätigen Sie, dass...\"),n(\"br\"),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{label:\"Ihre Frage so oder ähnlich noch nicht oben aufgelistet ist.\"},model:{value:e.accept1,callback:function(t){e.accept1=t},expression:\"accept1\"}}),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{label:\"Ihr Vorschlag zum Thema '\"+e.topic.content.title+\"' passt.\"},model:{value:e.accept2,callback:function(t){e.accept2=t},expression:\"accept2\"}}),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{label:\"Sie die smartvote-Hinweise gelesen haben.\"},model:{value:e.accept3,callback:function(t){e.accept3=t},expression:\"accept3\"}}),n(\"SmartvoteCriteria\"),n(\"q-input\",{attrs:{filled:\"\",label:\"Ihre Frage an die Kandidierenden *\",hint:\"Häufige Formulierungen lauten etwa:\\n            'Soll das Gesetz XY geändert werden?' oder 'Unterstützen Sie die Einführung von XY?'\",\"lazy-rules\":\"\",rules:[function(e){return e&&e.length>0||\"Geben Sie hier die smartvote-Frage ein.\"}]},model:{value:e.localmodel.title,callback:function(t){e.$set(e.localmodel,\"title\",t)},expression:\"localmodel.title\"}}),n(\"br\"),n(\"q-input\",{attrs:{filled:\"\",label:\"Warum ist die Frage wichtig *\",type:\"textarea\",\"lazy-rules\":\"\",rules:[function(e){return null!==e&&\"\"!==e||\"Erläutern Sie den Hintergrund zu Ihrer Frage.\"},function(e){return e&&e.length>0&&e.length<3e3||\"Die Beschreibung muss zwischen 0 und 3000 Zeichen lang sein.\"}]},model:{value:e.localmodel.text,callback:function(t){e.$set(e.localmodel,\"text\",t)},expression:\"localmodel.text\"}}),n(\"p\",[e._v(\" Hinweis: Sie können maximal \"+e._s(e.dailyContributionLimits.daylimit)+\" Anträge pro Tag einreichen. \"),e.dailyContributionLimits.current?n(\"span\",[e._v(\"Sie haben bereits \"+e._s(e.dailyContributionLimits.current)+\" eingefügt.\")]):e._e()]),n(\"div\",[n(\"q-btn\",{attrs:{label:\"Vorschlag einreichen\",type:\"submit\",color:\"primary\"}}),n(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{label:\"Schliessen\",type:\"reset\",color:\"primary\",flat:\"\"}})],1)],1),e.newlyEnteredContent&&e.newlyEnteredContent.content?n(\"q-dialog\",{attrs:{persistent:\"\"},model:{value:e.showSalienceDialog,callback:function(t){e.showSalienceDialog=t},expression:\"showSalienceDialog\"}},[n(\"q-card\",{staticStyle:{\"min-width\":\"350px\"}},[n(\"q-card-section\",[n(\"div\",{staticClass:\"text-h6\"},[e._v(\"Ihre Frage '\"+e._s(e.newlyEnteredContent.content.title)+\"' wurde gespeichert gespeichert\")]),n(\"p\",[e._v(\"\\n              Bestimmt ist diese Frage für Sie sehr bedeutend. Doch wie sehr bedeutend ist sie?\\n            \")]),e._v(\"\\n            \"+e._s(e.newlyEnteredContent.progression.salience)+\"\\n            \"),n(\"ContentSalienceSlider\",{attrs:{content:e.newlyEnteredContent,instruction:\"\"}})],1),n(\"q-card-actions\",{staticClass:\"q-ma-lg\",attrs:{align:\"right\"}},[n(\"q-btn\",{on:{click:e.closeSalienceDialog}},[e._v(\"Absenden\")])],1)],1)],1):e._e()],1):e._e()],1):e._e()],1)},N=[],x=n(\"7c15\"),k=n(\"9651\"),D=n(\"4e00\"),V=n(\"2301\"),Q={name:\"ProposeVAAQuestion\",inject:[\"CONTENTTREE\",\"getDailyContributionLimits\",\"markDiscussed\"],data:function(){return{showSalienceDialog:!1,newlyEnteredContent:null,localmodel:{title:\"\",text:\"\",type:\"VAA_QUESTION\",parent_id:null},accept1:!1,accept2:!1,accept3:!1}},components:{ContentSalienceSlider:V[\"a\"],SmartvoteCriteria:D[\"a\"]},props:[\"topic\",\"showProposeForm\"],computed:{dailyContributionLimits:function(){var e=this.getDailyContributionLimits();return e.number_of_proposals}},methods:o()(o()({hideProposeForm:function(){this.$emit(\"toggle\",!1)},toggleProposeForm:function(){this.$emit(\"toggle\",!this.showProposeForm)},onSubmit:function(){var e=this;if(this.accept1||this.$q.notify({type:\"nFabrikWarning\",message:\"Sie müssen bestätigen, dass die Frage nicht bereits so oder ähnlich im Katalog drin ist. (Scrollen hoch zur Fragenliste um dies zu überprüfen.)\"}),this.accept2||this.$q.notify({type:\"nFabrikWarning\",message:\"Sie müssen bestätigen, dass die Frage zum aktuell ausgewählten Thema '\".concat(this.topic.content.title,\"' gehört.)\")}),this.accept3||this.$q.notify({type:\"nFabrikWarning\",message:\"Sie müssen bestätigen, dass Sie die smartvote-Kriterien gelesen haben.)\"}),this.accept1&&this.accept2&&this.accept3){this.markDiscussed(this.topic),console.log(\"Propose new SV-Question\");var t=k[\"b\"].assemblyIdentifier;this.localmodel.parent_id=this.topic.content.id,console.assert(this.localmodel.parent_id),console.assert(this.CONTENTTREE.contenttreeID),console.assert(t),x[\"a\"].proposeContent(t,parseInt(this.CONTENTTREE.contenttreeID),this.localmodel).then((function(t){console.log(t.data),console.log(\"Model saved\"),t.data.OK?(console.assert(\"content\"in t.data),console.log(\"SEND TO VUEX\",t.data.content),e.update_content({contentTuple:t.data.content}),e.$store.dispatch(\"peerreviewstore/updatePeerreviewTuple\",{peerreviewTuple:t.data.peerreview}),e.$store.dispatch(\"assemblystore/incrementAssemblyActivityCounter\",{counterName:\"number_of_proposals_today\"}),e.$q.notify({type:\"nFabrikInfo\",message:\"Der Antrag wurde eingereicht.\"}),e.newlyEnteredContent=t.data.content,e.showSalienceDialog=!0):e.$q.notify({type:\"nFabrikError\",message:\"Das Formular konnte nicht verarbeitet werden. Bitte informieren Sie die Veranstalter.\"})})).catch((function(t){console.warn(t),e.$q.notify({type:\"nFabrikError\",message:\"Das Formular konnte nicht verarbeitet werden. Bitte informieren Sie die Veranstalter.\"})}))}}},Object(h[\"b\"])({update_content:\"contentstore/update_content\"})),{},{closeDialog:function(){var e=this;setTimeout((function(){e.hideProposeForm()}),10)},closeSalienceDialog:function(){this.update_content({contentTuple:this.newlyEnteredContent}),this.showSalienceDialog=!1,this.newlyEnteredContent=null,this.onReset()},onReset:function(){this.accept1=!1,this.accept2=!1,this.accept3=!1,this.newlyEnteredContent=null,this.localmodel.title=\"\",this.localmodel.text=\"\",this.smartvoteHintsDialog=!1,this.closeDialog()}}),created:function(){}},z=Q,L=n(\"3b73\"),M=n(\"4074\"),$=n(\"0170\"),W=n(\"0378\"),j=n(\"9564\"),U=n(\"27f9\"),B=n(\"9c40\"),H=n(\"24e8\"),G=n(\"4b7e\"),K=Object(S[\"a\"])(z,O,N,!1,null,null,null),Z=K.exports;F()(K,\"components\",{QExpansionItem:L[\"a\"],QItemSection:M[\"a\"],QIcon:A[\"a\"],QItemLabel:$[\"a\"],QCard:T[\"a\"],QCardSection:I[\"a\"],QForm:W[\"a\"],QToggle:j[\"a\"],QInput:U[\"a\"],QBtn:B[\"a\"],QDialog:H[\"a\"],QCardActions:G[\"a\"]});var Y=n(\"ef04\"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"q-expansion-item\",{ref:\"expandable\",attrs:{group:\"accordeon\",popup:\"\",\"header-class\":[\"text-primary\",\"text-h6\",e.expanded?\"bg-grey-3\":e.peerreviewCompleted?\"\":\"bg-orange\"]},scopedSlots:e._u([{key:\"header\",fn:function(){return[n(\"q-item-section\",{attrs:{avatar:\"\"}},[n(\"q-icon\",{attrs:{size:\"md\",name:\"mdi-scale-balance\"}}),e.peerreviewCompleted?n(\"q-badge\",{staticStyle:{position:\"relative\",top:\"-1em\"},attrs:{color:\"green\"}},[n(\"q-icon\",{attrs:{name:\"mdi-check\",size:\"1.2em\"}})],1):e._e(),e.firstPeerreview.peerreview.approved?n(\"span\",{staticClass:\"\\n          finalized_peerreview approved\"},[e._v(\"Angenommen\"),n(\"br\")]):e._e(),e.firstPeerreview.peerreview.rejected?n(\"span\",{staticClass:\"\\n          finalized_peerreview rejected\"},[e._v(\"Abgelehnt\"),n(\"br\")]):e._e()],1),n(\"q-item-section\",[e.isInsertProposal?n(\"q-item-label\",[e._v(\"\\n        Gutachten #\"+e._s(e.firstPeerreview.peerreview.id)+\": Vorschlag für eine neue Frage\\n      \")]):n(\"q-item-label\",[e._v(\"\\n        Gutachten #\"+e._s(e.firstPeerreview.peerreview.id)+\": \"+e._s(e.peerreviews.length>1?\"Verbesserungsanträge\":\"Verbesserungsantrag\")+\"\\n      \")]),e.peerreviewCompleted?n(\"q-item-label\",{attrs:{caption:\"\"}},[e._v(\"\\n        Ihre Antwort: \"+e._s(e.translateResponse(e.firstPeerreview.progression))+\"\\n      \")]):e._e()],1),n(\"a\",{attrs:{name:\"PEERREVIEW\"+e.firstPeerreview.peerreview.id}})]},proxy:!0}]),model:{value:e.expanded,callback:function(t){e.expanded=t},expression:\"expanded\"}},[e.expanded?n(\"q-card\",[n(\"q-tabs\",{staticClass:\"bg-grey-3\",attrs:{dense:\"\",\"active-color\":\"primary\",\"indicator-color\":\"primary\",align:\"justify\",\"narrow-indicator\":\"\"},model:{value:e.tab,callback:function(t){e.tab=t},expression:\"tab\"}},[n(\"q-tab\",{attrs:{name:\"default\",icon:\"mdi-text-search\",label:\"Ihr Urteil\"}},[e.peerreviewCompleted?e._e():n(\"q-badge\",{staticClass:\"absolute\",staticStyle:{left:\"20px\",width:\"15px\"},attrs:{color:\"orange\"}},[n(\"q-tooltip\",[e._v(\"Möchten Sie diesen Antrag gutheissen?\")]),e._v(\"\\n          !\\n        \")],1)],1),n(\"q-tab\",{attrs:{name:\"discussion\",icon:\"mdi-comment-text-multiple\",label:\"Diskussion \"+(e.nofDescendants?\"(\"+e.nofDescendants+\")\":\"\")}}),n(\"q-tab\",{attrs:{name:\"peerreviews\",icon:\"mdi-scale-balance\",label:\"Verlauf\"}})],1),n(\"q-separator\"),n(\"q-tab-panels\",{attrs:{animated:\"\"},model:{value:e.tab,callback:function(t){e.tab=t},expression:\"tab\"}},[n(\"q-tab-panel\",{attrs:{name:\"default\"}},[e.peerreviewFinalized?n(\"q-card-section\",[n(\"div\",{staticClass:\"text-notification\"},[e._v(\"Die Entscheidung ist gefallen. Dieses Gutachten wurde \"+e._s(e.firstPeerreview.peerreview.rejected?\"abgelehnt\":\"angenommen\"))]),n(\"br\"),n(\"br\")]):e._e(),n(\"q-card-section\",{staticClass:\"text-h4 q-pa-md\"},[e.isInsertProposal?n(\"div\",[e._v(\"Neuer Fragenvorschlag:\")]):e._e(),e.isInsertProposal?e._e():n(\"div\",[e._v(\"\\n            Vorgeschlagene Änderung:\\n          \")])]),e.isInsertProposal?n(\"q-card-section\",{staticClass:\"q-mb-md q-ml-md \",staticStyle:{\"border-left\":\"1px solid grey\"}},[n(\"div\",{staticClass:\"text-h4 q-pa-md\"},[e._v(e._s(e.firstPeerreview.content.title))]),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"div\",[n(\"b\",[e._v(\"Warum wird die Frage als wichtig errachtet?\")]),n(\"br\"),e._v(e._s(e.firstPeerreview.content.text))])])]):e._e(),e.isInsertProposal?e._e():n(\"q-card-section\",{staticClass:\"q-mb-md q-ml-md\"},[e.titleChanges?e._e():n(\"p\",[e._v(\"Betrifft die Frage: \"+e._s(e.firstPeerreview.content.title))]),n(\"q-splitter\",{attrs:{horizontal:e.$q.screen.lt.md},scopedSlots:e._u([{key:\"before\",fn:function(){return[n(\"div\",{staticClass:\"q-pa-md\"},[n(\"div\",{staticClass:\"text-h6 q-mb-md \"},[e._v(\"BISHER\")]),e.titleChanges?n(\"div\",[n(\"b\",[e._v(\"Frage:\")]),n(\"br\"),e._v(\" \"+e._s(e.firstPeerreview.content.title)),n(\"br\"),n(\"br\")]):e._e(),e.textChanges?n(\"div\",[n(\"b\",[e._v(\"Warum ist die Frage wichtig:\")]),n(\"br\"),e._v(\" \"+e._s(e.firstPeerreview.content.text))]):e._e()])]},proxy:!0},{key:\"after\",fn:function(){return[n(\"div\",{staticClass:\"q-pa-md\"},[n(\"div\",{staticClass:\"text-h6 q-mb-md\"},[e._v(\"VORSCHLAG\")]),e.titleChanges?n(\"div\",[n(\"b\",[e._v(\"Frage:\")]),n(\"br\"),e._v(\" \"+e._s(e.firstPeerreview.peerreview.data_to_apply_on_success.title)+\" \"),n(\"br\"),n(\"br\")]):e._e(),e.textChanges?n(\"div\",[n(\"b\",[e._v(\"Warum ist die Frage wichtig:\")]),n(\"br\"),e._v(\" \"+e._s(e.firstPeerreview.peerreview.data_to_apply_on_success.text))]):e._e()])]},proxy:!0}],null,!1,2733417761),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:\"splitterModel\"}})],1),e.isInsertProposal?n(\"q-card-section\",{class:e.acceptAllAccept?\"\":\"bg-orange-4\"},[n(\"div\",{staticClass:\"text-h4\"},[e._v(\"Formale Kriterien\")]),e._v(\"\\n          Trifft folgendes auf den Vorschlag zu \"),n(\"q-icon\",{attrs:{name:\"mdi-thumb-up\"}}),e._v(\" oder trifft es nicht zu \"),n(\"q-icon\",{attrs:{name:\"mdi-thumb-down\"}}),e._v(\"?\"),n(\"br\"),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{disable:e.peerreviewFinalized,color:\"green\",size:\"lg\",\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",label:\"Die vorgeschlagene Frage ist noch nicht - so oder ähnlich - oben im Fragenkatalog drin.\"},model:{value:e.accept1,callback:function(t){e.accept1=t},expression:\"accept1\"}}),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{disable:e.peerreviewFinalized,size:\"lg\",color:\"green\",\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",label:\"Die vorgeschlagene Frge passt zum Thema '\"+e.topic.content.title+\"'.\"},model:{value:e.accept2,callback:function(t){e.accept2=t},expression:\"accept2\"}}),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{\"checked-icon\":\"mdi-thumb-up\",disable:e.peerreviewFinalized,size:\"lg\",color:\"green\",\"unchecked-icon\":\"mdi-thumb-down\",label:\"Der geänderte Beitrag entspricht den smartvote-Kriterien.\"},model:{value:e.accept3,callback:function(t){e.accept3=t},expression:\"accept3\"}}),n(\"SmartvoteCriteria\")],1):e._e(),e.isInsertProposal?e._e():n(\"q-card-section\",{class:e.acceptAllAccept?\"\":\"bg-orange-4\"},[n(\"div\",{staticClass:\"text-h4\"},[e._v(\"Formale Kriterien\")]),e._v(\"\\n\\n          Trifft folgendes auf den Vorschlag zu?\"),n(\"br\"),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{color:\"green\",size:\"lg\",disable:e.peerreviewFinalized,\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",label:\"Die ursprüngliche Idee der Frage bleibt erhalten.\"},model:{value:e.accept1,callback:function(t){e.accept1=t},expression:\"accept1\"}}),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{disable:e.peerreviewFinalized,size:\"lg\",color:\"green\",\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",label:\"die Änderung ist nach bestem Wissen und Gewissen eine Verbesserung der Frage.\"},model:{value:e.accept2,callback:function(t){e.accept2=t},expression:\"accept2\"}}),n(\"q-toggle\",{staticClass:\"q-ma-none\",attrs:{disable:e.peerreviewFinalized,\"checked-icon\":\"mdi-thumb-up\",size:\"lg\",color:\"green\",\"unchecked-icon\":\"mdi-thumb-down\",label:\"Der geänderte Beitrag entspricht den smartvote-Kriterien.\"},model:{value:e.accept3,callback:function(t){e.accept3=t},expression:\"accept3\"}}),n(\"SmartvoteCriteria\")],1),e.acceptAllAccept?n(\"q-card-section\",{staticClass:\"q-ml-md\"},[n(\"div\",{staticClass:\"text-h4\"},[e._v(\"Ihre Antwort\")]),e._v(\"\\n\\n          \"+e._s(e.reviewInstruction)+\"\\n          \"),n(\"PeerReviewResponse\",{ref:\"previewResponse\",attrs:{peerreview:e.firstPeerreview,instruction:\"\",accept1:e.accept1,accept2:e.accept2,accept3:e.accept3}})],1):e._e(),e.isInsertProposal&&e.$refs.previewResponse&&!e.$refs.previewResponse.noneResponse?n(\"q-card-section\",{staticClass:\"q-ml-md\"},[n(\"div\",{staticClass:\"text-h4\"},[e._v(\"Bewertung\")]),e._v(\"\\n          \"+e._s(e.salienceInstruction)+\"\\n          \"),n(\"ContentSalienceSlider\",{attrs:{content:e.contentTreeContent,instruction:\"\"}})],1):e._e()],1),\"discussion\"==e.tab?n(\"q-tab-panel\",{attrs:{name:\"discussion\"}},[n(\"br\"),n(\"div\",{staticClass:\"text-h6\"},[e._v(\"Diskussion über diesen Antrag\")]),n(\"p\",[e._v(\"Sie können hier die bisherige Diskussion zum Vorschlag nachverfolgen und Ihre Überlegungen mit anderen teilen:\")]),e._v(\"\\n\\n        \"+e._s(e.isInsertProposal)+\"\\n        \"),e.firstDiscussionContent?n(\"DefaultDiscussionBlock\",{attrs:{node:e.firstDiscussionContent,discussionBlockLabel:e.isInsertProposal?\"Diskussion zur vorgeschlagenenen Frage\":\"Diskussion zum Verbesserungsvorschlag\",customAM:e.AMs.indexTopPeerReview,alwaysExpanded:!0,ctx:this}}):e._e(),e.firstDiscussionContent?e._e():n(\"p\",{staticClass:\"text-notification\"},[e._v(\"Das Forum kann aktuell nicht geöffnet werden. Da ist ein Fehler aufgetreten.\")])],1):e._e(),\"peerreviews\"==e.tab?n(\"q-tab-panel\",{attrs:{name:\"peerreviews\"}},[n(\"PeerReviewHistory\",{attrs:{contentID:e.firstPeerreview.content.id}})],1):e._e()],1),n(\"q-card-actions\",{attrs:{align:\"right\"}},[n(\"q-btn\",{attrs:{icon:\"mdi-chevron-up\",flat:\"\",right:\"\"},on:{click:e.closeExpandedItem}},[e._v(\"Gutachten schliessen\\n        \"),n(\"q-tooltip\",[e._v(\"So bekommen Sie wieder den Überblick über die ganze Liste.\")])],1)],1)],1):e._e()],1)},X=[],ee=n(\"448a\"),te=n.n(ee),ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.noneAccepted?e._e():n(\"q-card-section\",{staticClass:\"q-pa-lg q-ma-sm full-width cursor-pointer\",class:e.noneResponse?\"bg-orange-4\":\"\",attrs:{vertical:\"\",align:\"center\"}},[n(\"q-btn-toggle\",{staticClass:\"bg-grey-3 \",attrs:{unelevated:\"\",spread:\"\",disable:e.peerreviewFinalized,\"indeterminate-value\":null,label:\"Bewertung\",size:\"1.4em\",options:e.buttons},on:{\"!input\":function(t){return e.debouncedInitSet(t)}},model:{value:e.progression_response,callback:function(t){e.progression_response=t},expression:\"progression_response\"}})],1)},ie=[],re={name:\"PeerReviewResponse\",props:[\"peerreview\",\"acceptDisabled\",\"accept1\",\"accept2\",\"accept3\"],data:function(){return{progression_response:null}},computed:{buttons:function(){return[{value:!0,slot:\"one\",toggleColor:\"green\",textColor:\"grey-7\",label:\"Annehmen\"},{value:!1,toggleColor:\"red\",textColor:\"grey-7\",label:\"Ablehnen\"}]},noneAccepted:function(){return null==this.accept1||null==this.accept2||null==this.accept3},noneResponse:function(){return!this.$loaded(this.progression_response)},peerreviewFinalized:function(){return this.peerreview.peerreview.approved||this.peerreview.peerreview.rejected}},methods:o()({initSet:function(){if(console.assert(!0===this.progression_response||!1===this.progression_response),this.noneAccepted||!this.peerreview.progression)return console.error(\"An error occured... invalid peerreview response\",this.noneAccepted,this.peerreview.progression),null;var e={peerreviewID:this.peerreview.peerreview.id,response:this.progression_response,criteria_accept1:this.accept1,criteria_accept2:this.accept2,criteria_accept3:this.accept3};console.log(\"new response received...\",this.progression_response),this.$root.monitorFire(p[\"a\"].MONITOR_SET_PEERREVIEW_RESPONSE,e),this.update_response({contenttreeID:this.peerreview.peerreview.contenttree_id,peerreviewID:this.peerreview.peerreview.id,response:this.progression_response,accept1:this.accept1,accept2:this.accept2,accept3:this.accept3})}},Object(h[\"b\"])(\"peerreviewstore\",[\"update_response\"])),created:function(){this.debouncedInitSet=Object(a[\"a\"])(this.initSet,1200)},mounted:function(){this.peerreview&&this.peerreview.progression&&(this.progression_response=this.peerreview.progression.response)}},se=re,oe=n(\"6a67\"),ae=Object(S[\"a\"])(se,ne,ie,!1,null,null,null),ce=ae.exports;F()(ae,\"components\",{QCardSection:I[\"a\"],QBtnToggle:oe[\"a\"]});var le=n(\"6587\"),de=n(\"64bb\"),ue=n(\"303f\"),he={name:\"PeerReviewListItem\",data:function(){return{tab:\"default\",expanded:!1,AMs:de[\"a\"],accept1:null,accept2:null,accept3:null,splitterModel:50,reviewInstruction:\"Sprechen Sie sich dafür aus, dass dieser Vorschlag angenommen wird? Versuchen Sie dabei dem gesamten, unglaublich vielseitigen Köniz gerecht zu werden.\",salienceInstruction:\"Wie wichtig wäre diese vorgeschlagene Frage für Sie persönlich, um sich eine Meinung über einen Kandidatin / Kandidaten zu machen? Bitte verschieben Sie den Regler.\"}},props:[\"topic\",\"peerreviews\"],inject:[\"CONTENTTREE\"],components:{PeerReviewHistory:ue[\"a\"],SmartvoteCriteria:D[\"a\"],ContentSalienceSlider:V[\"a\"],DefaultDiscussionBlock:le[\"a\"],PeerReviewResponse:ce},computed:o()(o()({firstDiscussionContent:function(){return this.isInsertProposal?this.firstPeerreview:this.discussionContent},acceptAllAccept:function(){var e=!(null==this.accept1||null==this.accept2||null==this.accept3);return e},firstPeerreview:function(){return this.peerreviews[Object.keys(this.peerreviews)[0]]},isInsertProposal:function(){return\"INSERT\"===this.firstPeerreview.peerreview.operation},titleChanges:function(){var e;return this.$loaded(null===(e=this.firstPeerreview.peerreview)||void 0===e?void 0:e.data_to_apply_on_success.title)},textChanges:function(){var e;return this.$loaded(null===(e=this.firstPeerreview.peerreview)||void 0===e?void 0:e.data_to_apply_on_success.text)},discussionContent:function(){var e,t;if(!this.isInsertProposal&&null!==(e=this.firstPeerreview.peerreview)&&void 0!==e&&e.discussion_content_id){var n=this.get_content({contenttreeID:this.firstPeerreview.content.contenttree_id,contentID:null===(t=this.firstPeerreview.peerreview)||void 0===t?void 0:t.discussion_content_id});return n||this.firstPeerreview}},nofDescendants:function(){var e=this;if(this.discussionContent){var t=Object.filter(this.CONTENTTREE.contenttree.entries,(function(t){return t.content.parent_id===e.discussionContent.content.id}));return Object.keys(t).length}},contentTreeContent:function(){var e,t=this.get_content({contenttreeID:this.CONTENTTREE.contenttree.id,contentID:null===(e=this.firstPeerreview.peerreview)||void 0===e?void 0:e.content_id});return t},responseCompleted:function(){var e;return!!this.$loaded(null===(e=this.firstPeerreview.progression)||void 0===e?void 0:e.response)},peerreviewCompleted:function(){var e,t;if(this.isInsertProposal&&!this.$loaded(null===(t=this.contentTreeContent.progression)||void 0===t?void 0:t.salience))return!1;return!!this.$loaded(null===(e=this.firstPeerreview.progression)||void 0===e?void 0:e.response)&&(this.$emit(\"completed-peerreview\"),!0)},peerreviewFinalized:function(){return this.firstPeerreview.peerreview.approved||this.firstPeerreview.peerreview.rejected}},Object(h[\"c\"])({get_content:\"contentstore/get_content\"})),{},{peerreviewHistory:function(){var e,t=this.get_peerreview_by_content({contentID:null===(e=this.firstPeerreview.peerreview)||void 0===e?void 0:e.content_id}),n=te()(t);return n.sort((function(e,t){return t.peerreview.id-e.peerreview.id}))},nofPeerreviewInsertOperation:function(){var e=this.peerreviewHistory.filter((function(e){return\"INSERT\"==e.peerreview.operation}));return e?e.length:0}},Object(h[\"c\"])({get_peerreview_by_content:\"peerreviewstore/get_peerreview_by_content\",profileColor:\"publicprofilestore/profileColor\"})),methods:{translateResponse:function(e){return!0===(null===e||void 0===e?void 0:e.response)?\"Antrag soll angenommen werden\":!1===(null===e||void 0===e?void 0:e.response)?\"Antrag ist abzulehnen\":\"---\"},closeExpandedItem:function(){var e=this.$refs.expandable;console.assert(e),e.hide(),this.$root.scrollToAnchor(\"PEERREVIEW\".concat(this.firstPeerreview.peerreview.id))}},mounted:function(){var e,t,n,i,r,s;this.accept1=null===(e=this.firstPeerreview)||void 0===e||null===(t=e.progression)||void 0===t?void 0:t.criteria_accept1,this.accept2=null===(n=this.firstPeerreview)||void 0===n||null===(i=n.progression)||void 0===i?void 0:i.criteria_accept2,this.accept3=null===(r=this.firstPeerreview)||void 0===r||null===(s=r.progression)||void 0===s?void 0:s.criteria_accept3}},pe=he,me=(n(\"6af6\"),n(\"58a81\")),ge=n(\"429b\"),fe=n(\"7460\"),ve=n(\"05c0\"),_e=n(\"eb85\"),be=n(\"adad\"),we=n(\"823b\"),Se=n(\"8562\"),Ee=Object(S[\"a\"])(pe,J,X,!1,null,\"7478bb70\",null),Ce=Ee.exports;F()(Ee,\"components\",{QExpansionItem:L[\"a\"],QItemSection:M[\"a\"],QIcon:A[\"a\"],QBadge:me[\"a\"],QItemLabel:$[\"a\"],QCard:T[\"a\"],QTabs:ge[\"a\"],QTab:fe[\"a\"],QTooltip:ve[\"a\"],QSeparator:_e[\"a\"],QTabPanels:be[\"a\"],QTabPanel:we[\"a\"],QCardSection:I[\"a\"],QSplitter:Se[\"a\"],QToggle:j[\"a\"],QCardActions:G[\"a\"],QBtn:B[\"a\"]});var Ae=n(\"4d94\"),Te=n(\"c75e4\"),Ie=n(\"9345\"),Pe=n(\"7548\"),Re={name:\"VAAQuestions\",mixins:[f[\"a\"]],data:function(){return{chartType:\"chartBar\",ICON_VAA_QUESTION:p[\"a\"].ICONS.VAA_QUESTION,showProposeForm:!1,cacheAMForum:null,cacheAMForumText:null,amForumRole:1,detailView:!0,filterTypes:p[\"a\"].VAA_QUESTION_TYPES,AMs:d,temporarySelectedTopic:null}},components:{Skeleton:c[\"a\"],SalienceList:Y[\"a\"],PeerReviewListItem:Ce,ArtificialModeration:u[\"a\"],AlgorithmDisclaimer:Ie[\"a\"],VAATopicSelector:q,ProposeVAAQuestion:Z,ComponentContentTree:Te[\"a\"],SideMenu:Ae[\"a\"],ChartBar:g[\"a\"],ContentTreeChart:Pe[\"a\"]},computed:o()({amForumPosition:function(){return this.amForumRole%2?\"left\":\"right\"},sideMenuItems:function(){var e=this;return[{label:this.node?this.node.content.title:\"Themenwahl\",caption:this.node?\"Themenwahl\":\"\",anchor:\"TOPICSELECTION\",customHightlighting:function(){return!e.node}},{label:\"Aktueller Stand\",anchor:\"SALIENCE\",visible:function(){return!!e.node}},{label:\"Gutachten\",anchor:\"PEERREVIEW\",visible:function(){return!!e.node}},{label:\"Neuer Vorschlag\",anchor:\"PROPOSE\",visible:function(){return!!e.node}},{label:\"Nächste Schritte\",anchor:\"CHARTS\",visible:function(){return!!e.node}}]},VAAQuestionStages:function(){var e=this;if(this.routed_stage)return this.assembly_sorted_stages.filter((function(t){return t.stage.group==e.routed_stage.stage.group}))},VAAQuestionStagesAlerted:function(){var e=this;return this.VAAQuestionStages.filter((function(t){return e.is_stage_alerted(t)}))},VAAQuestionStageRandomFocus:function(){return this.VAAQuestionStages.find((function(e){var t;return!(null===(t=e.stage.custom_data)||void 0===t||!t.RANDOM_FOCUS)}))},VAAQuestionStageManualFocus:function(){return this.VAAQuestionStages.find((function(e){var t;return!(null!==(t=e.stage.custom_data)&&void 0!==t&&t.RANDOM_FOCUS)}))},VAAQuestionStageManualFocusTopic:function(){if(this.VAAQuestionStageManualFocus)return this.getFocusedContent(this.VAAQuestionStageManualFocus)},VAAQuestionStageRandomFocusTopic:function(){if(this.VAAQuestionStageRandomFocus)return this.getFocusedContent(this.VAAQuestionStageRandomFocus)},isRandomFocusStage:function(){var e;return!(null===(e=this.routed_stage.stage.custom_data)||void 0===e||!e.RANDOM_FOCUS)},isManualFocusStage:function(){var e;return!(null!==(e=this.routed_stage.stage.custom_data)&&void 0!==e&&e.RANDOM_FOCUS)},stagesIgnoredFromRandomSelection:function(){var e;return null===(e=this.routed_stage.stage.custom_data)||void 0===e?void 0:e.EXCLUDE_FROM_RANDOM},focusedContent:function(){if(this.routed_stage)return console.log(\"Retrieve FOCUSED CONTENT\"),this.getFocusedContent(this.routed_stage)},isFocusedContentAlreadySet:function(){if(this.ready)return!!this.focusedContent},milestoneSALIENCE:function(){return this.stageMilestoneLabels.includes(\"SALIENCE\")},milestonePROPOSE:function(){return this.milestonePEERREVIEW&&this.stageMilestoneLabels.includes(\"PROPOSE\")},milestonePEERREVIEW:function(){return this.milestoneSALIENCE&&this.stageMilestoneLabels.includes(\"PEERREVIEW\")},milestoneCHARTS:function(){return this.milestonePROPOSE&&this.stageMilestoneLabels.includes(\"CHARTS\")},nodeChildrenExceptUserPeerreviews:function(){var e=this;if(this.nodeChildren&&this.$loaded(this.contents_to_peerreview)){var t=this.nodeChildren.filter((function(t){return!t.content.pending_peerreview_for_insert||!Object.keys(e.contents_to_peerreview).includes(\"\".concat(t.content.id))}));return t}},nofSalienceUncompleted:function(){var e=this;if(!this.routed_stage)return null;if(!this.$loaded(this.nodeChildrenExceptUserPeerreviews))return null;var t=this.nodeChildrenExceptUserPeerreviews.filter((function(t){return!e.isSalienced(t)}));return t.length},salienceCompleted:function(){return 0===this.nofSalienceUncompleted},peerreviewCompleted:function(){return this.routed_stage&&this.$loaded(this.contents_to_peerreview)?this.areAllPeerReviewCompleted():null},sortedChartEntries:function(){return this.nodeChildren.sort((function(e,t){var n,i;return(null===(n=t.progression)||void 0===n?void 0:n.salience)-(null===(i=e.progression)||void 0===i?void 0:i.salience)}))},chartBarPersonalData:function(){return this.sortedChartEntries.map((function(e){var t;return null===(t=e.progression)||void 0===t?void 0:t.salience}))},chartBarLabels:function(){return this.sortedChartEntries.map((function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.title}))},contributedAtleastOneVAAQuestion:function(){var e=this;return this.$loaded(this.nodeChildren)?!!this.nodeChildren.find((function(t){return t.creator.id===e.public_profile.id})):null},numberOfQuestionsInCurrentTopic:function(){return this.nodeChildren.length},contents_to_peerreview:function(){if(!this.loadedPeerreviewContententtrees.includes(\"\".concat(this.contenttreeID)))return null;var e=this.get_user_peerreviews_by_parent_and_content;return this.$loaded(e)&&this.$loaded(this.node)?this.node&&e[this.node.content.id]?e[this.node.content.id]:{}:void 0},askToProposeNewQuestion:function(){return this.routed_stage&&this.$loaded(this.contents_to_peerreview)&&this.milestoneSALIENCE?!(this.numberOfQuestionsInCurrentTopic>5||this.contributedAtleastOneVAAQuestion):null}},Object(h[\"c\"])({public_profile:\"publicprofilestore/get_public_profile\",loadedPeerreviewContententtrees:\"peerreviewstore/loadedPeerreviewContententtrees\",get_user_peerreviews_by_parent_and_content:\"peerreviewstore/get_user_peerreviews_by_parent_and_content\",assembly_sorted_stages:\"assemblystore/assembly_sorted_stages\",next_scheduled_stage:\"assemblystore/next_scheduled_stage\"})),methods:o()({getFocusedContent:function(e){var t,n;if(null!==(t=e.progression)&&void 0!==t&&t.focused_content_id){if(null===(n=this.contenttree)||void 0===n||!n.entries)return console.log(\"CONTENTTREE NOT YET LOADED\"),null;var i=e.progression.focused_content_id;console.assert(i);var r=this.contenttree.entries[e.progression.focused_content_id];return console.assert(r),r}console.log(\"NO FOCUESED CONTENT SET\")},toggleProposeForm:function(e){this.showProposeForm=e},areAllPeerReviewCompleted:function(){var e=this;if(!this.routed_stage)return null;if(!this.$loaded(this.contents_to_peerreview))return null;var t=Object.values(this.contents_to_peerreview).find((function(t){var n,i,r;return t[0].progression&&!e.$loaded(null===(n=t[0].progression)||void 0===n?void 0:n.response)&&!(null!==(i=t[0].peerreview)&&void 0!==i&&i.rejected)&&!(null!==(r=t[0].peerreview)&&void 0!==r&&r.approved)}));return t||this.milestone(\"PEERREVIEW\",3),!t},applyFocusedContent:function(e){var t={stageID:this.routed_stage.stage.id,contentID:e.content.id};this.updateFocusedContent({stageID:this.routed_stage.stage.id,contentID:e.content.id}),this.$root.monitorLog(p[\"a\"].MONITOR_STAGE_FOCUSED_CONTENT,t)},selectTopicPrepare:function(e){if(this.detailView=!1,this.contentID=e,this.temporarySelectedTopic=null,!this.isRandomFocusStage&&!this.isFocusedContentAlreadySet){var t=this.contenttree.entries[e];return console.assert(t),void(this.temporarySelectedTopic=t)}this.debouncedSelectTopic(e)},selectTopic:function(e){var t=this;if(!this.isRandomFocusStage&&!this.isFocusedContentAlreadySet){console.assert(e);var n=this.contenttree.entries[e];this.applyFocusedContent(n)}this.detailView=!1;var i={name:e?\"VAA_QUESTIONS_ENTRY\":\"VAA_QUESTIONS\",hash:\"#TOPICSELECTION\",params:{contentID:e,stageID:k[\"b\"].stageID,assemblyIdentifier:k[\"b\"].assemblyIdentifier}};this.$router.pushI(i),setTimeout((function(){t.detailView=!0}),200)},redirectToFocusedTopicIfRequired:function(){var e=this.$router.currentRoute.params.contentID;if(this.$loaded(this.rootElements)){if(!1===this.isFocusedContentAlreadySet&&this.isRandomFocusStage)return console.log(\"SAMPLE RANDOM FOCUSED CONTENT, IF NECESSARY\",this.routed_stage),console.assert(this.routed_stage),this.$root.monitorFire(p[\"a\"].MONITOR_STAGE_RANDOM_SAMPLING_CONTENT),void console.log(\"RANDOM SAMPLING TOPICS...\");if(this.focusedContent&&e!=this.focusedContent.content.id){if(this.is_stage_alerted(this.routed_stage))return void this.selectTopic(this.focusedContent.content.id);if(this.is_stage_alerted(this.VAAQuestionStageRandomFocus))return void(this.routed_stage===this.VAAQuestionStageRandomFocus?this.selectTopic(this.focusedContent.content.id):this.gotoStage(this.VAAQuestionStageRandomFocus));if(this.is_stage_alerted(this.VAAQuestionStageManualFocus))return void(this.routed_stage===this.VAAQuestionStageManualFocus?this.focusedContent.content.id&&this.selectTopic(this.focusedContent.content.id):this.gotoStage(this.VAAQuestionStageManualFocus))}this.contentID=this.$router.currentRoute.params.contentID,m[\"a\"].$emit(\"hideLoading\")}}},Object(h[\"b\"])(\"assemblystore\",[\"updateFocusedContent\"])),watch:{ready:function(e,t){this.redirectToFocusedTopicIfRequired()},focusedContent:function(e,t){this.ready&&this.redirectToFocusedTopicIfRequired()},$route:function(e,t){this.ready&&this.redirectToFocusedTopicIfRequired()},numberOfCurrentlySaliencedEntries:function(e){this.focusedContent&&e&&e>4&&(this.milestoneSALIENCE||this.milestone(\"SALIENCE\",4))},salienceCompleted:function(e){this.focusedContent&&e&&(console.log(\"ADD MILESTONE SALIENCE....\"),this.milestoneSALIENCE||this.milestone(\"SALIENCE\",4))},askToProposeNewQuestion:function(e){this.focusedContent&&!1===e&&(this.milestonePROPOSE||this.milestone(\"PROPOSE\",3))},contents_to_peerreview:function(e){this.focusedContent&&this.$loaded(e)&&0===Object.values(e).length&&(console.log(\"ADD MILESTONE PEERREVIEW (wathc)....\"),this.milestonePEERREVIEW||this.milestone(\"PEERREVIEW\",3))},peerreviewCompleted:function(e){this.$loaded(this.contents_to_peerreview)&&e&&(console.assert(!0===e),console.log(\"ADD MILESTONE PEERREVIEW (created)....\"),this.milestonePEERREVIEW)},nodeChildren:function(e){this.focusedContent&&this.$loaded(e)&&0===Object.keys(e).length&&(this.milestoneCHARTS||this.milestone(\"CHARTS\",3))}},created:function(){var e;(this.ready&&this.redirectToFocusedTopicIfRequired(),this.debouncedSelectTopic=Object(a[\"a\"])(this.selectTopic,1e3),this.focusedContent)&&(this.salienceCompleted&&(console.log(\"ADD MILESTONE SALIENCE....\"),this.milestoneSALIENCE||this.milestone(\"SALIENCE\",4)),!1===this.askToProposeNewQuestion&&(this.milestonePROPOSE||this.milestone(\"PROPOSE\",3)),this.$loaded(this.contents_to_peerreview)&&(0===(null===(e=Object.values(this.contents_to_peerreview))||void 0===e?void 0:e.length)||this.peerreviewCompleted)&&(console.log(\"ADD MILESTONE PEERREVIEW (created)....\"),this.milestonePEERREVIEW||this.milestone(\"PEERREVIEW\",3)))},mounted:function(){var e,t=this;null!==(e=this.routed_stage)&&void 0!==e&&e.stage.contenttree_id&&this.oauth.userid?this.$store.dispatch(\"peerreviewstore/syncPeerreviews\",{assemblyIdentifier:k[\"b\"].assemblyIdentifier,contenttreeID:this.routed_stage.stage.contenttree_id,oauthUserID:this.oauth.userid}):m[\"a\"].$once(\"EventStageLoaded\",(function(e){t.$store.dispatch(\"peerreviewstore/syncPeerreviews\",{assemblyIdentifier:k[\"b\"].assemblyIdentifier,contenttreeID:e.stage.contenttree_id,oauthUserID:t.oauth.userid})}))}},Fe=Re,ye=(n(\"139f\"),n(\"9989\")),qe=n(\"8380\"),Oe=n(\"1c1c\"),Ne=Object(S[\"a\"])(Fe,i,r,!1,null,\"8fae57a6\",null);t[\"default\"]=Ne.exports;F()(Ne,\"components\",{QPage:ye[\"a\"],QSpinnerDots:qe[\"a\"],QIcon:A[\"a\"],QBadge:me[\"a\"],QList:Oe[\"a\"],QToggle:j[\"a\"]})},\"6af6\":function(e,t,n){\"use strict\";n(\"92af\")},\"81f6\":function(e,t,n){},\"92af\":function(e,t,n){},d828:function(e,t,n){\"use strict\";n(\"efaa\")},efaa:function(e,t,n){}}]);","name":"js/3.94e7b1f5.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[3],{\n\n/***/ \"139f\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Questions_vue_vue_type_style_index_0_id_8fae57a6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"81f6\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Questions_vue_vue_type_style_index_0_id_8fae57a6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Questions_vue_vue_type_style_index_0_id_8fae57a6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"6a52\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/QUESTIONS/Questions.vue?vue&type=template&id=8fae57a6&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"doc_content\"},[(!_vm.$loaded(_vm.ready))?_c('div',{staticClass:\"row justify-between\"},[_c('div',{staticClass:\"seperator\"},[_c('q-spinner-dots',{attrs:{\"size\":\"2rem\"}})],1)]):_vm._e(),(_vm.ready)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.isManualFocusStage ? 'Zweites Thema:' : '')+\" Was wollen die Könizer.innen von Kandidierenden wissen, bevor sie sie wählen? \")]),_c('p',[_vm._v(\"\\n      In diesem Abschnitt geht es darum, ein breites Spektrum von relevanten politischen Fragen zusammenzustellen.\\n      Aus den zusammengestellten Fragen bildet sich am Ende den smartvote-Fragebogen.\\n      Sie bestimmen dabei mit, welche Fragen in den Smartvote-Katalog einfliessen.\\n    \")]),_c('ArtificialModeration',{attrs:{\"AM\":_vm.AMs.questions_top_partner,\"amGroup\":\"questions_intro\",\"alignment\":\"left\",\"role\":2,\"ctx\":this}}),_c('a',{attrs:{\"name\":\"TOPICSELECTION\"}}),(_vm.focusedContent || !_vm.isRandomFocusStage)?_c('VAATopicSelector',{attrs:{\"topicID\":_vm.contentID,\"nofSalienceUncompleted\":_vm.nofSalienceUncompleted,\"disabled\":(_vm.VAAQuestionStagesAlerted && _vm.VAAQuestionStagesAlerted.length) && _vm.focusedContent},on:{\"input\":_vm.selectTopicPrepare}}):_vm._e(),_c('ArtificialModeration',{attrs:{\"AM\":_vm.AMs.questions_choose_manual_topic,\"amGroup\":\"questions_intro\",\"alignment\":\"right\",\"role\":1,\"ctx\":this}}),(_vm.detailView && !_vm.$loaded(_vm.nodeChildrenExceptUserPeerreviews) && _vm.contentID)?_c('div',{staticClass:\"row justify-between\"},[_c('div',{staticClass:\"seperator\"},[_c('q-spinner-dots',{attrs:{\"size\":\"2rem\"}})],1)]):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.detailView && _vm.$loaded(_vm.nodeChildrenExceptUserPeerreviews))?_c('div',[_c('div',{staticClass:\"row justify-between\"},[_c('div',{staticClass:\"seperator\"},[_c('q-icon',{attrs:{\"name\":\"mdi-star-four-points-outline\"}})],1)]),_c('br'),_c('br'),_c('a',{attrs:{\"name\":\"SALIENCE\"}}),_c('h2',[(_vm.milestoneSALIENCE)?_c('q-badge',{staticStyle:{\"position\":\"relative\",\"top\":\"-1em\"},attrs:{\"color\":\"green\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-check\",\"size\":\"1.2em\"}})],1):_vm._e(),_vm._v(\"\\n          Aktueller Stand des Fragenkatalogs\\n        \")],1),(_vm.nodeChildrenExceptUserPeerreviews.length === 0)?_c('p',[_vm._v(\"\\n          Der Fragenkatalog zum Themenfeld '\"+_vm._s(_vm.node.content.title)+\"' ist momentan noch leer.\\n        \")]):(_vm.nodeChildrenExceptUserPeerreviews.length > 0)?_c('p',[_vm._v(\"\\n          Es wurde bisher folgende Fragen zum Themenfeld '\"+_vm._s(_vm.node.content.title)+\"' eingetragen. \"),_c('br')]):_vm._e(),_c('ArtificialModeration',{attrs:{\"AM\":_vm.AMs.questions_current_state,\"alignment\":\"right\",\"ctx\":this}}),(_vm.nodeChildren && _vm.nodeChildrenExceptUserPeerreviews.length)?_c('SalienceList',{attrs:{\"salienceInstruction\":\"Wie wichtig ist Ihnen diese Frage? Bitte verschieben Sie den Regler.\",\"salienceCompleted\":_vm.salienceCompleted,\"contentList\":_vm.nodeChildrenExceptUserPeerreviews,\"showBackgroundPage\":true,\"showDiscussions\":true,\"itemIcon\":_vm.ICON_VAA_QUESTION,\"titlePrefix\":\"Frage\",\"captionPrefix\":\"Alles über die smartvote-Frage\",\"textPrefix\":\"Warum Teilnehmende meinen, dass diese Frage wichtig ist?\"},on:{\"item-saliencing\":_vm.incrementNumberOfCurrentlySaliencedEntries}}):_vm._e(),_c('br'),_c('br'),_c('a',{attrs:{\"name\":\"PEERREVIEW\"}}),_c('br'),_c('br'),_c('div',{staticClass:\"row justify-between\"},[_c('div',{staticClass:\"seperator\"},[_c('q-icon',{attrs:{\"name\":\"mdi-star-four-points-outline\"}})],1)]),(!_vm.milestoneSALIENCE)?_c('Skeleton',{attrs:{\"h2\":\"Involvierte Gutachten\"}}):_vm._e(),(_vm.milestoneSALIENCE)?_c('div',[_c('br'),_c('h2',[(_vm.milestonePEERREVIEW)?_c('q-badge',{staticStyle:{\"position\":\"relative\",\"top\":\"-1em\"},attrs:{\"color\":\"green\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-check\",\"size\":\"1.2em\"}})],1):_vm._e(),_vm._v(\" Involvierte Gutachten\\n          \")],1),_c('p',[_vm._v(\"Als Gutachterin respektive Gutachter sind Sie mitverantwortlich, welche Fragen in den Fragenkatalog aufgenommen werden und wie diese formuliert sein sollen.\")]),(Object.values(_vm.contents_to_peerreview).length)?_c('div',[_c('ArtificialModeration',{attrs:{\"AM\":_vm.AMs.questions_peerreview,\"alignment\":\"left\",\"ctx\":this}}),_c('q-list',_vm._l((Object.values(_vm.contents_to_peerreview)),function(peerreviews,key){return _c('PeerReviewListItem',{key:(\"PR\" + key),ref:\"peerreview_lists\",refInFor:true,attrs:{\"peerreviews\":peerreviews,\"topic\":_vm.node},on:{\"completed-peerreview\":_vm.areAllPeerReviewCompleted}})}),1)],1):_c('div',{staticClass:\"text-notification\"},[_vm._v(\"\\n            Zu diesem Thema wurde Ihnen aktuell kein Gutachten zugewiesen.\\n          \")]),_c('p',[_c('br'),_c('b',[_vm._v(\"Hintergrund:\")]),_vm._v(\" Wir wollen, dass möglichst viele KönizerInnen mitentscheiden, welche Fragen im smartvote-Fragebogen erscheinen.\\n            Deshalb fragen wir jeden Tag aufs neue zufällige TeilnehmerInnen an, uns Ihre Meinung zu einem Vorschlag mitzuteilen. Die Mehrheit dieser zufällig angefragten KönizerInnen entscheidet dann, ob der Vorschlag gutgeheissen wird.\\n          \")])]):_vm._e(),_c('a',{attrs:{\"name\":\"PROPOSE\"}}),_c('div',{staticClass:\"row justify-between\"},[_c('div',{staticClass:\"seperator\"},[_c('q-icon',{attrs:{\"name\":\"mdi-star-four-points-outline\"}})],1)]),(!_vm.milestonePEERREVIEW || !_vm.milestoneSALIENCE || !_vm.peerreviewCompleted)?_c('Skeleton',{attrs:{\"h2\":\"Neue smartvote-Frage vorschlagen\"}}):_vm._e(),(_vm.milestonePEERREVIEW && _vm.milestoneSALIENCE && _vm.peerreviewCompleted)?_c('div',[_c('h2',[(_vm.milestonePROPOSE && _vm.milestoneSALIENCE && _vm.peerreviewCompleted)?_c('q-badge',{staticStyle:{\"position\":\"relative\",\"top\":\"-1em\"},attrs:{\"color\":\"green\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-check\",\"size\":\"1.2em\"}})],1):_vm._e(),_vm._v(\"\\n            Neue smartvote-Frage vorschlagen\\n          \")],1),_c('p',[_vm._v(\"Finden Sie das bisher ein wichtiger Aspekt des Themas '\"+_vm._s(_vm.node.content.title)+\"' noch nicht abgedeckt ist. Dann reichen Sie hier einen neuen Vorschlag ein!\")]),(!_vm.milestonePROPOSE)?_c('ArtificialModeration',{attrs:{\"AM\":_vm.AMs.propose_question,\"amGroup\":\"propose_question\",\"alignment\":\"right\",\"role\":2,\"ctx\":this}}):_vm._e(),_c('ProposeVAAQuestion',{ref:\"proposeForm\",attrs:{\"topic\":_vm.node,\"showProposeForm\":_vm.showProposeForm},on:{\"toggle\":_vm.toggleProposeForm}}),_c('br'),_c('span',[_c('b',[_vm._v(\"So funktionierts:\")]),_vm._v(\" Alle eingeladenen KönizerInnen können hier neue Vorschläge für den Smartvote-Fragebogen einbringen. Bevor die vorgeschlagene Frage dann in den Smartvote Katalog einfliesst, wird er von zufällig ausgewählten anderen Teilnehmenden begutachtet.\\n          \")])],1):_vm._e(),_c('br'),_c('br'),_c('div',{staticClass:\"row justify-between\"},[_c('div',{staticClass:\"seperator\"},[_c('q-icon',{attrs:{\"name\":\"mdi-star-four-points-outline\"}})],1)]),_c('a',{attrs:{\"name\":\"CHARTS\"}}),(!_vm.milestonePROPOSE || !_vm.milestoneSALIENCE || !_vm.peerreviewCompleted)?_c('Skeleton',{attrs:{\"h2\":\"Rangfolge\"}}):_vm._e(),(_vm.milestonePROPOSE && _vm.milestoneSALIENCE && _vm.peerreviewCompleted)?_c('div',[_c('h2',[(_vm.milestoneCHARTS && _vm.milestoneSALIENCE && _vm.peerreviewCompleted)?_c('q-badge',{staticStyle:{\"position\":\"relative\",\"top\":\"-1em\"},attrs:{\"color\":\"green\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-check\",\"size\":\"1.2em\"}})],1):_vm._e(),_vm._v(\"Rangfolge\\n          \")],1),(_vm.chartBarLabels.length)?_c('p',[_vm._v(\"\\n            Sie sehen hier nun ihre persönliche Prioritätenliste im Vergleich zu der Priorisierung aller Teilnehmer.innen.\\n          \")]):_c('p',{staticClass:\"text-notification\"},[_vm._v(\"\\n            Es sind heute noch zu wenige Daten vorhanden. Die Rangfolge steht für dieses Thema noch nicht zur Verfügung.\\n          \")]),_c('br'),_c('br'),(_vm.chartBarLabels.length)?_c('ContentTreeChart',{attrs:{\"chartType\":_vm.chartType,\"nodes\":_vm.nodeChildren}}):_vm._e(),_c('br'),(_vm.chartBarLabels.length)?_c('ArtificialModeration',{attrs:{\"AM\":_vm.AMs.questions_after_charts,\"alignment\":\"right\",\"amGroup\":\"afterCharts\",\"role\":2,\"ctx\":this}}):_vm._e()],1):_vm._e(),_c('br'),_c('br'),_c('a',{attrs:{\"name\":\"FINAL\"}}),_c('br'),_c('br'),_c('br'),(_vm.milestoneCHARTS || !_vm.chartBarLabels.length)?_c('div',[_c('ArtificialModeration',{attrs:{\"alignment\":\"left\",\"AM\":_vm.AMs.questions_end_of_page,\"ctx\":this}})],1):_vm._e()],1):_vm._e()]),_c('SideMenu',{attrs:{\"items\":_vm.sideMenuItems,\"highlightedItem\":_vm.highlightedItem}})],1):_vm._e()])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/Questions.vue?vue&type=template&id=8fae57a6&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(\"4de4\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__(\"7db0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(\"caad\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(\"e260\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(\"d81d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.sort.js\nvar es_array_sort = __webpack_require__(\"4e82\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(\"b64b\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(\"d3b7\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.values.js\nvar es_object_values = __webpack_require__(\"07ac\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(\"2532\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(\"ddb0\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"ded3\");\nvar objectSpread2_default = /*#__PURE__*/__webpack_require__.n(objectSpread2);\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/utils/debounce.js\nvar debounce = __webpack_require__(\"1c16\");\n\n// EXTERNAL MODULE: ./src/components/Skeleton.vue + 4 modules\nvar Skeleton = __webpack_require__(\"2d5b\");\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/ArtificialModeration.js\n\nvar AMs = {\n  questions_top_partner: {\n    id: 'questions_top_partner',\n    prosa: ' Einleitung zum aktuellen Themenfeld.',\n    condition: function condition(ctx) {\n      return ctx.next_scheduled_stage;\n    },\n    loading: function loading(ctx) {\n      return !ctx.routed_stage || ctx.isRandomFocusStage && !ctx.focusedContent;\n    },\n    items: [{\n      id: 1,\n      condition: function condition(ctx) {\n        return !ctx.VAAQuestionStageManualFocusTopic && ctx.isRandomFocusStage;\n      },\n      body: function body(ctx) {\n        return [// ZUFALLS-THEMA-STAGE\n        \"Wir beginnen mit einem zuf\\xE4llig ausgew\\xE4hlten Themenfeld. Danach k\\xF6nnen Sie frei weiterfahren.\", \"Sind Sie bereit f\\xFCr das Themenfeld '\".concat(ctx.VAAQuestionStageRandomFocusTopic.content.title, \"'?\")];\n      }\n    }, {\n      id: 2,\n      condition: function condition(ctx) {\n        return !ctx.VAAQuestionStageManualFocusTopic && !ctx.isRandomFocusStage;\n      },\n      body: function body(ctx) {\n        return [// SELBST-AUSSUCH-THEMA-STAGE\n        ctx.focusedContent ? \"Wir sind nun beim Themenfeld, dass Sie sich selber ausgesucht haben.\" : \"Suchen Sie sich nun noch ein zweites Themenfeld aus.\"];\n      }\n    }, {\n      id: 3,\n      condition: function condition(ctx) {\n        return ctx.VAAQuestionStagesAlerted.length == 0 && ctx.next_scheduled_stage;\n      },\n      body: function body(ctx) {\n        return [\"Sie k\\xF6nnen sich nun die Abschlussseite \\\"Zwischenbilanz\\\" ansehen. Diese ist jetzt freigeschaltet.\", \"Wenn Sie m\\xF6chten k\\xF6nnnen Sie sich aber auch noch andere Themenbereiche anschauen.\"];\n      } // buttons: [\n      //   {\n      //     action: (ctx) => ctx.gotoStage(ctx.next_scheduled_stage),\n      //     label: (ctx) => 'Zur Zwischenbilanz'\n      //   }\n      // ]\n\n    }]\n  },\n  // CHOOOSE TOPIC\n  questions_choose_manual_topic: {\n    id: 'questions_choose_manual_topic',\n    prosa: ' Nachfrage, zur Themenwahl.',\n    loading: function loading(ctx) {\n      return !ctx.routed_stage || ctx.isRandomFocusStage && !ctx.focusedContent;\n    },\n    condition: function condition(ctx) {\n      return ctx.isManualFocusStage && ctx.isFocusedContentAlreadySet === false;\n    },\n    items: [{\n      id: 1,\n      condition: function condition(ctx) {\n        return ctx.VAAQuestionStageRandomFocusTopic != ctx.temporarySelectedTopic;\n      },\n      buttons: [{\n        condition: function condition(ctx) {\n          return ctx.temporarySelectedTopic;\n        },\n        action: function action(ctx) {\n          ctx.selectTopic(ctx.temporarySelectedTopic.content.id);\n        },\n        label: function label(ctx) {\n          return 'Ja , dieses Thema!';\n        }\n      }],\n      body: function body(ctx) {\n        return ctx.temporarySelectedTopic ? [// Bereits den Themenselector geändert.\n        \"M\\xF6chten Sie als zweites nun das Thema '\".concat(ctx.temporarySelectedTopic.content.title, \"' bearbeiten?\")] : [// SELBST-AUSSUCH-THEMA-STAGE\n        \"F\\xFCr welches Thema, entscheiden Sie sich?\"];\n      }\n    }, {\n      id: 2,\n      condition: function condition(ctx) {\n        return ctx.temporarySelectedTopic && ctx.VAAQuestionStageRandomFocusTopic == ctx.temporarySelectedTopic;\n      },\n      body: function body(ctx) {\n        return \"Dieses Thema haben Sie gerade schon bearbeitet.\";\n      }\n    }]\n  },\n  questions_current_state: {\n    id: 'questions_current_state',\n    prosa: ' Erläuterungen zum aktuellen Stand des Fragenkatalogs.',\n    loading: function loading(ctx) {\n      return !ctx.routed_stage || !ctx.node;\n    },\n    items: [{\n      id: 1,\n      condition: function condition(ctx) {\n        return !ctx.milestoneSALIENCE && ctx.nodeChildrenExceptUserPeerreviews.length <= 6;\n      },\n      body: function body(ctx) {\n        return [\"Bei diesem Thema sind im Katalog aktuell \".concat(ctx.nodeChildrenExceptUserPeerreviews.length, \" Fragen drin.\"), \"K\\xF6nnen sie diese Fragen bewerten? Wie relevant finden Sie sie?\"];\n      }\n    }, {\n      id: 104,\n      condition: function condition(ctx) {\n        return !ctx.milestoneSALIENCE && ctx.nodeChildrenExceptUserPeerreviews.length > 6;\n      },\n      body: function body(ctx) {\n        return [\"Bei diesem Thema sind im Katalog aktuell \".concat(ctx.nodeChildrenExceptUserPeerreviews.length, \" Fragen drin.\"), \"K\\xF6nnen sie einige dieser Fragen bewerten? Wie relevant finden Sie sie?\"];\n      }\n    }, {\n      id: 2,\n      condition: function condition(ctx) {\n        return ctx.milestoneSALIENCE && !ctx.milestonePEERREVIEW;\n      },\n      body: function body(ctx) {\n        return \"Wir fahren nun fort mit den Gutachten.\";\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.milestone(\"SALIENCE\", 3) && ctx.$root.scrollToAnchor('PEERREVIEW');\n        },\n        label: function label(ctx) {\n          return 'Zu den Gutachten.';\n        }\n      }]\n    }, {\n      id: 3,\n      condition: function condition(ctx) {\n        return ctx.milestonePEERREVIEW && !ctx.milestonePROPOSE;\n      },\n      body: function body(ctx) {\n        return \"Weiter unten haben wir eine Frage an Sie.\";\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.$root.scrollToAnchor('PROPOSE');\n        },\n        label: function label(ctx) {\n          return 'Ich komme mit!';\n        }\n      }]\n    }, {\n      id: 3,\n      condition: function condition(ctx) {\n        return ctx.milestonePROPOSE && !ctx.milestoneCHARTS;\n      },\n      body: function body(ctx) {\n        return \"Sie interessiert sicherlich nun, wie die Fragen bei den anderen Teilnehmenden abschneiden.\";\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.$root.scrollToAnchor('CHARTS');\n        },\n        label: function label(ctx) {\n          return 'Zur Statistik.';\n        }\n      }]\n    }, {\n      id: 4,\n      prosa: \"finish with this topic => other stage is still open..\",\n      condition: function condition(ctx) {\n        return ctx.milestoneCHARTS && ctx.milestonePROPOSE && ctx.next_scheduled_stage && ctx.VAAQuestionStagesAlerted.length;\n      },\n      body: function body(ctx) {\n        return \"Zum Themenfeld '\".concat(ctx.VAAQuestionStageRandomFocusTopic.content.title, \"' haben wir gerade keine Frage. Wenn Sie m\\xF6gen k\\xF6nnen wir zum n\\xE4chten Thema wechseln.\");\n      },\n      buttons: [{\n        action: function action(ctx) {\n          return ctx.gotoStage(ctx.next_scheduled_stage);\n        },\n        label: function label(ctx) {\n          return 'Zum nächsten Thema';\n        }\n      }]\n    }, // {\n    //   id: 4,\n    //   prosa: \"finish with all topics..\",\n    //   condition: (ctx) => ctx.next_scheduled_stage && !ctx.VAAQuestionStagesAlerted.length,\n    //   body: (ctx) => `Sehr schön. Kommen Sie doch mit. Jetzt muss ich Ihnen was zeigen.`,\n    // },\n    {\n      id: 5,\n      prosa: \"finish with everything\",\n      condition: function condition(ctx) {\n        return ctx.milestonePROPOSE && !ctx.next_scheduled_stage;\n      },\n      body: function body(ctx) {\n        return \"Sie haben das Themenfeld '\".concat(ctx.VAAQuestionStageRandomFocusTopic.content.title, \"' ausgew\\xE4hlt. Nun k\\xF6nnen Sie das Themenfeld nach belieben wechseln.\");\n      }\n    }]\n  },\n  // TODO: only when there are less than five questions (incl. proposal) and when user has free-proposals left...\n  questions_peerreview: {\n    id: 'questions_peerreview',\n    loading: function loading(ctx) {\n      return !ctx.routed_stage;\n    },\n    items: [{\n      id: 1,\n      condition: function condition(ctx) {\n        return Object.keys(ctx.contents_to_peerreview).length == 1;\n      },\n      body: function body(ctx) {\n        return \"Nun brauchen wir Ihr Urteil bei einem Gutachten. Das ist uns besonders wichtig!\";\n      }\n    }, {\n      id: 2,\n      condition: function condition(ctx) {\n        return Object.keys(ctx.contents_to_peerreview).length > 1;\n      },\n      body: function body(ctx) {\n        return \"Nun brauchen wir Ihr Urteil bei \".concat(Object.keys(ctx.contents_to_peerreview).length, \"  Gutachten. Das ist uns besonders wichtig!\");\n      }\n    }]\n  },\n  // TODO: only when there are less than five questions (incl. proposal) and when user has free-proposals left...\n  propose_question: {\n    id: 'propose_question',\n    loading: function loading(ctx) {\n      return !ctx.routed_stage;\n    },\n    condition: function condition(ctx) {\n      return !ctx.showProposeForm && ctx.askToProposeNewQuestion;\n    },\n    items: [{\n      id: 1,\n      condition: function condition(ctx) {\n        return !ctx.CONTENTTREE.limitForAddingProposalsReached;\n      },\n      body: function body(ctx) {\n        return \"Haben Sie zum Thema '\".concat(ctx.node.content.title, \"' einen Vorschlag f\\xFCr eine neue smartvote-Frage?\");\n      }\n    }, {\n      id: 2,\n      condition: function condition(ctx) {\n        return ctx.CONTENTTREE.limitForAddingProposalsReached;\n      },\n      body: function body(ctx) {\n        return \"Heute k\\xF6nnen Sie leider keinen Vorschlag mehr einbringen. Morgen fr\\xFCh sieht das wieder ganz anders aus.\";\n      }\n    }],\n    buttons: [{\n      condition: function condition(ctx) {\n        return !ctx.CONTENTTREE.limitForAddingProposalsReached;\n      },\n      action: function action(ctx) {\n        ctx.showProposeForm = true;\n      },\n      label: function label(ctx) {\n        return 'Ja, ich weiss da etwas.';\n      }\n    }, {\n      condition: function condition(ctx) {\n        return !ctx.CONTENTTREE.limitForAddingProposalsReached;\n      },\n      action: function action(ctx) {\n        ctx.milestone(\"PROPOSE\", 3);\n        ctx.$root.scrollToAnchor('CHARTS', 300, 300);\n      },\n      label: function label(ctx) {\n        return 'Nein, gerade nicht.';\n      }\n    }, {\n      condition: function condition(ctx) {\n        return ctx.CONTENTTREE.limitForAddingProposalsReached;\n      },\n      action: function action(ctx) {\n        ctx.milestone(\"PROPOSE\", 3);\n        ctx.$root.scrollToAnchor('CHARTS', 300, 300);\n      },\n      label: function label(ctx) {\n        return 'Weiter';\n      }\n    }]\n  },\n  questions_after_charts: {\n    id: 'topics_after_charts',\n    loading: function loading(ctx) {\n      return !ctx.routed_stage;\n    },\n    items: [{\n      id: 1,\n      body: function body(ctx) {\n        return ctx.daySessions <= 1 ? \"Sind sie mit Ihrer Priorisierung vorerst mal einverstanden?\" : \"Sind sie mit Ihrer Priorisierung noch immer einverstanden?\";\n      },\n      condition: function condition(ctx) {\n        return !ctx.milestoneCHARTS;\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.milestone(\"CHARTS\", 4);\n          ctx.$root.scrollToAnchor('FINAL', 300, 300);\n        },\n        label: function label(ctx) {\n          return 'Ja, es stimmt so!';\n        }\n      }, {\n        action: function action(ctx) {\n          ctx.$root.scrollToAnchor('SALIENCE');\n        },\n        label: function label(ctx) {\n          return 'Ich möchte noch was ändern.';\n        }\n      }]\n    }, {\n      id: 2,\n      body: function body(ctx) {\n        return \"Sie sehen hier ihre pers\\xF6nliche Priorit\\xE4tenliste der Smartvote-Fragen. Sind Sie noch immer damit einverstanden?\";\n      },\n      condition: function condition(ctx) {\n        return ctx.milestoneSALIENCE && !ctx.milestoneCHARTS;\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.milestone(\"CHARTS\", 4);\n          ctx.$root.scrollToAnchor('FINAL', 300, 300);\n        },\n        label: function label(ctx) {\n          return 'Ja, es stimmt so!';\n        }\n      }, {\n        action: function action(ctx) {\n          ctx.$root.scrollToAnchor('SALIENCE');\n        },\n        label: function label(ctx) {\n          return 'Ich möchte noch was ändern.';\n        }\n      }]\n    }]\n  },\n  questions_end_of_page: {\n    id: 'topics_end_of_page',\n    condition: function condition(ctx) {\n      return ctx.next_scheduled_stage;\n    },\n    loading: function loading(ctx) {\n      return !ctx.routed_stage;\n    },\n    items: [{\n      id: 1,\n      prosa: \"Fortfahren mit zweiter Fragen-Stage.\",\n      body: function body(ctx) {\n        return [\"Perfekt! Wir m\\xF6chten nun, dass Sie sich noch ein zweites Themenfeld ausw\\xE4hlen.\"];\n      },\n      condition: function condition(ctx) {\n        return ctx.isRandomFocusStage && ctx.VAAQuestionStagesAlerted.length;\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.gotoStage(ctx.next_scheduled_stage);\n        },\n        label: function label(ctx) {\n          return 'Okay!';\n        }\n      }]\n    }, {\n      id: 2,\n      body: function body(ctx) {\n        return [\"Ich verstehe gut, dass Sie m\\xFCde sind und die Fragen hier nicht mehr bewerten wollen. Schauen Sie doch noch kurz bei der Zwischenbilanz vorbei?\"];\n      },\n      condition: function condition(ctx) {\n        return !ctx.VAAQuestionStagesAlerted.length && !ctx.milestoneSALIENCE;\n      },\n      buttons: [{\n        action: function action(ctx) {\n          return ctx.milestone(\"CHARTS\", 4) && ctx.$root.scrollToAnchor('SALIENCE');\n        },\n        label: function label(ctx) {\n          return 'Zur Bewertung der Fragen.';\n        }\n      }, {\n        action: function action(ctx) {\n          ctx.milestone(\"CHARTS\", 4) && ctx.gotoStage(ctx.next_scheduled_stage);\n        },\n        label: function label(ctx) {\n          return 'Zur Zwischenbilanz';\n        }\n      }]\n    }, {\n      id: 2,\n      body: function body(ctx) {\n        return [\"Oh! Haben Sie noch Lust die Gutachten zu diesem Thema zu beantworten. Es ist uns wirklich ein Anliegen, dass m\\xF6glichst viele dabei teilnehmen.\"];\n      },\n      condition: function condition(ctx) {\n        return !ctx.VAAQuestionStagesAlerted.length && ctx.milestoneSALIENCE && !ctx.peerreviewCompleted;\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.milestone(\"SALIENCE\", 3);\n          ctx.$root.scrollToAnchor('PEERREVIEW');\n        },\n        label: function label(ctx) {\n          return 'Zu den Gutachten.';\n        }\n      }]\n    }, {\n      id: 2,\n      body: function body(ctx) {\n        return [\"Wunderbar! Sie k\\xF6nnen sich nun noch weitere Themenfelder anschauen oder direkt zur 'Zwischenbilanz' wechseln.\"];\n      },\n      condition: function condition(ctx) {\n        return !ctx.VAAQuestionStagesAlerted.length && ctx.milestoneSALIENCE && ctx.peerreviewCompleted;\n      },\n      buttons: [{\n        action: function action(ctx) {\n          ctx.$root.scrollToAnchor('TOPICSELECTION');\n        },\n        label: function label(ctx) {\n          return 'Zurück zur Themenwahl';\n        }\n      }, {\n        action: function action(ctx) {\n          ctx.gotoStage(ctx.next_scheduled_stage);\n        },\n        label: function label(ctx) {\n          return 'Zur Zwischenbilanz';\n        }\n      }]\n    }]\n  }\n};\n/* harmony default export */ var ArtificialModeration = (AMs);\n// EXTERNAL MODULE: ./src/components/artificial_moderation/ArtificialModeration.vue + 4 modules\nvar artificial_moderation_ArtificialModeration = __webpack_require__(\"836c\");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"2f62\");\n\n// EXTERNAL MODULE: ./src/utils/constants.js\nvar constants = __webpack_require__(\"c9d9\");\n\n// EXTERNAL MODULE: ./src/utils/eventbus.js\nvar eventbus = __webpack_require__(\"c75e\");\n\n// EXTERNAL MODULE: ./src/components/charts/ChartBar.vue + 7 modules\nvar ChartBar = __webpack_require__(\"00ef\");\n\n// EXTERNAL MODULE: ./src/mixins/content.js\nvar content = __webpack_require__(\"9fd8\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/QUESTIONS/components/TopicSelector.vue?vue&type=template&id=c32f3a72&scoped=true&\nvar TopicSelectorvue_type_template_id_c32f3a72_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row justify-between  q-ma-none q-pa-none\"},[_c('q-carousel',{class:{'full-width customSelector rounded-borders': true, 'disabledCustomSelector': _vm.disabled},attrs:{\"value\":_vm.value,\"animated\":\"\",\"transition-prev\":\"slide-right\",\"transition-next\":\"slide-left\",\"control-type\":\"unelevated\",\"infinite\":\"\",\"navigation\":!_vm.disabled,\"swipeable\":!_vm.disabled,\"arrows\":!_vm.disabled,\"navigation-icon\":\"mdi-checkbox-blank-circle\",\"navigation-active-icon\":\"mdi-checkbox-circle\",\"padding\":\"\",\"control-color\":\"profilecolor\"},on:{\"input\":_vm.input}},[(!_vm.topicID)?_c('q-carousel-slide',{key:\"topic-content\",staticClass:\"profilecolor column no-wrap flex-center\",attrs:{\"name\":\"index\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-routes\",\"size\":\"xl\"}}),_c('div',{staticClass:\"q-mt-md text-center\",staticStyle:{\"font-size\":\"1.3rem\"}},[_vm._v(\"\\n        Bitte wählen Sie mit\"),_c('br'),_vm._v(\"den Pfeilen ein Thema aus!\\n      \")])],1):_vm._e(),_vm._l((_vm.topics),function(topic){return _c('q-carousel-slide',{key:(\"topic-\" + (topic.content.id)),staticClass:\"column no-wrap flex-center\",attrs:{\"name\":topic.content.id}},[_c('q-card',{staticClass:\"q-ma-none q-pa-none head-card\",attrs:{\"flat\":\"\"}},[_c('br'),_c('q-card-section',{staticClass:\"bg-profilecolor\",style:(\" color:#fff;\")},[_c('q-avatar',{staticClass:\"absolute\",staticStyle:{\"top\":\"0\",\"right\":\"12px\",\"transform\":\"translateY(-50%)\"},attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"icon\":\"mdi-sign-direction\"}}),_c('div',{staticClass:\"row no-wrap items-center\"},[_c('div',{staticClass:\"col text-h2\"},[_vm._v(\"\\n              \"+_vm._s(topic.content.title)+\"\\n              \"),(_vm.nof_contents_to_peerreview)?_c('div',{staticClass:\"text-subtitle1\"},[_c('q-icon',{attrs:{\"size\":\"md\",\"name\":\"mdi-scale-balance\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.nof_contents_to_peerreview)+\" \"+_vm._s(_vm.nof_contents_to_peerreview==1 ? 'hängiges' : 'hängige')+\" Gutachten\\n              \")],1):_vm._e(),(_vm.nofSalienceUncompleted)?_c('div',{staticClass:\"text-subtitle1\"},[_c('q-icon',{attrs:{\"name\":\"mdi-thumb-down\"}}),_c('q-icon',{attrs:{\"name\":\"mdi-thumb-up\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.nofSalienceUncompleted)+\" unbewertete \"+_vm._s(_vm.nofSalienceUncompleted==1 ? 'smartvote-Frage' : 'smartvote-Fragen')+\"\\n\\n              \")],1):_vm._e()])])],1),_c('q-card-section',{staticClass:\"q-pt-none q-ma-md\"},[_c('div',{staticClass:\"grey\"},[_vm._v(\"\\n            \"+_vm._s(topic.content.text)+\"\\n          \")])]),_c('q-card-section',{staticClass:\"q-pt-none q-ma-md\"},[(topic.progression && topic.progression.last_interaction)?_c('div',{staticClass:\"text-caption text-grey\"},[_vm._v(\"\\n            Letzter Besuch: \"+_vm._s(_vm._f(\"formatTimeLeft\")(topic.progression.last_interaction))+\"\\n          \")]):_vm._e()])],1)],1)})],2)],1)}\nvar TopicSelectorvue_type_template_id_c32f3a72_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/components/TopicSelector.vue?vue&type=template&id=c32f3a72&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.for-each.js\nvar es_array_for_each = __webpack_require__(\"4160\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(\"159b\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/QUESTIONS/components/TopicSelector.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var TopicSelectorvue_type_script_lang_js_ = ({\n  name: \"VAATopicSelector\",\n  props: [\"topicID\", \"disabled\", \"nofSalienceUncompleted\"],\n  inject: [\"CONTENTTREE\"],\n  computed: objectSpread2_default()({\n    topics: function topics() {\n      var _this = this;\n\n      var elements = [];\n      this.CONTENTTREE.rootElements.forEach(function (x) {\n        elements = _this.$pushSorted(elements, x);\n      });\n      return elements;\n    },\n    value: function value() {\n      return this.topicID ? parseInt(this.topicID) : \"index\";\n    },\n    // vaacolor() {\n    //   const color = this.public_profile ? this.public_profile.CO : \"grey\";\n    //   return color;\n    // },\n    nof_contents_to_peerreview: function nof_contents_to_peerreview() {\n      var _this2 = this;\n\n      if (!this.$loaded(this.contents_to_peerreview)) {\n        return null;\n      }\n\n      var to_respond = Object.values(this.contents_to_peerreview).filter(function (peerreviews) {\n        return !_this2.$loaded(peerreviews[0].progression.response);\n      });\n      return to_respond.length;\n    },\n    nof_peerreview_assigned: function nof_peerreview_assigned() {\n      if (!this.$loaded(this.contents_to_peerreview)) {\n        return null;\n      }\n\n      return Object.keys(this.contents_to_peerreview).length;\n    },\n    contents_to_peerreview: function contents_to_peerreview() {\n      if (!this.topicID) {\n        return {};\n      }\n\n      var peerreviews = this.get_user_peerreviews_by_parent_and_content;\n\n      if (!this.$loaded(peerreviews)) {\n        return null;\n      }\n\n      if (this.topicID && peerreviews[this.topicID]) {\n        return peerreviews[this.topicID];\n      } else {\n        return {};\n      }\n    }\n  }, Object(vuex_esm[\"c\" /* mapGetters */])({\n    get_user_peerreviews_by_parent_and_content: \"peerreviewstore/get_user_peerreviews_by_parent_and_content\"\n  })),\n  methods: {\n    input: function input(topicID) {\n      this.$emit(\"input\", topicID == \"index\" ? null : topicID);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/components/TopicSelector.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_TopicSelectorvue_type_script_lang_js_ = (TopicSelectorvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/plugins/VAA/QUESTIONS/components/TopicSelector.vue?vue&type=style&index=0&id=c32f3a72&scoped=true&lang=css&\nvar TopicSelectorvue_type_style_index_0_id_c32f3a72_scoped_true_lang_css_ = __webpack_require__(\"d828\");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/carousel/QCarousel.js\nvar QCarousel = __webpack_require__(\"880c\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/carousel/QCarouselSlide.js\nvar QCarouselSlide = __webpack_require__(\"62cd\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/avatar/QAvatar.js\nvar QAvatar = __webpack_require__(\"cb32\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/components/TopicSelector.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_TopicSelectorvue_type_script_lang_js_,\n  TopicSelectorvue_type_template_id_c32f3a72_scoped_true_render,\n  TopicSelectorvue_type_template_id_c32f3a72_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"c32f3a72\",\n  null\n  \n)\n\n/* harmony default export */ var TopicSelector = (component.exports);\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QCarousel: QCarousel[\"a\" /* default */],QCarouselSlide: QCarouselSlide[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QAvatar: QAvatar[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/QUESTIONS/components/ProposeVAAQuestion.vue?vue&type=template&id=5f42ce48&\nvar ProposeVAAQuestionvue_type_template_id_5f42ce48_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-expansion-item',{attrs:{\"popup\":\"\",\"value\":_vm.showProposeForm,\"icon\":\"mdi-sticker-plus-outline\"},on:{\"input\":_vm.toggleProposeForm},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-lightbulb-outline\",\"size\":\"md\"}})],1),_c('q-item-section',[_c('q-item-label',[_vm._v(\"\\n        Neuer Antrag für eine smartvote-Frage einreichen \")]),_c('q-item-label',{attrs:{\"caption\":\"\"}},[_vm._v(\"\\n        Welcher Aspekt des Themas '\"+_vm._s(_vm.topic.content.title)+\"' ist für Sie wichtig aber fehlt in der obigen Fragenliste?\\n      \")])],1),_c('a',{attrs:{\"name\":\"NEWPROPOSAL\"}})]},proxy:true}])},[(_vm.showProposeForm)?_c('q-card',[_c('br'),(_vm.CONTENTTREE.limitForAddingProposalsReached)?_c('q-card-section',{staticClass:\"q-mb-md q-ml-md text-notification\"},[_vm._v(\"\\n\\n      Sie haben heute schon \"+_vm._s(_vm.dailyContributionLimits.current)+\" Anträge eingereicht. Damit haben Sie die Tageslimite erreicht.\\n      Ab morgen früh können Sie wieder neue Anträge stellen.\\n    \")]):_vm._e(),(_vm.newlyEnteredContent || !_vm.CONTENTTREE.limitForAddingProposalsReached)?_c('q-card-section',{staticClass:\"q-mb-md q-ml-md \"},[_c('q-form',{staticClass:\"q-gutter-md\",on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_vm._v(\"\\n        Bitte bestätigen Sie, dass...\"),_c('br'),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"label\":\"Ihre Frage so oder ähnlich noch nicht oben aufgelistet ist.\"},model:{value:(_vm.accept1),callback:function ($$v) {_vm.accept1=$$v},expression:\"accept1\"}}),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"label\":(\"Ihr Vorschlag zum Thema '\" + (_vm.topic.content.title) + \"' passt.\")},model:{value:(_vm.accept2),callback:function ($$v) {_vm.accept2=$$v},expression:\"accept2\"}}),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"label\":\"Sie die smartvote-Hinweise gelesen haben.\"},model:{value:(_vm.accept3),callback:function ($$v) {_vm.accept3=$$v},expression:\"accept3\"}}),_c('SmartvoteCriteria'),_c('q-input',{attrs:{\"filled\":\"\",\"label\":\"Ihre Frage an die Kandidierenden *\",\"hint\":\"Häufige Formulierungen lauten etwa:\\n            'Soll das Gesetz XY geändert werden?' oder 'Unterstützen Sie die Einführung von XY?'\",\"lazy-rules\":\"\",\"rules\":[ function (val) { return val && val.length > 0 || 'Geben Sie hier die smartvote-Frage ein.'; }]},model:{value:(_vm.localmodel.title),callback:function ($$v) {_vm.$set(_vm.localmodel, \"title\", $$v)},expression:\"localmodel.title\"}}),_c('br'),_c('q-input',{attrs:{\"filled\":\"\",\"label\":\"Warum ist die Frage wichtig *\",\"type\":\"textarea\",\"lazy-rules\":\"\",\"rules\":[\n        function (val) { return val !== null && val !== '' || 'Erläutern Sie den Hintergrund zu Ihrer Frage.'; },\n        function (val) { return val && val.length > 0 && val.length < 3000 || \"Die Beschreibung muss zwischen 0 und 3000 Zeichen lang sein.\"; }\n      ]},model:{value:(_vm.localmodel.text),callback:function ($$v) {_vm.$set(_vm.localmodel, \"text\", $$v)},expression:\"localmodel.text\"}}),_c('p',[_vm._v(\" Hinweis: Sie können maximal \"+_vm._s(_vm.dailyContributionLimits.daylimit)+\" Anträge pro Tag einreichen. \"),(_vm.dailyContributionLimits.current)?_c('span',[_vm._v(\"Sie haben bereits \"+_vm._s(_vm.dailyContributionLimits.current)+\" eingefügt.\")]):_vm._e()]),_c('div',[_c('q-btn',{attrs:{\"label\":\"Vorschlag einreichen\",\"type\":\"submit\",\"color\":\"primary\"}}),_c('q-btn',{staticClass:\"q-ml-sm\",attrs:{\"label\":\"Schliessen\",\"type\":\"reset\",\"color\":\"primary\",\"flat\":\"\"}})],1)],1),(_vm.newlyEnteredContent && _vm.newlyEnteredContent.content)?_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.showSalienceDialog),callback:function ($$v) {_vm.showSalienceDialog=$$v},expression:\"showSalienceDialog\"}},[_c('q-card',{staticStyle:{\"min-width\":\"350px\"}},[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Ihre Frage '\"+_vm._s(_vm.newlyEnteredContent.content.title)+\"' wurde gespeichert gespeichert\")]),_c('p',[_vm._v(\"\\n              Bestimmt ist diese Frage für Sie sehr bedeutend. Doch wie sehr bedeutend ist sie?\\n            \")]),_vm._v(\"\\n            \"+_vm._s(_vm.newlyEnteredContent.progression.salience)+\"\\n            \"),_c('ContentSalienceSlider',{attrs:{\"content\":_vm.newlyEnteredContent,\"instruction\":\"\"}})],1),_c('q-card-actions',{staticClass:\"q-ma-lg\",attrs:{\"align\":\"right\"}},[_c('q-btn',{on:{\"click\":_vm.closeSalienceDialog}},[_vm._v(\"Absenden\")])],1)],1)],1):_vm._e()],1):_vm._e()],1):_vm._e()],1)}\nvar ProposeVAAQuestionvue_type_template_id_5f42ce48_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/components/ProposeVAAQuestion.vue?vue&type=template&id=5f42ce48&\n\n// EXTERNAL MODULE: ./src/utils/api.js\nvar api = __webpack_require__(\"7c15\");\n\n// EXTERNAL MODULE: ./src/store/runtime.store.js\nvar runtime_store = __webpack_require__(\"9651\");\n\n// EXTERNAL MODULE: ./src/plugins/VAA/components/SmartvoteCriteria.vue + 4 modules\nvar SmartvoteCriteria = __webpack_require__(\"4e00\");\n\n// EXTERNAL MODULE: ./src/pages/ContentTree/components/ContentSalienceSlider.vue + 4 modules\nvar ContentSalienceSlider = __webpack_require__(\"2301\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/QUESTIONS/components/ProposeVAAQuestion.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var ProposeVAAQuestionvue_type_script_lang_js_ = ({\n  name: \"ProposeVAAQuestion\",\n  inject: [\"CONTENTTREE\", \"getDailyContributionLimits\", \"markDiscussed\"],\n  data: function data() {\n    return {\n      showSalienceDialog: false,\n      newlyEnteredContent: null,\n      localmodel: {\n        title: \"\",\n        text: \"\",\n        type: \"VAA_QUESTION\",\n        parent_id: null\n      },\n      accept1: false,\n      accept2: false,\n      accept3: false // isShownProposeForm: false,\n\n    };\n  },\n  components: {\n    ContentSalienceSlider: ContentSalienceSlider[\"a\" /* default */],\n    SmartvoteCriteria: SmartvoteCriteria[\"a\" /* default */]\n  },\n  props: [\"topic\", \"showProposeForm\"],\n  computed: {\n    dailyContributionLimits: function dailyContributionLimits() {\n      var limits = this.getDailyContributionLimits();\n      return limits.number_of_proposals;\n    }\n  },\n  methods: objectSpread2_default()(objectSpread2_default()({\n    hideProposeForm: function hideProposeForm() {\n      // this.showProposeForm = false;\n      this.$emit(\"toggle\", false);\n    },\n    toggleProposeForm: function toggleProposeForm() {\n      this.$emit(\"toggle\", !this.showProposeForm);\n    },\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      if (!this.accept1) {\n        this.$q.notify({\n          type: \"nFabrikWarning\",\n          message: \"Sie müssen bestätigen, dass die Frage nicht bereits so oder ähnlich im Katalog drin ist. (Scrollen hoch zur Fragenliste um dies zu überprüfen.)\"\n        });\n      }\n\n      if (!this.accept2) {\n        this.$q.notify({\n          type: \"nFabrikWarning\",\n          message: \"Sie m\\xFCssen best\\xE4tigen, dass die Frage zum aktuell ausgew\\xE4hlten Thema '\".concat(this.topic.content.title, \"' geh\\xF6rt.)\")\n        });\n      }\n\n      if (!this.accept3) {\n        this.$q.notify({\n          type: \"nFabrikWarning\",\n          message: \"Sie müssen bestätigen, dass Sie die smartvote-Kriterien gelesen haben.)\"\n        });\n      }\n\n      if (this.accept1 && this.accept2 && this.accept3) {\n        // MARK TOPIC AS DISCUSSED\n        this.markDiscussed(this.topic); // RPOPOSE\n\n        console.log(\"Propose new SV-Question\");\n        var assemblyIdentifier = runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier;\n        this.localmodel.parent_id = this.topic.content.id;\n        console.assert(this.localmodel.parent_id);\n        console.assert(this.CONTENTTREE.contenttreeID);\n        console.assert(assemblyIdentifier);\n        api[\"a\" /* default */].proposeContent(assemblyIdentifier, parseInt(this.CONTENTTREE.contenttreeID), this.localmodel).then(function (response) {\n          console.log(response.data);\n          console.log(\"Model saved\"); // ERROR RESPONSE\n\n          if (response.data.OK) {\n            // Update Vuex Store\n            console.assert(\"content\" in response.data);\n            console.log(\"SEND TO VUEX\", response.data.content);\n\n            _this.update_content({\n              contentTuple: response.data.content\n            });\n\n            _this.$store.dispatch(\"peerreviewstore/updatePeerreviewTuple\", {\n              peerreviewTuple: response.data.peerreview\n            });\n\n            _this.$store.dispatch(\"assemblystore/incrementAssemblyActivityCounter\", {\n              counterName: \"number_of_proposals_today\"\n            }); // Success Message.\n\n\n            _this.$q.notify({\n              type: \"nFabrikInfo\",\n              message: \"Der Antrag wurde eingereicht.\"\n            });\n\n            _this.newlyEnteredContent = response.data.content;\n            _this.showSalienceDialog = true;\n          } else {\n            // Error Message\n            _this.$q.notify({\n              type: \"nFabrikError\",\n              message: \"Das Formular konnte nicht verarbeitet werden. Bitte informieren Sie die Veranstalter.\"\n            });\n          }\n        }).catch(function (error) {\n          console.warn(error);\n\n          _this.$q.notify({\n            type: \"nFabrikError\",\n            message: \"Das Formular konnte nicht verarbeitet werden. Bitte informieren Sie die Veranstalter.\"\n          }); // Error Handling is done in Axios Interceptor\n\n        });\n      }\n    }\n  }, Object(vuex_esm[\"b\" /* mapActions */])({\n    update_content: \"contentstore/update_content\"\n  })), {}, {\n    closeDialog: function closeDialog() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.hideProposeForm();\n      }, 10);\n    },\n    closeSalienceDialog: function closeSalienceDialog() {\n      this.update_content({\n        contentTuple: this.newlyEnteredContent\n      });\n      this.showSalienceDialog = false;\n      this.newlyEnteredContent = null;\n      this.onReset();\n    },\n    onReset: function onReset() {\n      this.accept1 = false;\n      this.accept2 = false;\n      this.accept3 = false;\n      this.newlyEnteredContent = null;\n      this.localmodel.title = \"\";\n      this.localmodel.text = \"\";\n      this.smartvoteHintsDialog = false;\n      this.closeDialog();\n    }\n  }),\n  created: function created() {// this.newlyEnteredContent = this.topic;\n  }\n});\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/components/ProposeVAAQuestion.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_ProposeVAAQuestionvue_type_script_lang_js_ = (ProposeVAAQuestionvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/expansion-item/QExpansionItem.js\nvar QExpansionItem = __webpack_require__(\"3b73\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemSection.js\nvar QItemSection = __webpack_require__(\"4074\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemLabel.js\nvar QItemLabel = __webpack_require__(\"0170\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/form/QForm.js\nvar QForm = __webpack_require__(\"0378\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/toggle/QToggle.js\nvar QToggle = __webpack_require__(\"9564\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 2 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js + 2 modules\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/components/ProposeVAAQuestion.vue\n\n\n\n\n\n/* normalize component */\n\nvar ProposeVAAQuestion_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_ProposeVAAQuestionvue_type_script_lang_js_,\n  ProposeVAAQuestionvue_type_template_id_5f42ce48_render,\n  ProposeVAAQuestionvue_type_template_id_5f42ce48_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ProposeVAAQuestion = (ProposeVAAQuestion_component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(ProposeVAAQuestion_component, 'components', {QExpansionItem: QExpansionItem[\"a\" /* default */],QItemSection: QItemSection[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QItemLabel: QItemLabel[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QForm: QForm[\"a\" /* default */],QToggle: QToggle[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */]});\n\n// EXTERNAL MODULE: ./src/plugins/VAA/components/SalienceList.vue + 14 modules\nvar SalienceList = __webpack_require__(\"ef04\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/components/PeerReviewListItem.vue?vue&type=template&id=7478bb70&scoped=true&\nvar PeerReviewListItemvue_type_template_id_7478bb70_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-expansion-item',{ref:\"expandable\",attrs:{\"group\":'accordeon',\"popup\":\"\",\"header-class\":['text-primary', 'text-h6',  _vm.expanded ? 'bg-grey-3': (!_vm.peerreviewCompleted ? 'bg-orange' : '')]},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-icon',{attrs:{\"size\":\"md\",\"name\":\"mdi-scale-balance\"}}),(_vm.peerreviewCompleted)?_c('q-badge',{staticStyle:{\"position\":\"relative\",\"top\":\"-1em\"},attrs:{\"color\":\"green\"}},[_c('q-icon',{attrs:{\"name\":\"mdi-check\",\"size\":\"1.2em\"}})],1):_vm._e(),(_vm.firstPeerreview.peerreview.approved)?_c('span',{staticClass:\"\\n          finalized_peerreview approved\"},[_vm._v(\"Angenommen\"),_c('br')]):_vm._e(),(_vm.firstPeerreview.peerreview.rejected)?_c('span',{staticClass:\"\\n          finalized_peerreview rejected\"},[_vm._v(\"Abgelehnt\"),_c('br')]):_vm._e()],1),_c('q-item-section',[(_vm.isInsertProposal)?_c('q-item-label',[_vm._v(\"\\n        Gutachten #\"+_vm._s(_vm.firstPeerreview.peerreview.id)+\": Vorschlag für eine neue Frage\\n      \")]):_c('q-item-label',[_vm._v(\"\\n        Gutachten #\"+_vm._s(_vm.firstPeerreview.peerreview.id)+\": \"+_vm._s(_vm.peerreviews.length > 1 ? \"Verbesserungsanträge\" : \"Verbesserungsantrag\")+\"\\n      \")]),(_vm.peerreviewCompleted)?_c('q-item-label',{attrs:{\"caption\":\"\"}},[_vm._v(\"\\n        Ihre Antwort: \"+_vm._s(_vm.translateResponse(_vm.firstPeerreview.progression))+\"\\n      \")]):_vm._e()],1),_c('a',{attrs:{\"name\":(\"PEERREVIEW\" + (_vm.firstPeerreview.peerreview.id))}})]},proxy:true}]),model:{value:(_vm.expanded),callback:function ($$v) {_vm.expanded=$$v},expression:\"expanded\"}},[(_vm.expanded)?_c('q-card',[_c('q-tabs',{staticClass:\"bg-grey-3\",attrs:{\"dense\":\"\",\"active-color\":\"primary\",\"indicator-color\":\"primary\",\"align\":\"justify\",\"narrow-indicator\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('q-tab',{attrs:{\"name\":\"default\",\"icon\":\"mdi-text-search\",\"label\":\"Ihr Urteil\"}},[(!_vm.peerreviewCompleted)?_c('q-badge',{staticClass:\"absolute\",staticStyle:{\"left\":\"20px\",\"width\":\"15px\"},attrs:{\"color\":\"orange\"}},[_c('q-tooltip',[_vm._v(\"Möchten Sie diesen Antrag gutheissen?\")]),_vm._v(\"\\n          !\\n        \")],1):_vm._e()],1),_c('q-tab',{attrs:{\"name\":\"discussion\",\"icon\":\"mdi-comment-text-multiple\",\"label\":(\"Diskussion \" + (_vm.nofDescendants ? '('+_vm.nofDescendants+')': ''))}}),_c('q-tab',{attrs:{\"name\":\"peerreviews\",\"icon\":\"mdi-scale-balance\",\"label\":\"Verlauf\"}})],1),_c('q-separator'),_c('q-tab-panels',{attrs:{\"animated\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('q-tab-panel',{attrs:{\"name\":\"default\"}},[(_vm.peerreviewFinalized)?_c('q-card-section',[_c('div',{staticClass:\"text-notification\"},[_vm._v(\"Die Entscheidung ist gefallen. Dieses Gutachten wurde \"+_vm._s(_vm.firstPeerreview.peerreview.rejected ? 'abgelehnt' : 'angenommen'))]),_c('br'),_c('br')]):_vm._e(),_c('q-card-section',{staticClass:\"text-h4 q-pa-md\"},[(_vm.isInsertProposal)?_c('div',[_vm._v(\"Neuer Fragenvorschlag:\")]):_vm._e(),(!_vm.isInsertProposal)?_c('div',[_vm._v(\"\\n            Vorgeschlagene Änderung:\\n          \")]):_vm._e()]),(_vm.isInsertProposal)?_c('q-card-section',{staticClass:\"q-mb-md q-ml-md \",staticStyle:{\"border-left\":\"1px solid grey\"}},[_c('div',{staticClass:\"text-h4 q-pa-md\"},[_vm._v(_vm._s(_vm.firstPeerreview.content.title))]),_c('div',{staticClass:\"q-pa-md\"},[_c('div',[_c('b',[_vm._v(\"Warum wird die Frage als wichtig errachtet?\")]),_c('br'),_vm._v(_vm._s(_vm.firstPeerreview.content.text))])])]):_vm._e(),(!_vm.isInsertProposal)?_c('q-card-section',{staticClass:\"q-mb-md q-ml-md\"},[(!_vm.titleChanges)?_c('p',[_vm._v(\"Betrifft die Frage: \"+_vm._s(_vm.firstPeerreview.content.title))]):_vm._e(),_c('q-splitter',{attrs:{\"horizontal\":_vm.$q.screen.lt.md},scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"text-h6 q-mb-md \"},[_vm._v(\"BISHER\")]),(_vm.titleChanges)?_c('div',[_c('b',[_vm._v(\"Frage:\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstPeerreview.content.title)),_c('br'),_c('br')]):_vm._e(),(_vm.textChanges)?_c('div',[_c('b',[_vm._v(\"Warum ist die Frage wichtig:\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstPeerreview.content.text))]):_vm._e()])]},proxy:true},{key:\"after\",fn:function(){return [_c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"text-h6 q-mb-md\"},[_vm._v(\"VORSCHLAG\")]),(_vm.titleChanges)?_c('div',[_c('b',[_vm._v(\"Frage:\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstPeerreview.peerreview.data_to_apply_on_success.title)+\" \"),_c('br'),_c('br')]):_vm._e(),(_vm.textChanges)?_c('div',[_c('b',[_vm._v(\"Warum ist die Frage wichtig:\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstPeerreview.peerreview.data_to_apply_on_success.text))]):_vm._e()])]},proxy:true}],null,false,2733417761),model:{value:(_vm.splitterModel),callback:function ($$v) {_vm.splitterModel=$$v},expression:\"splitterModel\"}})],1):_vm._e(),(_vm.isInsertProposal)?_c('q-card-section',{class:!_vm.acceptAllAccept ? 'bg-orange-4' : ''},[_c('div',{staticClass:\"text-h4\"},[_vm._v(\"Formale Kriterien\")]),_vm._v(\"\\n          Trifft folgendes auf den Vorschlag zu \"),_c('q-icon',{attrs:{\"name\":\"mdi-thumb-up\"}}),_vm._v(\" oder trifft es nicht zu \"),_c('q-icon',{attrs:{\"name\":\"mdi-thumb-down\"}}),_vm._v(\"?\"),_c('br'),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"disable\":_vm.peerreviewFinalized,\"color\":\"green\",\"size\":\"lg\",\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",\"label\":\"Die vorgeschlagene Frage ist noch nicht - so oder ähnlich - oben im Fragenkatalog drin.\"},model:{value:(_vm.accept1),callback:function ($$v) {_vm.accept1=$$v},expression:\"accept1\"}}),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"disable\":_vm.peerreviewFinalized,\"size\":\"lg\",\"color\":\"green\",\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",\"label\":(\"Die vorgeschlagene Frge passt zum Thema '\" + (_vm.topic.content.title) + \"'.\")},model:{value:(_vm.accept2),callback:function ($$v) {_vm.accept2=$$v},expression:\"accept2\"}}),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"checked-icon\":\"mdi-thumb-up\",\"disable\":_vm.peerreviewFinalized,\"size\":\"lg\",\"color\":\"green\",\"unchecked-icon\":\"mdi-thumb-down\",\"label\":\"Der geänderte Beitrag entspricht den smartvote-Kriterien.\"},model:{value:(_vm.accept3),callback:function ($$v) {_vm.accept3=$$v},expression:\"accept3\"}}),_c('SmartvoteCriteria')],1):_vm._e(),(!_vm.isInsertProposal)?_c('q-card-section',{class:!_vm.acceptAllAccept ? 'bg-orange-4' : ''},[_c('div',{staticClass:\"text-h4\"},[_vm._v(\"Formale Kriterien\")]),_vm._v(\"\\n\\n          Trifft folgendes auf den Vorschlag zu?\"),_c('br'),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"color\":\"green\",\"size\":\"lg\",\"disable\":_vm.peerreviewFinalized,\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",\"label\":\"Die ursprüngliche Idee der Frage bleibt erhalten.\"},model:{value:(_vm.accept1),callback:function ($$v) {_vm.accept1=$$v},expression:\"accept1\"}}),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"disable\":_vm.peerreviewFinalized,\"size\":\"lg\",\"color\":\"green\",\"checked-icon\":\"mdi-thumb-up\",\"unchecked-icon\":\"mdi-thumb-down\",\"label\":\"die Änderung ist nach bestem Wissen und Gewissen eine Verbesserung der Frage.\"},model:{value:(_vm.accept2),callback:function ($$v) {_vm.accept2=$$v},expression:\"accept2\"}}),_c('q-toggle',{staticClass:\"q-ma-none\",attrs:{\"disable\":_vm.peerreviewFinalized,\"checked-icon\":\"mdi-thumb-up\",\"size\":\"lg\",\"color\":\"green\",\"unchecked-icon\":\"mdi-thumb-down\",\"label\":\"Der geänderte Beitrag entspricht den smartvote-Kriterien.\"},model:{value:(_vm.accept3),callback:function ($$v) {_vm.accept3=$$v},expression:\"accept3\"}}),_c('SmartvoteCriteria')],1):_vm._e(),(_vm.acceptAllAccept)?_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"text-h4\"},[_vm._v(\"Ihre Antwort\")]),_vm._v(\"\\n\\n          \"+_vm._s(_vm.reviewInstruction)+\"\\n          \"),_c('PeerReviewResponse',{ref:\"previewResponse\",attrs:{\"peerreview\":_vm.firstPeerreview,\"instruction\":\"\",\"accept1\":_vm.accept1,\"accept2\":_vm.accept2,\"accept3\":_vm.accept3}})],1):_vm._e(),(_vm.isInsertProposal && (_vm.$refs.previewResponse && !_vm.$refs.previewResponse.noneResponse))?_c('q-card-section',{staticClass:\"q-ml-md\"},[_c('div',{staticClass:\"text-h4\"},[_vm._v(\"Bewertung\")]),_vm._v(\"\\n          \"+_vm._s(_vm.salienceInstruction)+\"\\n          \"),_c('ContentSalienceSlider',{attrs:{\"content\":_vm.contentTreeContent,\"instruction\":\"\"}})],1):_vm._e()],1),(_vm.tab == 'discussion')?_c('q-tab-panel',{attrs:{\"name\":\"discussion\"}},[_c('br'),_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Diskussion über diesen Antrag\")]),_c('p',[_vm._v(\"Sie können hier die bisherige Diskussion zum Vorschlag nachverfolgen und Ihre Überlegungen mit anderen teilen:\")]),_vm._v(\"\\n\\n        \"+_vm._s(_vm.isInsertProposal)+\"\\n        \"),(_vm.firstDiscussionContent)?_c('DefaultDiscussionBlock',{attrs:{\"node\":_vm.firstDiscussionContent,\"discussionBlockLabel\":_vm.isInsertProposal ? 'Diskussion zur vorgeschlagenenen Frage' : 'Diskussion zum Verbesserungsvorschlag',\"customAM\":_vm.AMs.indexTopPeerReview,\"alwaysExpanded\":true,\"ctx\":this}}):_vm._e(),(!_vm.firstDiscussionContent)?_c('p',{staticClass:\"text-notification\"},[_vm._v(\"Das Forum kann aktuell nicht geöffnet werden. Da ist ein Fehler aufgetreten.\")]):_vm._e()],1):_vm._e(),(_vm.tab == 'peerreviews')?_c('q-tab-panel',{attrs:{\"name\":\"peerreviews\"}},[_c('PeerReviewHistory',{attrs:{\"contentID\":_vm.firstPeerreview.content.id}})],1):_vm._e()],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{attrs:{\"icon\":\"mdi-chevron-up\",\"flat\":\"\",\"right\":\"\"},on:{\"click\":_vm.closeExpandedItem}},[_vm._v(\"Gutachten schliessen\\n        \"),_c('q-tooltip',[_vm._v(\"So bekommen Sie wieder den Überblick über die ganze Liste.\")])],1)],1)],1):_vm._e()],1)}\nvar PeerReviewListItemvue_type_template_id_7478bb70_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/plugins/VAA/components/PeerReviewListItem.vue?vue&type=template&id=7478bb70&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/toConsumableArray.js\nvar toConsumableArray = __webpack_require__(\"448a\");\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/ContentTree/components/PeerReviewResponse.vue?vue&type=template&id=6b7c17fb&\nvar PeerReviewResponsevue_type_template_id_6b7c17fb_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.noneAccepted)?_c('q-card-section',{staticClass:\"q-pa-lg q-ma-sm full-width cursor-pointer\",class:_vm.noneResponse ? 'bg-orange-4' : '',attrs:{\"vertical\":\"\",\"align\":\"center\"}},[_c('q-btn-toggle',{staticClass:\"bg-grey-3 \",attrs:{\"unelevated\":\"\",\"spread\":\"\",\"disable\":_vm.peerreviewFinalized,\"indeterminate-value\":null,\"label\":\"Bewertung\",\"size\":\"1.4em\",\"options\":_vm.buttons},on:{\"!input\":function($event){return _vm.debouncedInitSet($event)}},model:{value:(_vm.progression_response),callback:function ($$v) {_vm.progression_response=$$v},expression:\"progression_response\"}})],1):_vm._e()}\nvar PeerReviewResponsevue_type_template_id_6b7c17fb_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/ContentTree/components/PeerReviewResponse.vue?vue&type=template&id=6b7c17fb&\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/ContentTree/components/PeerReviewResponse.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n;\n\n/* harmony default export */ var PeerReviewResponsevue_type_script_lang_js_ = ({\n  name: \"PeerReviewResponse\",\n  props: [\"peerreview\", \"acceptDisabled\", \"accept1\", \"accept2\", \"accept3\"],\n  data: function data() {\n    return {\n      // TODO: do we need zero as starting value?\n      progression_response: null\n    };\n  },\n  computed: {\n    buttons: function buttons() {\n      return [{\n        value: true,\n        slot: \"one\",\n        toggleColor: \"green\",\n        textColor: \"grey-7\",\n        // disable: this.acceptDisabled,\n        label: \"Annehmen\"\n      }, {\n        value: false,\n        toggleColor: \"red\",\n        textColor: \"grey-7\",\n        label: \"Ablehnen\"\n      }];\n    },\n    noneAccepted: function noneAccepted() {\n      return this.accept1 == null || this.accept2 == null || this.accept3 == null;\n    },\n    noneResponse: function noneResponse() {\n      return !this.$loaded(this.progression_response);\n    },\n    peerreviewFinalized: function peerreviewFinalized() {\n      // Rejected or Approved by majority of peerreview group!\n      return this.peerreview.peerreview.approved || this.peerreview.peerreview.rejected;\n    }\n  },\n  methods: objectSpread2_default()({\n    initSet: function initSet() {\n      console.assert(this.progression_response === true || this.progression_response === false);\n\n      if (this.noneAccepted || !this.peerreview.progression) {\n        // for a review response, one must indicate all three accepted toggles\n        // and must be assigned to the peerreview => progression entry must exists..\n        console.error(\"An error occured... invalid peerreview response\", this.noneAccepted, this.peerreview.progression);\n        return null;\n      }\n\n      var data = {\n        peerreviewID: this.peerreview.peerreview.id,\n        response: this.progression_response,\n        criteria_accept1: this.accept1,\n        criteria_accept2: this.accept2,\n        criteria_accept3: this.accept3\n      };\n      console.log(\"new response received...\", this.progression_response);\n      this.$root.monitorFire(constants[\"a\" /* default */].MONITOR_SET_PEERREVIEW_RESPONSE, data); // this.$root.monitorLog(constants.MONITOR_SET_PEERREVIEW_RESPONSE, data);\n      // immediatly update saliences in vuex store (=> allows to update the dynamically generated charts)\n\n      this.update_response({\n        contenttreeID: this.peerreview.peerreview.contenttree_id,\n        peerreviewID: this.peerreview.peerreview.id,\n        response: this.progression_response,\n        accept1: this.accept1,\n        accept2: this.accept2,\n        accept3: this.accept3\n      });\n    }\n  }, Object(vuex_esm[\"b\" /* mapActions */])(\"peerreviewstore\", [\"update_response\"])),\n  created: function created() {\n    this.debouncedInitSet = Object(debounce[\"a\" /* default */])(this.initSet, 1200);\n  },\n  mounted: function mounted() {\n    if (this.peerreview && this.peerreview.progression) {\n      this.progression_response = this.peerreview.progression.response;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/ContentTree/components/PeerReviewResponse.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_PeerReviewResponsevue_type_script_lang_js_ = (PeerReviewResponsevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn-toggle/QBtnToggle.js\nvar QBtnToggle = __webpack_require__(\"6a67\");\n\n// CONCATENATED MODULE: ./src/pages/ContentTree/components/PeerReviewResponse.vue\n\n\n\n\n\n/* normalize component */\n\nvar PeerReviewResponse_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_PeerReviewResponsevue_type_script_lang_js_,\n  PeerReviewResponsevue_type_template_id_6b7c17fb_render,\n  PeerReviewResponsevue_type_template_id_6b7c17fb_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var PeerReviewResponse = (PeerReviewResponse_component.exports);\n\n\n\nruntime_auto_import_default()(PeerReviewResponse_component, 'components', {QCardSection: QCardSection[\"a\" /* default */],QBtnToggle: QBtnToggle[\"a\" /* default */]});\n\n// EXTERNAL MODULE: ./src/pages/ContentTree/components/DefaultDiscussionBlock.vue + 4 modules\nvar DefaultDiscussionBlock = __webpack_require__(\"6587\");\n\n// EXTERNAL MODULE: ./src/plugins/VAA/ArtificialModeration.js\nvar VAA_ArtificialModeration = __webpack_require__(\"64bb\");\n\n// EXTERNAL MODULE: ./src/plugins/VAA/components/PeerReviewHistory.vue + 4 modules\nvar PeerReviewHistory = __webpack_require__(\"303f\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/components/PeerReviewListItem.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ var PeerReviewListItemvue_type_script_lang_js_ = ({\n  name: \"PeerReviewListItem\",\n  data: function data() {\n    return {\n      tab: \"default\",\n      expanded: false,\n      AMs: VAA_ArtificialModeration[\"a\" /* default */],\n      accept1: null,\n      accept2: null,\n      accept3: null,\n      splitterModel: 50,\n      reviewInstruction: \"Sprechen Sie sich dafür aus, dass dieser Vorschlag angenommen wird? Versuchen Sie dabei dem gesamten, unglaublich vielseitigen Köniz gerecht zu werden.\",\n      salienceInstruction: \"Wie wichtig wäre diese vorgeschlagene Frage für Sie persönlich, um sich eine Meinung über einen Kandidatin / Kandidaten zu machen? Bitte verschieben Sie den Regler.\"\n    };\n  },\n  props: [\"topic\", \"peerreviews\"],\n  inject: [\"CONTENTTREE\"],\n  components: {\n    PeerReviewHistory: PeerReviewHistory[\"a\" /* default */],\n    SmartvoteCriteria: SmartvoteCriteria[\"a\" /* default */],\n    ContentSalienceSlider: ContentSalienceSlider[\"a\" /* default */],\n    DefaultDiscussionBlock: DefaultDiscussionBlock[\"a\" /* default */],\n    PeerReviewResponse: PeerReviewResponse\n  },\n  computed: objectSpread2_default()(objectSpread2_default()({\n    firstDiscussionContent: function firstDiscussionContent() {\n      return this.isInsertProposal ? this.firstPeerreview : this.discussionContent;\n    },\n    acceptAllAccept: function acceptAllAccept() {\n      var allAccept = !(this.accept1 == null || this.accept2 == null || this.accept3 == null);\n      return allAccept;\n    },\n    firstPeerreview: function firstPeerreview() {\n      return this.peerreviews[Object.keys(this.peerreviews)[0]];\n    },\n    isInsertProposal: function isInsertProposal() {\n      return this.firstPeerreview.peerreview.operation === \"INSERT\";\n    },\n    // isAllSalienced() {\n    //   return false;\n    // },\n    titleChanges: function titleChanges() {\n      var _this$firstPeerreview;\n\n      return this.$loaded((_this$firstPeerreview = this.firstPeerreview.peerreview) === null || _this$firstPeerreview === void 0 ? void 0 : _this$firstPeerreview.data_to_apply_on_success.title);\n    },\n    textChanges: function textChanges() {\n      var _this$firstPeerreview2;\n\n      return this.$loaded((_this$firstPeerreview2 = this.firstPeerreview.peerreview) === null || _this$firstPeerreview2 === void 0 ? void 0 : _this$firstPeerreview2.data_to_apply_on_success.text);\n    },\n    discussionContent: function discussionContent() {\n      var _this$firstPeerreview3, _this$firstPeerreview4;\n\n      if (this.isInsertProposal || !((_this$firstPeerreview3 = this.firstPeerreview.peerreview) !== null && _this$firstPeerreview3 !== void 0 && _this$firstPeerreview3.discussion_content_id)) {\n        return;\n      }\n\n      var discussionContent = this.get_content({\n        contenttreeID: this.firstPeerreview.content.contenttree_id,\n        contentID: (_this$firstPeerreview4 = this.firstPeerreview.peerreview) === null || _this$firstPeerreview4 === void 0 ? void 0 : _this$firstPeerreview4.discussion_content_id\n      });\n      return discussionContent ? discussionContent : this.firstPeerreview;\n    },\n    nofDescendants: function nofDescendants() {\n      var _this = this;\n\n      if (!this.discussionContent) {\n        return;\n      }\n\n      var descendants = Object.filter(this.CONTENTTREE.contenttree.entries, function (x) {\n        return x.content.parent_id === _this.discussionContent.content.id;\n      });\n      return Object.keys(descendants).length;\n    },\n    contentTreeContent: function contentTreeContent() {\n      var _this$firstPeerreview5;\n\n      var contentTreeContent = this.get_content({\n        contenttreeID: this.CONTENTTREE.contenttree.id,\n        contentID: (_this$firstPeerreview5 = this.firstPeerreview.peerreview) === null || _this$firstPeerreview5 === void 0 ? void 0 : _this$firstPeerreview5.content_id\n      });\n      return contentTreeContent;\n    },\n    responseCompleted: function responseCompleted() {\n      var _this$firstPeerreview6;\n\n      if (!this.$loaded((_this$firstPeerreview6 = this.firstPeerreview.progression) === null || _this$firstPeerreview6 === void 0 ? void 0 : _this$firstPeerreview6.response)) {\n        return false;\n      }\n\n      return true;\n    },\n    peerreviewCompleted: function peerreviewCompleted() {\n      var _this$firstPeerreview7;\n\n      if (this.isInsertProposal) {\n        var _this$contentTreeCont;\n\n        if (!this.$loaded((_this$contentTreeCont = this.contentTreeContent.progression) === null || _this$contentTreeCont === void 0 ? void 0 : _this$contentTreeCont.salience)) {\n          return false;\n        }\n      }\n\n      if (!this.$loaded((_this$firstPeerreview7 = this.firstPeerreview.progression) === null || _this$firstPeerreview7 === void 0 ? void 0 : _this$firstPeerreview7.response)) {\n        return false;\n      }\n\n      this.$emit(\"completed-peerreview\");\n      return true;\n    },\n    peerreviewFinalized: function peerreviewFinalized() {\n      // Rejected or Approved by majority of peerreview group!\n      return this.firstPeerreview.peerreview.approved || this.firstPeerreview.peerreview.rejected;\n    }\n  }, Object(vuex_esm[\"c\" /* mapGetters */])({\n    get_content: \"contentstore/get_content\"\n  })), {}, {\n    peerreviewHistory: function peerreviewHistory() {\n      var _this$firstPeerreview8;\n\n      var peerreviews = this.get_peerreview_by_content({\n        contentID: (_this$firstPeerreview8 = this.firstPeerreview.peerreview) === null || _this$firstPeerreview8 === void 0 ? void 0 : _this$firstPeerreview8.content_id\n      });\n\n      var sortedPeerreviews = toConsumableArray_default()(peerreviews); // console.log(sortedPeerreviews);\n\n\n      return sortedPeerreviews.sort(function (a, b) {\n        return b.peerreview.id - a.peerreview.id;\n      });\n    },\n    nofPeerreviewInsertOperation: function nofPeerreviewInsertOperation() {\n      var inserts = this.peerreviewHistory.filter(function (x) {\n        return x.peerreview.operation == \"INSERT\";\n      });\n      return inserts ? inserts.length : 0;\n    }\n  }, Object(vuex_esm[\"c\" /* mapGetters */])({\n    get_peerreview_by_content: \"peerreviewstore/get_peerreview_by_content\",\n    profileColor: \"publicprofilestore/profileColor\"\n  })),\n  methods: {\n    // TODO: used?\n    // isSalienced: function (peerreview) {\n    //   return this.$loaded(peerreview.progression?.salience);\n    // },\n    translateResponse: function translateResponse(progression) {\n      if ((progression === null || progression === void 0 ? void 0 : progression.response) === true) {\n        return \"Antrag soll angenommen werden\";\n      }\n\n      if ((progression === null || progression === void 0 ? void 0 : progression.response) === false) {\n        return \"Antrag ist abzulehnen\";\n      }\n\n      return \"---\";\n    },\n    closeExpandedItem: function closeExpandedItem() {\n      var expandable = this.$refs.expandable;\n      console.assert(expandable);\n      expandable.hide();\n      this.$root.scrollToAnchor(\"PEERREVIEW\".concat(this.firstPeerreview.peerreview.id));\n    }\n  },\n  mounted: function mounted() {\n    var _this$firstPeerreview9, _this$firstPeerreview10, _this$firstPeerreview11, _this$firstPeerreview12, _this$firstPeerreview13, _this$firstPeerreview14;\n\n    this.accept1 = (_this$firstPeerreview9 = this.firstPeerreview) === null || _this$firstPeerreview9 === void 0 ? void 0 : (_this$firstPeerreview10 = _this$firstPeerreview9.progression) === null || _this$firstPeerreview10 === void 0 ? void 0 : _this$firstPeerreview10.criteria_accept1;\n    this.accept2 = (_this$firstPeerreview11 = this.firstPeerreview) === null || _this$firstPeerreview11 === void 0 ? void 0 : (_this$firstPeerreview12 = _this$firstPeerreview11.progression) === null || _this$firstPeerreview12 === void 0 ? void 0 : _this$firstPeerreview12.criteria_accept2;\n    this.accept3 = (_this$firstPeerreview13 = this.firstPeerreview) === null || _this$firstPeerreview13 === void 0 ? void 0 : (_this$firstPeerreview14 = _this$firstPeerreview13.progression) === null || _this$firstPeerreview14 === void 0 ? void 0 : _this$firstPeerreview14.criteria_accept3;\n  }\n});\n// CONCATENATED MODULE: ./src/plugins/VAA/components/PeerReviewListItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_PeerReviewListItemvue_type_script_lang_js_ = (PeerReviewListItemvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/plugins/VAA/components/PeerReviewListItem.vue?vue&type=style&index=0&id=7478bb70&lang=sass&scoped=true&\nvar PeerReviewListItemvue_type_style_index_0_id_7478bb70_lang_sass_scoped_true_ = __webpack_require__(\"6af6\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/badge/QBadge.js\nvar QBadge = __webpack_require__(\"58a81\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tabs/QTabs.js\nvar QTabs = __webpack_require__(\"429b\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tabs/QTab.js\nvar QTab = __webpack_require__(\"7460\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tooltip/QTooltip.js\nvar QTooltip = __webpack_require__(\"05c0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/separator/QSeparator.js\nvar QSeparator = __webpack_require__(\"eb85\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tab-panels/QTabPanels.js\nvar QTabPanels = __webpack_require__(\"adad\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tab-panels/QTabPanel.js\nvar QTabPanel = __webpack_require__(\"823b\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/splitter/QSplitter.js\nvar QSplitter = __webpack_require__(\"8562\");\n\n// CONCATENATED MODULE: ./src/plugins/VAA/components/PeerReviewListItem.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar PeerReviewListItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_PeerReviewListItemvue_type_script_lang_js_,\n  PeerReviewListItemvue_type_template_id_7478bb70_scoped_true_render,\n  PeerReviewListItemvue_type_template_id_7478bb70_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"7478bb70\",\n  null\n  \n)\n\n/* harmony default export */ var PeerReviewListItem = (PeerReviewListItem_component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(PeerReviewListItem_component, 'components', {QExpansionItem: QExpansionItem[\"a\" /* default */],QItemSection: QItemSection[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QBadge: QBadge[\"a\" /* default */],QItemLabel: QItemLabel[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QTabs: QTabs[\"a\" /* default */],QTab: QTab[\"a\" /* default */],QTooltip: QTooltip[\"a\" /* default */],QSeparator: QSeparator[\"a\" /* default */],QTabPanels: QTabPanels[\"a\" /* default */],QTabPanel: QTabPanel[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QSplitter: QSplitter[\"a\" /* default */],QToggle: QToggle[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */]});\n\n// EXTERNAL MODULE: ./src/components/SideMenu.vue + 4 modules\nvar SideMenu = __webpack_require__(\"4d94\");\n\n// EXTERNAL MODULE: ./src/pages/ContentTree/components/ContentTree.vue + 16 modules\nvar ContentTree = __webpack_require__(\"c75e4\");\n\n// EXTERNAL MODULE: ./src/components/AlgorithmDisclaimer.vue + 4 modules\nvar AlgorithmDisclaimer = __webpack_require__(\"9345\");\n\n// EXTERNAL MODULE: ./src/pages/ContentTree/components/ContentTreeChart.vue + 12 modules\nvar ContentTreeChart = __webpack_require__(\"7548\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/VAA/QUESTIONS/Questions.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n;\n\n\n\n\n\n\n\n\n\n // import ContentSalienceSlider from \"src/pages/ContentTree/components/ContentSalienceSlider\";\n\n\n\n\n\n\n\n\n/* harmony default export */ var Questionsvue_type_script_lang_js_ = ({\n  name: \"VAAQuestions\",\n  mixins: [content[\"a\" /* default */]],\n  data: function data() {\n    return {\n      chartType: \"chartBar\",\n      ICON_VAA_QUESTION: constants[\"a\" /* default */].ICONS.VAA_QUESTION,\n      showProposeForm: false,\n      cacheAMForum: null,\n      cacheAMForumText: null,\n      amForumRole: 1,\n      detailView: true,\n      filterTypes: constants[\"a\" /* default */].VAA_QUESTION_TYPES,\n      AMs: ArtificialModeration,\n      temporarySelectedTopic: null\n    };\n  },\n  components: {\n    Skeleton: Skeleton[\"a\" /* default */],\n    SalienceList: SalienceList[\"a\" /* default */],\n    PeerReviewListItem: PeerReviewListItem,\n    ArtificialModeration: artificial_moderation_ArtificialModeration[\"a\" /* default */],\n    AlgorithmDisclaimer: AlgorithmDisclaimer[\"a\" /* default */],\n    VAATopicSelector: TopicSelector,\n    ProposeVAAQuestion: ProposeVAAQuestion,\n    // ContentSalienceSlider,\n    ComponentContentTree: ContentTree[\"a\" /* default */],\n    SideMenu: SideMenu[\"a\" /* default */],\n    ChartBar: ChartBar[\"a\" /* default */],\n    ContentTreeChart: ContentTreeChart[\"a\" /* default */]\n  },\n  computed: objectSpread2_default()({\n    amForumPosition: function amForumPosition() {\n      return this.amForumRole % 2 ? \"left\" : \"right\";\n    },\n    sideMenuItems: function sideMenuItems() {\n      var _this = this;\n\n      return [{\n        // label: \"Themenwahl\",\n        label: this.node ? this.node.content.title : \"Themenwahl\",\n        caption: this.node ? \"Themenwahl\" : \"\",\n        anchor: \"TOPICSELECTION\",\n        customHightlighting: function customHightlighting() {\n          return !_this.node;\n        }\n      }, {\n        label: \"Aktueller Stand\",\n        anchor: \"SALIENCE\",\n        visible: function visible() {\n          return !!_this.node;\n        }\n      }, {\n        label: \"Gutachten\",\n        anchor: \"PEERREVIEW\",\n        visible: function visible() {\n          return !!_this.node;\n        }\n      }, {\n        label: \"Neuer Vorschlag\",\n        anchor: \"PROPOSE\",\n        visible: function visible() {\n          return !!_this.node;\n        }\n      }, {\n        label: \"Nächste Schritte\",\n        anchor: \"CHARTS\",\n        visible: function visible() {\n          return !!_this.node;\n        }\n      }];\n    },\n    // all VAA_Question stages\n    VAAQuestionStages: function VAAQuestionStages() {\n      var _this2 = this;\n\n      if (!this.routed_stage) {\n        return;\n      }\n\n      return this.assembly_sorted_stages.filter(function (stage) {\n        return stage.stage.group == _this2.routed_stage.stage.group;\n      });\n    },\n    // all VAA_Question stages\n    VAAQuestionStagesAlerted: function VAAQuestionStagesAlerted() {\n      var _this3 = this;\n\n      return this.VAAQuestionStages.filter(function (stage) {\n        return _this3.is_stage_alerted(stage);\n      });\n    },\n    // the ramdom focus stage\n    VAAQuestionStageRandomFocus: function VAAQuestionStageRandomFocus() {\n      return this.VAAQuestionStages.find(function (stage) {\n        var _stage$stage$custom_d;\n\n        return !!((_stage$stage$custom_d = stage.stage.custom_data) !== null && _stage$stage$custom_d !== void 0 && _stage$stage$custom_d.RANDOM_FOCUS);\n      });\n    },\n    // the manual focus stage\n    VAAQuestionStageManualFocus: function VAAQuestionStageManualFocus() {\n      return this.VAAQuestionStages.find(function (stage) {\n        var _stage$stage$custom_d2;\n\n        return !((_stage$stage$custom_d2 = stage.stage.custom_data) !== null && _stage$stage$custom_d2 !== void 0 && _stage$stage$custom_d2.RANDOM_FOCUS);\n      });\n    },\n    // Focused Topic of the manual focus stage\n    VAAQuestionStageManualFocusTopic: function VAAQuestionStageManualFocusTopic() {\n      if (!this.VAAQuestionStageManualFocus) {\n        return;\n      }\n\n      return this.getFocusedContent(this.VAAQuestionStageManualFocus);\n    },\n    // Focused Topic of the random focus stage\n    VAAQuestionStageRandomFocusTopic: function VAAQuestionStageRandomFocusTopic() {\n      if (!this.VAAQuestionStageRandomFocus) {\n        return;\n      }\n\n      return this.getFocusedContent(this.VAAQuestionStageRandomFocus);\n    },\n    // topicSlectionTopicsToIgnore() {\n    //   if (!this.VAAQuestionStageManualFocus) {\n    //     // not in the manual selection stage....\"\n    //     return [];\n    //   }\n    //   if (this.VAAQuestionStageManualFocusTopic) {\n    //     // \"already selected....\"\n    //     console.log(\"already selected....\");\n    //     return [];\n    //   }\n    //   if (!this.VAAQuestionStagesAlerted.length) {\n    //     // all finished: allow to choose freely!\n    //     return [];\n    //   }\n    //   // Dont allow to select the topic of the random stage...\n    //   console.assert(this.VAAQuestionStageRandomFocusTopic);\n    //   return [this.VAAQuestionStageRandomFocusTopic];\n    // },\n    // Is the currently routed stage the random stage?.\n    isRandomFocusStage: function isRandomFocusStage() {\n      var _this$routed_stage$st;\n\n      // return this.VAAQuestionStageRandomFocus == this.next_scheduled_stage;\n      return !!((_this$routed_stage$st = this.routed_stage.stage.custom_data) !== null && _this$routed_stage$st !== void 0 && _this$routed_stage$st.RANDOM_FOCUS);\n    },\n    isManualFocusStage: function isManualFocusStage() {\n      var _this$routed_stage$st2;\n\n      return (// this.VAAQuestionStageManualFocus == this.next_scheduled_stage &&\n        !((_this$routed_stage$st2 = this.routed_stage.stage.custom_data) !== null && _this$routed_stage$st2 !== void 0 && _this$routed_stage$st2.RANDOM_FOCUS)\n      );\n    },\n    // Is the currently routed stage the random stage?.\n    stagesIgnoredFromRandomSelection: function stagesIgnoredFromRandomSelection() {\n      var _this$routed_stage$st3;\n\n      return (_this$routed_stage$st3 = this.routed_stage.stage.custom_data) === null || _this$routed_stage$st3 === void 0 ? void 0 : _this$routed_stage$st3.EXCLUDE_FROM_RANDOM;\n    },\n    // Which is the default content focused within the current stage.\n    focusedContent: function focusedContent() {\n      if (!this.routed_stage) {\n        return;\n      }\n\n      console.log(\"Retrieve FOCUSED CONTENT\");\n      return this.getFocusedContent(this.routed_stage);\n    },\n    // Has been set the focused content for this stage/day already?\n    isFocusedContentAlreadySet: function isFocusedContentAlreadySet() {\n      if (!this.ready) {\n        return;\n      }\n\n      return !!this.focusedContent;\n    },\n    milestoneSALIENCE: function milestoneSALIENCE() {\n      return this.stageMilestoneLabels.includes(\"SALIENCE\");\n    },\n    milestonePROPOSE: function milestonePROPOSE() {\n      return this.milestonePEERREVIEW && this.stageMilestoneLabels.includes(\"PROPOSE\");\n    },\n    milestonePEERREVIEW: function milestonePEERREVIEW() {\n      return this.milestoneSALIENCE && this.stageMilestoneLabels.includes(\"PEERREVIEW\");\n    },\n    milestoneCHARTS: function milestoneCHARTS() {\n      return this.milestonePROPOSE && this.stageMilestoneLabels.includes(\"CHARTS\");\n    },\n    nodeChildrenExceptUserPeerreviews: function nodeChildrenExceptUserPeerreviews() {\n      var _this4 = this;\n\n      if (!this.nodeChildren || !this.$loaded(this.contents_to_peerreview)) {\n        return;\n      } // show only thoese questions that have not a pending insert-peerreview, in which the user is involved\n\n\n      var questions = this.nodeChildren.filter(function (x) {\n        return !x.content.pending_peerreview_for_insert || !Object.keys(_this4.contents_to_peerreview).includes(\"\".concat(x.content.id));\n      });\n      return questions;\n    },\n    nofSalienceUncompleted: function nofSalienceUncompleted() {\n      var _this5 = this;\n\n      // Overwrite default \"salienceCompleted\" method..\n      if (!this.routed_stage) {\n        return null;\n      }\n\n      if (!this.$loaded(this.nodeChildrenExceptUserPeerreviews)) {\n        return null;\n      }\n\n      var unsalienced_children = this.nodeChildrenExceptUserPeerreviews.filter(function (x) {\n        return !_this5.isSalienced(x);\n      });\n      return unsalienced_children.length;\n    },\n    salienceCompleted: function salienceCompleted() {\n      return this.nofSalienceUncompleted === 0;\n    },\n    peerreviewCompleted: function peerreviewCompleted() {\n      if (!this.routed_stage) {\n        return null;\n      }\n\n      if (!this.$loaded(this.contents_to_peerreview)) {\n        return null;\n      }\n\n      return this.areAllPeerReviewCompleted();\n    },\n    sortedChartEntries: function sortedChartEntries() {\n      // TODO: please reload all data \"MILESTONE\" Data, when login with a new user...\n      return this.nodeChildren.sort(function (a, b) {\n        var _b$progression, _a$progression;\n\n        return ((_b$progression = b.progression) === null || _b$progression === void 0 ? void 0 : _b$progression.salience) - ((_a$progression = a.progression) === null || _a$progression === void 0 ? void 0 : _a$progression.salience);\n      });\n    },\n    chartBarPersonalData: function chartBarPersonalData() {\n      return this.sortedChartEntries.map(function (entry) {\n        var _entry$progression;\n\n        return (_entry$progression = entry.progression) === null || _entry$progression === void 0 ? void 0 : _entry$progression.salience;\n      });\n    },\n    chartBarLabels: function chartBarLabels() {\n      return this.sortedChartEntries.map(function (entry) {\n        var _entry$content;\n\n        return (_entry$content = entry.content) === null || _entry$content === void 0 ? void 0 : _entry$content.title;\n      });\n    },\n    contributedAtleastOneVAAQuestion: function contributedAtleastOneVAAQuestion() {\n      var _this6 = this;\n\n      if (!this.$loaded(this.nodeChildren)) {\n        return null;\n      }\n\n      return !!this.nodeChildren.find(function (x) {\n        return x.creator.id === _this6.public_profile.id;\n      });\n    },\n    numberOfQuestionsInCurrentTopic: function numberOfQuestionsInCurrentTopic() {\n      return this.nodeChildren.length;\n    },\n    contents_to_peerreview: function contents_to_peerreview() {\n      // console.log(\"this.contenttreeID loaded?\", this.contenttreeID);\n      // console.log(this.loadedPeerreviewContententtrees);\n      if (!this.loadedPeerreviewContententtrees.includes(\"\".concat(this.contenttreeID))) {\n        return null;\n      }\n\n      var peerreviews = this.get_user_peerreviews_by_parent_and_content;\n\n      if (!this.$loaded(peerreviews) || !this.$loaded(this.node)) {\n        return;\n      }\n\n      if (this.node && peerreviews[this.node.content.id]) {\n        return peerreviews[this.node.content.id];\n      } else {\n        return {};\n      }\n    },\n    askToProposeNewQuestion: function askToProposeNewQuestion() {\n      if (!this.routed_stage) {\n        return null;\n      }\n\n      if (!this.$loaded(this.contents_to_peerreview)) {\n        return null;\n      }\n\n      if (!this.milestoneSALIENCE) {\n        return null;\n      } // dont ask, when one submitted one proposals...\n\n\n      if (this.numberOfQuestionsInCurrentTopic > 5 || this.contributedAtleastOneVAAQuestion) {\n        return false;\n      }\n\n      return true;\n    }\n  }, Object(vuex_esm[\"c\" /* mapGetters */])({\n    public_profile: \"publicprofilestore/get_public_profile\",\n    loadedPeerreviewContententtrees: \"peerreviewstore/loadedPeerreviewContententtrees\",\n    get_user_peerreviews_by_parent_and_content: \"peerreviewstore/get_user_peerreviews_by_parent_and_content\",\n    assembly_sorted_stages: \"assemblystore/assembly_sorted_stages\",\n    next_scheduled_stage: \"assemblystore/next_scheduled_stage\"\n  })),\n  methods: objectSpread2_default()({\n    // Which is the default content focused within this stage.\n    getFocusedContent: function getFocusedContent(stage) {\n      var _stage$progression, _this$contenttree;\n\n      if (!((_stage$progression = stage.progression) !== null && _stage$progression !== void 0 && _stage$progression.focused_content_id)) {\n        console.log(\"NO FOCUESED CONTENT SET\");\n        return;\n      }\n\n      if (!((_this$contenttree = this.contenttree) !== null && _this$contenttree !== void 0 && _this$contenttree.entries)) {\n        console.log(\"CONTENTTREE NOT YET LOADED\");\n        return null;\n      }\n\n      var focusedContentID = stage.progression.focused_content_id;\n      console.assert(focusedContentID);\n      var content = this.contenttree.entries[stage.progression.focused_content_id];\n      console.assert(content);\n      return content;\n    },\n    toggleProposeForm: function toggleProposeForm(value) {\n      this.showProposeForm = value;\n    },\n    areAllPeerReviewCompleted: function areAllPeerReviewCompleted() {\n      var _this7 = this;\n\n      if (!this.routed_stage) {\n        return null;\n      }\n\n      if (!this.$loaded(this.contents_to_peerreview)) {\n        return null;\n      } // ALL PROPOSAL RESPONDED?\n\n\n      var first_content_with_unresponded_peerreview = Object.values(this.contents_to_peerreview).find(function (byContent) {\n        var _byContent$0$progress, _byContent$0$peerrevi, _byContent$0$peerrevi2;\n\n        return byContent[0].progression && !_this7.$loaded((_byContent$0$progress = byContent[0].progression) === null || _byContent$0$progress === void 0 ? void 0 : _byContent$0$progress.response) && !((_byContent$0$peerrevi = byContent[0].peerreview) !== null && _byContent$0$peerrevi !== void 0 && _byContent$0$peerrevi.rejected) && !((_byContent$0$peerrevi2 = byContent[0].peerreview) !== null && _byContent$0$peerrevi2 !== void 0 && _byContent$0$peerrevi2.approved);\n      } // For VAA it is not possible to have multiple parallel ongoing peerreview for each topic.\n      // Hence, check only the first in the list.\n      );\n\n      if (!first_content_with_unresponded_peerreview) {\n        this.milestone(\"PEERREVIEW\", 3);\n      } // console.log(\"ALL RESPONDED?\", first_content_with_unresponded_peerreview);\n\n\n      return !first_content_with_unresponded_peerreview;\n    },\n    applyFocusedContent: function applyFocusedContent(topic) {\n      // NOTIFY BACKEND\n      var data = {\n        stageID: this.routed_stage.stage.id,\n        contentID: topic.content.id\n      }; // console.log(\"FOCUSEDCONTENT HAS BEEN WRITTEN (not yet)\");\n      // UPDATE Vuex\n\n      this.updateFocusedContent({\n        stageID: this.routed_stage.stage.id,\n        contentID: topic.content.id\n      });\n      this.$root.monitorLog(constants[\"a\" /* default */].MONITOR_STAGE_FOCUSED_CONTENT, data);\n    },\n    // TOPIC SELECTOR!!!!\n    selectTopicPrepare: function selectTopicPrepare(contentID) {\n      // console.log(\"SELECTED\");\n      this.detailView = false;\n      this.contentID = contentID;\n      this.temporarySelectedTopic = null;\n\n      if (!this.isRandomFocusStage && !this.isFocusedContentAlreadySet) {\n        var topic = this.contenttree.entries[contentID];\n        console.assert(topic);\n        this.temporarySelectedTopic = topic;\n        return;\n      }\n\n      this.debouncedSelectTopic(contentID);\n    },\n    selectTopic: function selectTopic(contentID) {\n      var _this8 = this;\n\n      if (!this.isRandomFocusStage && !this.isFocusedContentAlreadySet) {\n        console.assert(contentID);\n        var topic = this.contenttree.entries[contentID];\n        this.applyFocusedContent(topic);\n      } // console.log(\"TOPIC SELECTED\");\n\n\n      this.detailView = false; // this.contentID = contentID;\n\n      var route = {\n        name: contentID ? \"VAA_QUESTIONS_ENTRY\" : \"VAA_QUESTIONS\",\n        hash: \"#TOPICSELECTION\",\n        params: {\n          // savePosition: true,\n          contentID: contentID,\n          stageID: runtime_store[\"b\" /* runtimeStore */].stageID,\n          assemblyIdentifier: runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier\n        }\n      };\n      this.$router.pushI(route);\n      setTimeout(function () {\n        _this8.detailView = true;\n      }, 200);\n    },\n    redirectToFocusedTopicIfRequired: function redirectToFocusedTopicIfRequired() {\n      var contentID = this.$router.currentRoute.params.contentID;\n\n      if (!this.$loaded(this.rootElements)) {\n        // not yet ready..\n        return;\n      } // no contentID selected (but focues content is alrady set...).\n\n\n      if (this.isFocusedContentAlreadySet === false) {\n        if (this.isRandomFocusStage) {\n          // focusedContent is not yet set...\n          console.log(\"SAMPLE RANDOM FOCUSED CONTENT, IF NECESSARY\", this.routed_stage);\n          console.assert(this.routed_stage); // this.randomSelectFocusedContent();\n          // this.selectTopic(this.focusedContent.content.id);\n\n          this.$root.monitorFire(constants[\"a\" /* default */].MONITOR_STAGE_RANDOM_SAMPLING_CONTENT);\n          console.log(\"RANDOM SAMPLING TOPICS...\");\n          return;\n        }\n      } // mismatch focusContent != contentID selected\n\n\n      if (this.focusedContent && contentID != this.focusedContent.content.id) {\n        // This stage is not yet ready...\n        if (this.is_stage_alerted(this.routed_stage)) {\n          this.selectTopic(this.focusedContent.content.id);\n          return;\n        } // Check if Random-stage is still alerted? (if yes, redirect to this one..)\n\n\n        if (this.is_stage_alerted(this.VAAQuestionStageRandomFocus)) {\n          if (this.routed_stage === this.VAAQuestionStageRandomFocus) {\n            // stage is correct: but not the topic\n            this.selectTopic(this.focusedContent.content.id);\n          } else {\n            // goto the correct stage...\n            this.gotoStage(this.VAAQuestionStageRandomFocus);\n          }\n\n          return;\n        } // Check if Manual-stage is still alerted? (if yes, redirect to this one..)\n        // console.log(\"is ALerted Manaul\");\n\n\n        if (this.is_stage_alerted(this.VAAQuestionStageManualFocus)) {\n          if (this.routed_stage === this.VAAQuestionStageManualFocus) {\n            // goto the correct stage...\n            if (this.focusedContent.content.id) {\n              // stage is correct: but not the topic\n              // console.log(\"select Manaul \");\n              this.selectTopic(this.focusedContent.content.id);\n            }\n          } else {\n            // console.log(\"goto Manaul \");\n            this.gotoStage(this.VAAQuestionStageManualFocus);\n          }\n\n          return;\n        } // console.log(\"is ALerted Manaul END\");\n\n      }\n\n      this.contentID = this.$router.currentRoute.params.contentID;\n      eventbus[\"a\" /* LayoutEventBus */].$emit(\"hideLoading\");\n    }\n  }, Object(vuex_esm[\"b\" /* mapActions */])(\"assemblystore\", [\"updateFocusedContent\"])),\n  watch: {\n    ready: function ready(to, from) {\n      this.redirectToFocusedTopicIfRequired();\n    },\n    focusedContent: function focusedContent(to, from) {\n      if (this.ready) {\n        this.redirectToFocusedTopicIfRequired();\n      }\n    },\n    $route: function $route(to, from) {\n      if (this.ready) {\n        this.redirectToFocusedTopicIfRequired();\n      }\n    },\n    numberOfCurrentlySaliencedEntries: function numberOfCurrentlySaliencedEntries(val) {\n      if (this.focusedContent && val && val > 4) {\n        if (!this.milestoneSALIENCE) {\n          this.milestone(\"SALIENCE\", 4);\n        }\n      }\n    },\n    salienceCompleted: function salienceCompleted(val) {\n      if (this.focusedContent && val) {\n        console.log(\"ADD MILESTONE SALIENCE....\");\n\n        if (!this.milestoneSALIENCE) {\n          this.milestone(\"SALIENCE\", 4);\n        }\n      }\n    },\n    askToProposeNewQuestion: function askToProposeNewQuestion(val) {\n      if (this.focusedContent && val === false) {\n        // console.log(\"ADD MILESTONE PROPOSE....\");\n        if (!this.milestonePROPOSE) {\n          this.milestone(\"PROPOSE\", 3);\n        }\n      }\n    },\n    contents_to_peerreview: function contents_to_peerreview(val) {\n      if (this.focusedContent && this.$loaded(val) && Object.values(val).length === 0) {\n        console.log(\"ADD MILESTONE PEERREVIEW (wathc)....\");\n\n        if (!this.milestonePEERREVIEW) {\n          this.milestone(\"PEERREVIEW\", 3);\n        }\n      }\n    },\n    peerreviewCompleted: function peerreviewCompleted(val) {\n      if (this.$loaded(this.contents_to_peerreview) && val) {\n        console.assert(val === true);\n        console.log(\"ADD MILESTONE PEERREVIEW (created)....\");\n\n        if (!this.milestonePEERREVIEW) {// this.milestone(\"PEERREVIEW\", 3);\n        }\n      }\n    },\n    nodeChildren: function nodeChildren(val) {\n      if (this.focusedContent && this.$loaded(val) && Object.keys(val).length === 0) {\n        if (!this.milestoneCHARTS) {\n          this.milestone(\"CHARTS\", 3);\n        }\n      }\n    }\n  },\n  created: function created() {\n    if (this.ready) {\n      this.redirectToFocusedTopicIfRequired();\n    } // DEBOUNCE TOPIC SELECTION.: for content selector\n\n\n    this.debouncedSelectTopic = Object(debounce[\"a\" /* default */])(this.selectTopic, 1000);\n\n    if (this.focusedContent) {\n      var _Object$values;\n\n      if (this.salienceCompleted) {\n        console.log(\"ADD MILESTONE SALIENCE....\");\n\n        if (!this.milestoneSALIENCE) {\n          this.milestone(\"SALIENCE\", 4);\n        }\n      }\n\n      if (this.askToProposeNewQuestion === false) {\n        // console.log(\"ADD MILESTONE PROPOSE (in created)....\");\n        if (!this.milestonePROPOSE) {\n          this.milestone(\"PROPOSE\", 3);\n        }\n      }\n\n      if (this.$loaded(this.contents_to_peerreview) && (((_Object$values = Object.values(this.contents_to_peerreview)) === null || _Object$values === void 0 ? void 0 : _Object$values.length) === 0 || this.peerreviewCompleted)) {\n        console.log(\"ADD MILESTONE PEERREVIEW (created)....\");\n\n        if (!this.milestonePEERREVIEW) {\n          this.milestone(\"PEERREVIEW\", 3);\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this$routed_stage,\n        _this9 = this;\n\n    // when stage has been loaded already\n    if ((_this$routed_stage = this.routed_stage) !== null && _this$routed_stage !== void 0 && _this$routed_stage.stage.contenttree_id && this.oauth.userid) {\n      this.$store.dispatch(\"peerreviewstore/syncPeerreviews\", {\n        assemblyIdentifier: runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier,\n        contenttreeID: this.routed_stage.stage.contenttree_id,\n        oauthUserID: this.oauth.userid\n      });\n    } else {\n      // Stage is not yet loaded: so wait until it is...\n      eventbus[\"a\" /* LayoutEventBus */].$once(\"EventStageLoaded\", function (stage) {\n        _this9.$store.dispatch(\"peerreviewstore/syncPeerreviews\", {\n          assemblyIdentifier: runtime_store[\"b\" /* runtimeStore */].assemblyIdentifier,\n          contenttreeID: stage.stage.contenttree_id,\n          oauthUserID: _this9.oauth.userid\n        });\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/Questions.vue?vue&type=script&lang=js&\n /* harmony default export */ var QUESTIONS_Questionsvue_type_script_lang_js_ = (Questionsvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/plugins/VAA/QUESTIONS/Questions.vue?vue&type=style&index=0&id=8fae57a6&scoped=true&lang=css&\nvar Questionsvue_type_style_index_0_id_8fae57a6_scoped_true_lang_css_ = __webpack_require__(\"139f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js\nvar QPage = __webpack_require__(\"9989\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/spinner/QSpinnerDots.js\nvar QSpinnerDots = __webpack_require__(\"8380\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QList.js\nvar QList = __webpack_require__(\"1c1c\");\n\n// CONCATENATED MODULE: ./src/plugins/VAA/QUESTIONS/Questions.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar Questions_component = Object(componentNormalizer[\"a\" /* default */])(\n  QUESTIONS_Questionsvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8fae57a6\",\n  null\n  \n)\n\n/* harmony default export */ var Questions = __webpack_exports__[\"default\"] = (Questions_component.exports);\n\n\n\n\n\n\n\nruntime_auto_import_default()(Questions_component, 'components', {QPage: QPage[\"a\" /* default */],QSpinnerDots: QSpinnerDots[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QBadge: QBadge[\"a\" /* default */],QList: QList[\"a\" /* default */],QToggle: QToggle[\"a\" /* default */]});\n\n\n/***/ }),\n\n/***/ \"6af6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_sass_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_PeerReviewListItem_vue_vue_type_style_index_0_id_7478bb70_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"92af\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_sass_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_PeerReviewListItem_vue_vue_type_style_index_0_id_7478bb70_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_sass_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_PeerReviewListItem_vue_vue_type_style_index_0_id_7478bb70_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"81f6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"92af\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"d828\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_TopicSelector_vue_vue_type_style_index_0_id_c32f3a72_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"efaa\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_TopicSelector_vue_vue_type_style_index_0_id_c32f3a72_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_TopicSelector_vue_vue_type_style_index_0_id_c32f3a72_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"efaa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":null}