{"code":"\"use strict\";{const e=django.jQuery;let t;e.fn.actions=function(n){const a=e.extend({},e.fn.actions.defaults,n),o=e(this);let s=!1;const c=function(){e(a.acrossClears).hide(),e(a.acrossQuestions).show(),e(a.allContainer).hide()},i=function(){e(a.acrossClears).show(),e(a.acrossQuestions).hide(),e(a.actionContainer).toggleClass(a.selectedClass),e(a.allContainer).show(),e(a.counterContainer).hide()},l=function(){e(a.acrossClears).hide(),e(a.acrossQuestions).hide(),e(a.allContainer).hide(),e(a.counterContainer).show()},r=function(){l(),e(a.acrossInput).val(0),e(a.actionContainer).removeClass(a.selectedClass)},u=function(t){t?c():l(),e(o).prop(\"checked\",t).parent().parent().toggleClass(a.selectedClass,t)},d=function(){const t=e(o).filter(\":checked\").length,n=e(\".action-counter\").data(\"actionsIcnt\");e(a.counterContainer).html(interpolate(ngettext(\"%(sel)s of %(cnt)s selected\",\"%(sel)s of %(cnt)s selected\",t),{sel:t,cnt:n},!0)),e(a.allToggle).prop(\"checked\",(function(){let e;return t===o.length?(e=!0,c()):(e=!1,r()),e}))};e(a.counterContainer).show(),e(this).filter(\":checked\").each((function(t){e(this).parent().parent().toggleClass(a.selectedClass),d(),1===e(a.acrossInput).val()&&i()})),e(a.allToggle).show().on(\"click\",(function(){u(e(this).prop(\"checked\")),d()})),e(\"a\",a.acrossQuestions).on(\"click\",(function(t){t.preventDefault(),e(a.acrossInput).val(1),i()})),e(\"a\",a.acrossClears).on(\"click\",(function(t){t.preventDefault(),e(a.allToggle).prop(\"checked\",!1),r(),u(0),d()})),t=null,e(o).on(\"click\",(function(n){n||(n=window.event);const s=n.target?n.target:n.srcElement;if(t&&e.data(t)!==e.data(s)&&!0===n.shiftKey){let n=!1;e(t).prop(\"checked\",s.checked).parent().parent().toggleClass(a.selectedClass,s.checked),e(o).each((function(){e.data(this)!==e.data(t)&&e.data(this)!==e.data(s)||(n=!n),n&&e(this).prop(\"checked\",s.checked).parent().parent().toggleClass(a.selectedClass,s.checked)}))}e(s).parent().parent().toggleClass(a.selectedClass,s.checked),t=s,d()})),e(\"form#changelist-form table#result_list tr\").on(\"change\",\"td:gt(0) :input\",(function(){s=!0})),e('form#changelist-form button[name=\"index\"]').on(\"click\",(function(e){if(s)return confirm(gettext(\"You have unsaved changes on individual editable fields. If you run an action, your unsaved changes will be lost.\"))})),e('form#changelist-form input[name=\"_save\"]').on(\"click\",(function(t){let n=!1;if(e(\"select option:selected\",a.actionContainer).each((function(){e(this).val()&&(n=!0)})),n)return s?confirm(gettext(\"You have selected an action, but you haven’t saved your changes to individual fields yet. Please click OK to save. You’ll need to re-run the action.\")):confirm(gettext(\"You have selected an action, and you haven’t made any changes on individual fields. You’re probably looking for the Go button rather than the Save button.\"))}))},e.fn.actions.defaults={actionContainer:\"div.actions\",counterContainer:\"span.action-counter\",allContainer:\"div.actions span.all\",acrossInput:\"div.actions input.select-across\",acrossQuestions:\"div.actions span.question\",acrossClears:\"div.actions span.clear\",allToggle:\"#action-toggle\",selectedClass:\"selected\"},e(document).ready((function(){const t=e(\"tr input.action-select\");0<t.length&&t.actions()}))}","name":"fabrikauth/admin/js/actions.min.js","input":"'use strict';{const a=django.jQuery;let e;a.fn.actions=function(g){const b=a.extend({},a.fn.actions.defaults,g),f=a(this);let k=!1;const l=function(){a(b.acrossClears).hide();a(b.acrossQuestions).show();a(b.allContainer).hide()},m=function(){a(b.acrossClears).show();a(b.acrossQuestions).hide();a(b.actionContainer).toggleClass(b.selectedClass);a(b.allContainer).show();a(b.counterContainer).hide()},n=function(){a(b.acrossClears).hide();a(b.acrossQuestions).hide();a(b.allContainer).hide();a(b.counterContainer).show()},\np=function(){n();a(b.acrossInput).val(0);a(b.actionContainer).removeClass(b.selectedClass)},q=function(c){c?l():n();a(f).prop(\"checked\",c).parent().parent().toggleClass(b.selectedClass,c)},h=function(){const c=a(f).filter(\":checked\").length,d=a(\".action-counter\").data(\"actionsIcnt\");a(b.counterContainer).html(interpolate(ngettext(\"%(sel)s of %(cnt)s selected\",\"%(sel)s of %(cnt)s selected\",c),{sel:c,cnt:d},!0));a(b.allToggle).prop(\"checked\",function(){let a;c===f.length?(a=!0,l()):(a=!1,p());return a})};\na(b.counterContainer).show();a(this).filter(\":checked\").each(function(c){a(this).parent().parent().toggleClass(b.selectedClass);h();1===a(b.acrossInput).val()&&m()});a(b.allToggle).show().on(\"click\",function(){q(a(this).prop(\"checked\"));h()});a(\"a\",b.acrossQuestions).on(\"click\",function(c){c.preventDefault();a(b.acrossInput).val(1);m()});a(\"a\",b.acrossClears).on(\"click\",function(c){c.preventDefault();a(b.allToggle).prop(\"checked\",!1);p();q(0);h()});e=null;a(f).on(\"click\",function(c){c||(c=window.event);\nconst d=c.target?c.target:c.srcElement;if(e&&a.data(e)!==a.data(d)&&!0===c.shiftKey){let c=!1;a(e).prop(\"checked\",d.checked).parent().parent().toggleClass(b.selectedClass,d.checked);a(f).each(function(){if(a.data(this)===a.data(e)||a.data(this)===a.data(d))c=c?!1:!0;c&&a(this).prop(\"checked\",d.checked).parent().parent().toggleClass(b.selectedClass,d.checked)})}a(d).parent().parent().toggleClass(b.selectedClass,d.checked);e=d;h()});a(\"form#changelist-form table#result_list tr\").on(\"change\",\"td:gt(0) :input\",\nfunction(){k=!0});a('form#changelist-form button[name=\"index\"]').on(\"click\",function(a){if(k)return confirm(gettext(\"You have unsaved changes on individual editable fields. If you run an action, your unsaved changes will be lost.\"))});a('form#changelist-form input[name=\"_save\"]').on(\"click\",function(c){let d=!1;a(\"select option:selected\",b.actionContainer).each(function(){a(this).val()&&(d=!0)});if(d)return k?confirm(gettext(\"You have selected an action, but you haven\\u2019t saved your changes to individual fields yet. Please click OK to save. You\\u2019ll need to re-run the action.\")):\nconfirm(gettext(\"You have selected an action, and you haven\\u2019t made any changes on individual fields. You\\u2019re probably looking for the Go button rather than the Save button.\"))})};a.fn.actions.defaults={actionContainer:\"div.actions\",counterContainer:\"span.action-counter\",allContainer:\"div.actions span.all\",acrossInput:\"div.actions input.select-across\",acrossQuestions:\"div.actions span.question\",acrossClears:\"div.actions span.clear\",allToggle:\"#action-toggle\",selectedClass:\"selected\"};a(document).ready(function(){const g=\na(\"tr input.action-select\");0<g.length&&g.actions()})};\n","inputSourceMap":null}