(function(e){function t(t){for(var r,o,u=t[0],l=t[1],c=t[2],d=t[3]||[],f=0,h=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t),a.push.apply(a,d);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return 0===i.length&&(a.forEach((function(e){if(void 0===s[e]){s[e]=null;var t=document.createElement("link");l.nc&&t.setAttribute("nonce",l.nc),t.rel="prefetch",t.as="script",t.href=u(e),document.head.appendChild(t)}})),a.length=0),e}var r={},o={6:0},s={6:0},i=[],a=[];function u(e){return l.p+"js/"+({1:"chunk-common"}[e]||e)+"."+{1:"aa12d6ef",2:"daef4da6",3:"94e7b1f5",4:"fe71f1a1",5:"ae627cf6",7:"2d7d188f",8:"9adef0b0",9:"e92fd9ea",10:"ea6cbd50",11:"e44c344b",12:"abdec68e",13:"8be66378",14:"9b0b7603",15:"d5307372",16:"4475cf19",17:"d5a1179e",18:"0c70ce43",19:"78a8eede",20:"51dd0acb",21:"62343c84",22:"0cecf65a",23:"403e43b0",24:"65778036",25:"56fdfefc",26:"68bc4596",27:"f752e388",28:"fa482932",29:"b5159f5c",30:"669dd4ff"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={1:1,3:1,4:1,7:1,8:1,9:1,10:1,11:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({1:"chunk-common"}[e]||e)+"."+{1:"00080bca",2:"31d6cfe0",3:"3cad11c8",4:"dfabb1b7",5:"31d6cfe0",7:"b87f789c",8:"aa13da7f",9:"21f910da",10:"0d5e333b",11:"1fb183bd",12:"31d6cfe0",13:"31d6cfe0",14:"31d6cfe0",15:"31d6cfe0",16:"31d6cfe0",17:"31d6cfe0",18:"31d6cfe0",19:"31d6cfe0",20:"31d6cfe0",21:"31d6cfe0",22:"31d6cfe0",23:"31d6cfe0",24:"31d6cfe0",25:"31d6cfe0",26:"31d6cfe0",27:"31d6cfe0",28:"31d6cfe0",29:"31d6cfe0",30:"31d6cfe0"}[e]+".css",s=l.p+r,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var u=i[a],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===r||c===s))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){u=d[a],c=u.getAttribute("data-href");if(c===r||c===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],f.parentNode.removeChild(f),n(i)},f.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){o[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=u(e);var d=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}s[e]=void 0}};var f=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var f=0;f<c.length;f++)t(c[f]);var m=d,h=function(){return i.push([0,0]),n()}();t([[],{},0,[0,1,12,15,24,14,16,20,22]])})({0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},2105:function(e,t,n){"use strict";n("caad"),n("d3b7"),n("e6cf"),n("ac1f"),n("2532"),n("1276"),n("96cf");var r=n("c973"),o=n.n(r),s=n("2b0e"),i=n("bc3a"),a=n.n(i),u=n("c75e"),l=n("2647"),c="Authorization",d="ApiService",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(Object.prototype.hasOwnProperty.call(e,"ReloginOnStatus403")&&!e.ReloginOnStatus403)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!Object.prototype.hasOwnProperty.call(e,"Allow400Status")||!e.Allow400Status)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!Object.prototype.hasOwnProperty.call(e,"WithoutAuthHeader")||!e.WithoutAuthHeader)},g={init:function(){a.a.defaults.timeout=2e3,a.a.defaults.baseURL="http://localhost:8020"},setHeader:function(e){e?(console.log("............NEW NEW JWT TOKEN: ",!!e,e.substring(e.length-5)),a.a.defaults.headers.common[c]="JWT "+e):(console.log("............Remove header jwt set: ",!!e),delete a.a.defaults.headers.common[c])},removeHeader:function(){a.a.defaults.headers.common={},console.log("Remove axios header")},getHeader:function(){if(c in a.a.defaults.headers.common){var e=a.a.defaults.headers.common[c];if(e){var t=e.split(" ");return t[1]}}return null},is_api_service_used_as_axios_wrapper:function(e){"origin"in e&&e["origin"]==d||console.assert("ERROR: Please use ApiService as Axios Wrapper...")},get:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={method:"GET",url:e},n.next=3,t.customRequest(r);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},post:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={method:"POST",url:e,data:t},r.next=3,n.customRequest(o);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},put:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={method:"PUT",url:e,data:t},r.next=3,n.customRequest(o);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},delete:function(e,t){var n=this;return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o={method:"DELETE",url:e,data:t},r.next=3,n.customRequest(o);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},customRequest:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=null,e["origin"]=d,e["timeout"]=3e4,h(e)&&(r=t.getHeader(),t.removeHeader()),o=null,n.next=7,a()(e);case 7:if(o=n.sent,!o.retoken){n.next=15;break}return console.log("PERMISSION ERROR: Initiate a secont attempt"),n.next=12,a()(e);case 12:o=n.sent,o.retoken&&(console.log("token could not be renewed.. 2nd attempt failed."),u["a"].$emit("showAuthorizationError")),r=null;case 15:if(!o.HTTP_ERROR_CODE){n.next=23;break}return console.log("HTTP ERROR: Initiate a second attempt"),e.HTTP_ERROR_CODE=o.HTTP_ERROR_CODE,console.assert(e.url),e.url.includes("?")?e.url="".concat(e.url,"&rty=1"):e.url="".concat(e.url,"?rty=1"),n.next=22,a()(e);case 22:o=n.sent;case 23:return r&&h(e)&&(console.log("header re-set"),t.setHeader(r)),n.abrupt("return",o);case 25:case"end":return n.stop()}}),n)})))()},mountAxiosInterceptor:function(e){var t=function(e){return e};a.a.interceptors.response.use(t,(function(t){return e(t)}))}},p=function(){var e=o()(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g.is_api_service_used_as_axios_wrapper(t.config),o=null===t||void 0===t||null===(r=t.config)||void 0===r?void 0:r.HTTP_ERROR_CODE,t.response){e.next=10;break}if(console.log("Network error",t),"NETWORK"==o){e.next=6;break}return e.abrupt("return",{HTTP_ERROR_CODE:"NETWORK"});case 6:return u["a"].$emit("showNetworkError"),e.abrupt("return",Promise.reject(t));case 10:if(400!=t.response.status){e.next=20;break}if(!m(t.config)){e.next=14;break}return console.log("AXIOS: Pass Error 400"),e.abrupt("return",!0);case 14:if(400==o){e.next=16;break}return e.abrupt("return",{HTTP_ERROR_CODE:400});case 16:return u["a"].$emit("showServiceError"),e.abrupt("return",Promise.reject(t));case 20:if(405!=t.response.status){e.next=26;break}return console.log("AXIOS: Pass Error 405"),u["a"].$emit("showAuthorizationError"),e.abrupt("return",Promise.reject(t));case 26:if(429!=t.response.status){e.next=32;break}return console.log("AXIOS: Pass Error 429"),u["a"].$emit("showTooManyRequestsError"),e.abrupt("return",Promise.reject(t));case 32:if(403!=t.response.status){e.next=46;break}if(console.log("403 Error"),!f(t.config)){e.next=46;break}if(console.log("AXIOS: ReloginOnStatus403"),t.response.status=449,!s["default"].prototype.pkce.isAuthorized()){e.next=43;break}return e.next=40,s["default"].prototype.refresh_token();case 40:if(!s["default"].prototype.pkce.state||!s["default"].prototype.pkce.state.accessToken){e.next=43;break}return t.config.retoken=!0,e.abrupt("return",t.config);case 43:return console.log("Not Authenticated"),u["a"].$emit("showAuthenticationWarning"),e.abrupt("return",Promise.reject(t));case 46:return console.log("Unknown API Request Error"),console.log("status: "+t.response.status),u["a"].$emit("showServiceError"),e.abrupt("return",Promise.reject(t));case 50:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();g.mountAxiosInterceptor(p),l["a"].$on("TokenChanges",(function(e){e?g.setHeader(e):g.removeHeader()})),t["a"]=g},2256:function(e,t,n){"use strict";n("99af");var r=n("ded3"),o=n.n(r),s=n("2f62"),i=n("c75e"),a=n("9651"),u=n("c9d9");t["a"]={provide:function(){return{gotoNextStageNr:this.gotoNextStageNr,getDailyContributionLimits:this.getDailyContributionLimits}},computed:o()(o()({},Object(s["c"])("assemblystore",["assembly","assemblyProgression","assemblyConfiguration","assembly_sorted_stages","is_stage_accessible","is_stage_scheduled","last_accessible_stage","is_stage_idle","is_stage_done","is_stage_disabled","is_stage_completed","is_stage_new","is_stage_last","is_stage_first","is_stage_alert","assembly_scheduled_stages","assembly_stages","get_stage_number_by_stage_id","get_stage_number_by_stage","next_scheduled_stage","find_next_accessible_stage","assembly_stages","IsDelegate","IsManager"])),{},{daySessions:function(){var e;return null===(e=this.assemblyProgression)||void 0===e?void 0:e.number_of_day_sessions},ready:function(){var e=this.$loaded(this.assembly);return e&&i["a"].$emit("hideLoading"),e},stage_nr_last_visited:{get:function(){return isNaN(a["b"].stageID)||null===a["b"].stageID?null:this.get_stage_number_by_stage_id(a["b"].stageID)},set:function(e){if(null===e||void 0===e)a["a"].setStageID(null);else{var t=this.assembly_sorted_stages[e].stage.id;a["a"].setStageID(t)}}},stage_last_visited:function(){return null===this.stage_nr_last_visited?null:this.assembly_sorted_stages[this.stage_nr_last_visited]},limitForAddingProposalsReached:function(){var e=this.getDailyContributionLimits();return this.$loaded(e)?(e=e.number_of_proposals,e.current>=e.daylimit):null},limitForAddingCommentsReached:function(){if(this.IsManager)return!1;var e=this.getDailyContributionLimits();return this.$loaded(e)&&this.$loaded(e)?(e=e.number_of_comments,e.current>=e.daylimit):null}}),methods:o()({clickBackToAssemblyListButton:function(){a["a"].setAssemblyIdentifier(null),this.$router.push({name:"assemblies"})},stageTransition:function(e,t){},laggedScrollToStage:function(){var e=this;setTimeout((function(){e.scrollToStage()}),200)},gotoNextStageNr:function(e){console.assert(e),console.log("gotoNextStageNr");var t=e.stage.group,n=this.find_next_accessible_stage(e);if(!n)return console.log("NOTE: Assembly seems to be completed!"),null;var r=e.stage.group;r!==t?(console.log("ROUTERROUTE"),this.$router.push("".concat(n.stage.id,"/").concat(n.stage.group))):(this.stage_nr_last_visited=this.get_stage_number_by_stage(n),console.log(this.stage_nr_last_visited,"new stage"))},gotoStage:function(e){console.assert(e),this.$router.push(this.getStageRoute(e))},getStageRoute:function(e){console.assert(e);var t={assemblyIdentifier:a["b"].assemblyIdentifier,stageID:e.stage.id,contenttreeID:e.stage.contenttree_id};return{name:e.stage.type,params:t}},gotoDefaultStageTeaser:function(){console.log("goto default stage teaser"),null!==a["b"].stageID&&void 0!==a["b"].stageID?this.stage_nr_last_visited=this.get_stage_number_by_stage_id(a["b"].stageID):this.last_accessible_stage?this.stage_nr_last_visited=this.get_stage_number_by_stage(this.last_accessible_stage):this.stage_nr_last_visited=null},getDailyContributionLimits:function(){var e=this.assemblyProgression,t=this.assemblyConfiguration;if(t&&e)return{number_of_proposals:{daylimit:t.MAX_DAILY_USER_PROPOSALS,current:null===e.number_of_proposals_today?0:e.number_of_proposals_today},number_of_comments:{daylimit:t.MAX_DAILY_USER_COMMENTS,current:null===e.number_of_comments_today?0:e.number_of_comments_today}}}},Object(s["b"])({setCachedStageID:"assemblystore/setCachedStageID"})),mounted:function(){this.$store.dispatch("assemblystore/syncAssembly",{oauthUserID:this.oauth.userid}),console.log("SYNC ASSEMBLY."),this.$root.monitorLog(u["a"].MONITOR_ASSEMBLY_ENTERING)}}},2647:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2b0e"),o=new r["default"]},"2f39":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("5319"),n("96cf");var r=n("c973"),o=n.n(r),s=(n("5c7d"),n("9f29"),n("985d"),n("0047"),n("2b0e")),i=n("215a"),a=n("8e37"),u=n("b05d"),l=n("2a19");s["default"].use(u["a"],{config:{screen:{bodyClasses:!0},notify:{}},lang:i["a"],iconSet:a["a"],plugins:{Notify:l["a"]}});var c,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("transition",{attrs:{name:"fade"}},[e.appExitState?e._e():n("router-view",{key:e.componentKey,ref:"maincontent"})],1)],1)},f=[],m=(n("99af"),n("caad"),n("b0c0"),n("d3b7"),n("e6cf"),n("2532"),n("ded3")),h=n.n(m),g=n("2f62"),p=n("c75e"),b=n("2647"),_=n("c9d9"),v=n("9651"),I=n("0831"),y=I["a"].setScrollPosition,w={data:function(){return{appInitialized:!1,componentKey:0,username_derivate:""}},watch:{$route:function(e,t){if(e.meta.assemblyAcl){var n="".concat(e.meta.assemblyAcl,"@").concat(e.params.assemblyIdentifier);if(!e.params.assemblyIdentifier||!this.oauth.payload.roles.includes(n))throw e.params.assemblyIdentifier||console.error("WRONGLY CONFIUGRED ROUTE: assemblyACL option requires and Identifier in the route params"),console.error("NOT AUTHORIZED....",e,this.oauth.payload.roles,this.oauth.payload.roles.includes(n),n),this.$router.push({name:"home"}),new Error("Oops! You don't seem to have access to that page.")}this.$root.monitorLog(_["a"].MONITOR_ROUTE_CHANGE)}},computed:h()({ready:function(){return p["a"].$emit("hideLoading"),!0},appExitState:function(){return v["b"].appExitState}},Object(g["c"])({ongoing_assemblies:"publicindexstore/ongoing_assemblies",isUserAssemblyManager:"publicindexstore/storeOisUserAssemblyManagerauthAcls"})),methods:h()({showAuthorizationError:function(e){var t,n;this.$root.monitorLog(_["a"].MONITOR_ERROR_AUTHORIZATION,e);var r=this.$i18n.t("app.error.authorization_error_title"),o=this.$i18n.t("app.error.authorization_error_body"),s="mdi-key-outline",i="error",a=["logout"];null===(t=this.$refs)||void 0===t||null===(n=t.maincontent)||void 0===n||n.showNotificationBanner(i,r,o,s,!1,a)},onPageLeave:function(e){console.log("Shutdown Demokratiefabrik"),this.$root.monitorFire(_["a"].MONITOR_EXIT),v["a"].exitApp()}},Object(g["b"])({touchRandomSeed:"publicprofilestore/touchRandomSeed",storeOauthAcls:"publicprofilestore/storeOauthAcls",clearUserData:"clearUserData"})),created:function(){var e=this;window.addEventListener("beforeunload",this.onPageLeave),p["a"].$on("reload",(function(){e.$root.reload()})),p["a"].$on("showServiceError",(function(t){var n,r,o=e.$i18n.t("app.error.service_error_title"),s=e.$i18n.t("app.error.service_error_body"),i="mdi-alarm-light-outline",a=!(null===t||void 0===t||!t.settimer)&&t.settimer,u=null!==t&&void 0!==t&&t.nobuttons?[]:["reload"],l="error";null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(l,o,s,i,a,u)})),p["a"].$once("showNetworkError",(function(t){e.$root.monitorLog(_["a"].MONITOR_ERROR_NETWORK,t)})),p["a"].$on("showNetworkError",(function(t){var n,r,o=e.$i18n.t("app.error.network_error_title"),s=e.$i18n.t("app.error.network_error_body"),i="mdi-alarm-light-outline",a="error",u=["reload","hide"];null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(a,o,s,i,null,u)})),p["a"].$on("showAuthorizationError",(function(t){e.showAuthorizationError(t)})),p["a"].$on("showAuthorizationInvalidToken",(function(t){var n,r;e.$root.monitorLog(_["a"].MONITOR_ERROR_INVALID_TOKEN,t);var o=e.$i18n.t("auth.authentication_invalid_warning_title"),s=e.$i18n.t("auth.authentication_invalid_warning_body"),i="mdi-key-outline",a="error",u=!(null===t||void 0===t||!t.settimer)&&t.settimer,l=["auth"];null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(a,o,s,i,u,l)})),p["a"].$on("showTooManyRequestsError",(function(t){var n,r;e.$root.monitorLog(_["a"].MONITOR_ERROR_TOO_MANY_REQUESTS,t);var o=e.$i18n.t("app.error.toomanyrequests_error_title"),s=e.$i18n.t("app.error.toomanyrequests_error_body"),i="mdi-car-multiple",a="error";null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(a,o,s,i)})),p["a"].$on("showAuthenticationWarning",(function(t){var n,r;e.$root.monitorLog(_["a"].MONITOR_WARNING_AUTHENTICATION,t);var o="warning",s="mdi-emoticon-cool-outline",i=e.$i18n.t("auth.authentication_warning_title"),a=e.$i18n.t("auth.authentication_warning_body");null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(o,i,a,s,!1,["auth","home"])})),p["a"].$on("showAuthenticationError",(function(t){var n,r;e.$root.monitorLog(_["a"].MONITOR_ERROR_AUTHENTICATION,t);var o="error",s="mdi-alarm-light-outline",i=e.$i18n.t("auth.authentication_error_title"),a=e.$i18n.t("auth.authentication_error_body");null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.showNotificationBanner(o,i,a,s)})),p["a"].$on("PublicProfileLoaded",(function(){e.$store.dispatch("publicprofilestore/setUsernameDerivate",{usernameDerivate:e.usernameDerivate()})})),p["a"].$on("hideNotificationBanners",(function(t){var n,r;null===(n=e.$refs)||void 0===n||null===(r=n.maincontent)||void 0===r||r.hideNotificationBanner()})),b["a"].$on("AfterTokenChanged",(function(t){var n,r;e.storeOauthAcls({oauthAcls:null===(n=e.oauth)||void 0===n||null===(r=n.payload)||void 0===r?void 0:r.roles})})),b["a"].$on("AfterLogout",(function(){e.$router.push({name:"logout"}),e.$root.clearUserData()})),b["a"].$on("AfterLogin",(function(){e.$store.dispatch("monitorSetup"),e.$root.monitorLog(_["a"].MONITOR_LOGIN);var t=JSON.parse(localStorage.getItem("oauth2authcodepkce-destination"));t?(localStorage.removeItem("oauth2authcodepkce-destination"),e.$router.push(t)):e.$router.push({name:"home"}),e.$root.clearSession()})),this.touchRandomSeed(),this.$root.reload=function(){e.componentKey+=1},this.$root.initialized=!1,this.$store.dispatch("monitorSetup"),this.$root.getAssemblyHomeRoute=function(e){return{name:e.type,params:{assemblyIdentifier:e.identifier}}},this.$root.getAssemblyManageRoute=function(e){return{name:"assembly_manage",params:{assemblyIdentifier:e.identifier}}},this.$root.gotoAssemblyManage=function(t){var n=e.$root.getAssemblyManageRoute(t);e.$router.pushR(n)},this.$root.gotoAssemblyHome=function(t){var n=e.$root.getAssemblyHomeRoute(t);e.$router.pushR(n)},this.$root.scrollToAnchor=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=document.getElementsByName(t),s=null===o||void 0===o?void 0:o.item(0),i=function(){e.fixedSelectedItem=t;var r=e.$getOffsetTop(s)-e.$root.headerOffset;y(window,r,n),setTimeout((function(){return e.fixedSelectedItem=null}),n)};r?setTimeout(i,r):i()},this.$root.logout=o()(regeneratorRuntime.mark((function t(){var n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:null,n.length>1&&void 0!==n[1]?n[1]:{},t.next=4,e.$store.dispatch("monitorFire",{eventString:_["a"].MONITOR_LOGOUT,data:{}});case 4:e.oauth.logout();case 5:case"end":return t.stop()}}),t)}))),this.$root.username=function(e){return e?e.U:"Anonymous"},this.$root.username_derivation=function(t,n){if(!t)return"";var r=t.ALT,o=t.FN,s=t.CA;return e.$i18n.t("auth.name_derivation_3rd_party".concat(n?"_short":""),{fullname:o,canton:s,altitude:r})},this.$root.monitorLog=o()(regeneratorRuntime.mark((function t(){var n,r,o,s,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:{},e.oauth.authorized){t.next=4;break}return t.abrupt("return",null);case 4:o=e.$router.currentRouteObject(),s=h()(h()({name:o.name},o.params),r),e.$store.dispatch("monitorLog",{eventString:n,data:s});case 7:case"end":return t.stop()}}),t)}))),this.$root.monitorFire=o()(regeneratorRuntime.mark((function t(){var n,r,o,s,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:{},e.oauth.authorized){t.next=4;break}return t.abrupt("return",null);case 4:return o=e.$router.currentRouteObject(),s=h()(h()({name:o.name},o.params),r),t.next=8,e.$store.dispatch("monitorFire",{eventString:n,data:s});case 8:case"end":return t.stop()}}),t)}))),this.$root.clearSession=function(){v["a"].setStageID(null),v["a"].setAssemblyIdentifier(null)},this.$root.clearUserData=function(){e.$root.clearSession(),e.clearUserData()}},mounted:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("*** INIT OAUTH ***"),e.prev=1,e.next=4,this.oauth.initialize();case 4:e.next=17;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log("error in oauth initialization...",e.t0),e.t1=e.t0.message,e.next="ErrorInvalidGrant"===e.t1?12:14;break;case 12:return p["a"].$emit("showAuthorizationInvalidToken"),e.abrupt("break",16);case 14:return p["a"].$emit("showServiceError",{nobuttons:!0}),e.abrupt("break",16);case 16:return e.abrupt("return");case 17:return console.log("*** TOKEN EXPIRE? ***"),e.next=20,this.oauth.refresh_token_if_required();case 20:if(this.appInitialized=e.sent,console.log("*** START MONITOR ENGINE ***"),t=parseInt("60"),t||(t=60),this.$root.$monitorTimer=setInterval((function(){console.log("/i"),r.$root.monitorFire()}),1e3*t),!this.appInitialized){e.next=33;break}if(console.log("*** SYNC LOCAL DATA ***"),console.log("...publicIndex"),this.$store.dispatch("publicindexstore/syncPublicIndex"),!this.oauth.userid){e.next=33;break}return console.log("...profile"),e.next=33,this.$store.dispatch("publicprofilestore/syncProfile",{oauthUserID:this.oauth.userid,oauthUserEmail:null===(n=this.oauth.payload)||void 0===n?void 0:n.userEmail});case 33:console.log("*** APP MOUNTED ***"),console.log("ALLOW AUTODETECTION OF POLYFILLS"),console.log(window.fetch);case 36:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){console.log("ALLOW AUTODETECTION OF POLYFILLS"),console.log(window.fetch)}},E={name:"App",mixins:[w]},T=E,O=(n("5e55"),n("2877")),D=Object(O["a"])(T,d,f,!1,null,"29f922b9",null),S=D.exports,A=(n("4de4"),n("4160"),n("d81d"),n("b64b"),n("159b"),n("0e44")),k=n("7c15"),R=n("bd4c"),N=(n("e260"),n("45fc"),n("4fad"),n("07ac"),n("ddb0"),n("278c")),P=n.n(N),x=n("9523"),C=n.n(x),M=(n("9fd8"),{contenttree:{},expanded_branches:{}}),$=(c={get_contenttree:function(e){return function(t){var n=t.contenttreeID;return console.assert(n),n in e.contenttree?e.contenttree[n]:null}},get_content:function(e){return function(t){var n=t.contenttreeID,r=t.contentID;return console.assert(n),console.assert(r),n in e.contenttree?(console.log(n,r),r in e.contenttree[n].entries?e.contenttree[n].entries[r]:null):null}},get_content_text_max_length:function(e){return function(t){var n=t.contenttreeID,r=t.type;console.log(n,r);var o=e.contenttree[n].configuration.CONTENT_TEXT_MAX_LENGTH_BY_TYPES;return r in o?o[r]:e.contenttree[n].configuration.DEFAULT_CONTENT_TEXT_MAX_LENGTH}},get_allowed_node_types:function(e){return function(t){var n=t.contenttreeID,r=t.parentType,o=[];return o=void 0===r?e.contenttree[n].configuration.CONTENTTYPES:e.contenttree[n].configuration.ONTOLOGY[r],o}},get_node_types_with_add_permission:function(e){return function(t){var n=t.contenttreeID;return e.contenttree[n].configuration.ALLOWED_CONTENT_TYPES_TO_ADD}},getExpandedBranches:function(e){return function(t){var n=t.contenttreeID,r=t.rootNodeID,o=n+"-"+r;return o in e.expanded_branches?e.expanded_branches[o]:null}}},C()(c,"get_content",(function(e){return function(t){var n,r=t.contenttreeID,o=t.contentID;return null===(n=e.contenttree[r])||void 0===n?void 0:n.entries[o]}})),C()(c,"isCommonPropertyByConentType",(function(e){return function(t){var n=t.contenttreeID,r=t.type;return e.contenttree[n].configuration.CONTENTTYPES.includes(r)?e.contenttree[n].configuration.COMMON_PROPERTY_CONTENT.includes(r):null}})),C()(c,"monitorPathChange",(function(e){return function(t){var n,r,o=t.contentTuple;console.assert(o&&o.content&&o.content.id);var s=o.content.contenttree_id;console.assert(s);var i=null===(n=e.contenttree[s].entries[o.content.id])||void 0===n||null===(r=n.content)||void 0===r?void 0:r.parent_id;return i!==o.content.parent_id}})),c),U={retrieveContenttree:function(e,t){var n=e.commit,r=t.assemblyIdentifier,o=t.contenttreeID,s=t.timelag;console.log("with timelage",s);setTimeout((function(){console.assert(o),k["a"].retrieveContenttree(r,o).then((function(e){console.assert(e.data),console.assert("OK"in e.data),console.assert("contenttree"in e.data);var t="configuration"in e.data?e.data.configuration:null;n("add_or_update_contenttree",{contenttreeID:o,contenttree:e.data.contenttree,configuration:t})})).catch((function(e){console.warn("Request Error",e)}))}))},updateContenttree:function(e,t){var n=e.commit,r=e.dispatch,o=t.assemblyIdentifier,s=t.contenttreeID,i=t.update_date,a=t.timelag;console.log("UPDATE CONTENTTREE; now! with timelage",a),n("set_update_date_to_current",{contenttreeID:s});setTimeout((function(){console.assert(s),k["a"].updateContenttree(o,s,i,a).then((function(e){console.log("RESPONSE OF CONTENTTREE UPDATE IS HERE...",e.data),console.assert(null===e||void 0===e?void 0:e.data),console.assert("OK"in e.data);var t=e.data.contents;t&&Object.values(t).length&&(console.log("STORE MODIFIED CONTENT TO DISK",t),r("update_contents",{modifiedContents:t}))})).catch((function(e){console.warn("Request Error",e)}))}))},add_or_update_contenttree:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contenttree,s=t.configuration;n("add_or_update_contenttree",{contenttreeID:r,contenttree:o,configuration:s})},update_contents:function(e,t){var n=e.commit,r=e.getters,o=e.dispatch,s=t.modifiedContents;console.log("RETRIEVED MODIFIED CONTENTS (2)",s),console.assert(void 0!==s),console.assert(null!==s);for(var i={},a=0,u=Object.values(s);a<u.length;a++){var l=u[a];console.assert(void 0!==l),console.assert(null!==l);var c=l.content.contenttree_id;r.monitorPathChange({contentTuple:l})&&(i[c]||(i[c]=[]),i[c].push(l.content.id)),n("update_content",{contentTuple:l})}i.length&&(console.log("PATH STRUCTURE IS TO UPDATE FOR ",contentIdsToUpdate.length," contents"),Object.entries(i).forEach((function(e){var t=P()(e,2),n=t[0],r=t[1];console.assert(n),o("updateTreeStructure",{contenttreeID:n,contentIdsToUpdate:r})})))},update_content:function(e,t){var n=e.commit,r=e.getters,o=t.contentTuple;console.assert(void 0!==o),console.assert(null!==o);var s=r.monitorPathChange({contentTuple:o});if(n("update_content",{contentTuple:o}),s){var i=o.content.contenttree_id;console.assert(i),n("updateTreeStructure",{contenttreeID:i,contentIdsToUpdate:[o.content.id]})}},update_rating:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID,s=t.topicID,i=t.rating;n("update_rating",{contenttreeID:r,contentID:o,rating:i}),s&&s!==o&&(console.log("update_discussed...topicID",s),n("update_discussed",{contenttreeID:r,contentID:s}))},update_review:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID,s=t.reviewed;n("update_review",{contenttreeID:r,contentID:o,reviewed:s})},update_salience:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID,s=t.topicID,i=t.salience;n("update_salience",{contenttreeID:r,contentID:o,salience:i}),s&&s!==o&&n("update_discussed",{contenttreeID:r,contentID:s})},update_read:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.contentID;n("update_read",{contenttreeID:r,contentID:o})},update_discussed:function(e,t){var n,r=e.getters,o=e.commit,s=t.contenttreeID,i=t.contentID;console.assert(i),console.log("first step in updat_discussion",s,i);var a=r.get_content({contenttreeID:s,contentID:i});null!==a&&void 0!==a&&null!==(n=a.progression)&&void 0!==n&&n.discussed||o("update_discussed",{contenttreeID:s,contentID:i})},update_expanded_branches:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.rootNodeID,s=t.expanded;n("update_expanded_branches",{contenttreeID:r,rootNodeID:o,expanded:s})},deleteContentStore:function(e){var t=e.commit;t("deleteContentStore")},syncContenttree:function(e,t){var n,r,o=e.state,i=e.dispatch,a=(e.localgetters,e.rootState,e.rootGetters,t.assemblyIdentifier),u=t.contenttreeID,l=t.oauthUserID,c=o.contenttree[u]&&l!=(null===(n=o.contenttree[u])||void 0===n?void 0:n.access_sub);c&&s["default"].set(o,"contenttree",{});var d=!o.contenttree[u],f=!d&&k["a"].expiredCacheDate(null===(r=o.contenttree[u])||void 0===r?void 0:r.access_date);if(!f&&!d&&!c)return i("checkToUpdateContenttree",{assemblyIdentifier:a,contenttreeID:u}),!0;console.log("Cache expired: reload contenttree",f,c,d),i("retrieveContenttree",{assemblyIdentifier:a,contenttreeID:u,timelag:!d&&!c})},checkToUpdateContenttree:function(e,t){var n,r=e.state,o=e.dispatch,s=(e.localgetters,e.rootState,e.rootGetters,t.assemblyIdentifier),i=t.contenttreeID,a=null===(n=r.contenttree[i])||void 0===n?void 0:n.update_date;console.assert(a);var u=k["a"].expiredUpdateDate(a);if(!u)return!0;console.log("Its update time: check for modified / new contents"),o("updateContenttree",{assemblyIdentifier:s,contenttreeID:i,update_date:a,timelag:!0})}},L={add_or_update_contenttree:function(e,t){var n=t.contenttreeID,r=t.contenttree,o=t.configuration,i=null,a=null;n in e.contenttree&&(i=e.contenttree[n].configuration),r.configuration=o||i,a&&(r.expanded=a),s["default"].set(e.contenttree,n,r)},update_content:function(e,t){var n=t.contentTuple;console.assert(void 0!==n),console.assert(null!==n);var r=n.content.contenttree_id,o=n.content.id;o in e.contenttree[r].entries||(console.assert(n.content),console.assert(n.creator),s["default"].set(e.contenttree[r].entries,n.content.id,{})),n.progression&&s["default"].set(e.contenttree[r].entries[o],"progression",n.progression),n.content&&s["default"].set(e.contenttree[r].entries[o],"content",n.content),n.creator&&s["default"].set(e.contenttree[r].entries[o],"creator",n.creator),n.path&&s["default"].set(e.contenttree[r].entries[o],"path",n.path)},updateTreeStructure:function(e,t){var n=t.contenttreeID,r=t.contentIdsToUpdate;console.log("content that have changed their parent object",r);var o=Object.values(e.contenttree[n].entries).filter((function(e){return!e.path||e.path.some((function(e){return r.includes(e)}))}));console.log("content that is affected by parent_id modifications",o),o.forEach((function(t){console.log("UPDATE PATH FOR FOLLOGING CONTENTS",r);var o=t.content.id,i=e.contenttree[n].entries[o],a=e.contenttree[n].rootElementIds,u=a.includes(t.content.id);console.assert(!o||i);var l=[];while(i)l.unshift(o),o=i.content.parent_id,i=o?e.contenttree[n].entries[o]:null,console.assert(!o||i);console.log("updated Path: ",t,":",l),s["default"].set(e.contenttree[n],"path",l),t.content.parent_id&&u&&(a=a.filter((function(e){return e!==t.content.id})),s["default"].set(e.contenttree[n],"rootElementIds",a)),t.content.parent_id||u||(a.push(t.content.id),s["default"].set(e.contenttree[n],"rootElementIds",a)),console.log("CURRENT ROOT ELEMENTS:, ",a)}))},update_expanded_branches:function(e,t){var n=t.contenttreeID,r=t.rootNodeID,o=t.expanded,i=n+"-"+r;s["default"].set(e.expanded_branches,i,o)},delete_contenttree:function(e,t){t.contenttreeID;s["default"].set(e.contenttree,key,null)},set_update_date_to_current:function(e,t){var n=t.contenttreeID,r=new Date;s["default"].set(e.contenttree[n],"update_date",r)},update_rating:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=t.rating;if(null===a||void 0===a)return null;var u=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;u||(u={read:!0,discussed:!0}),u.rating=a,s["default"].set(e.contenttree[o].entries[i],"progression",u)},update_review:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=t.reviewed;if(null===a||void 0===a)return null;var u=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.content;console.assert(u),u.reviewed=a,s["default"].set(e.contenttree[o].entries[i],"content",u)},update_read:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;a||(a={read:!1,discussed:!1,rating:null,salience:null}),a.read=!0,s["default"].set(e.contenttree[o].entries[i],"progression",a)},update_discussed:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;a?(console.log("update.. progressison discussed",i),s["default"].set(e.contenttree[o].entries[i].progression,"discussed",!0)):(a={read:!0,discussed:!0,rating:null,salience:null},console.log("add progressison",a),s["default"].set(e.contenttree[o].entries[i],"progression",a))},update_salience:function(e,t){var n,r,o=t.contenttreeID,i=t.contentID,a=t.salience;if(void 0===a)return null;var u=null===(n=e.contenttree[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;u?(console.log("update.. progressison salienced",i,a),s["default"].set(e.contenttree[o].entries[i].progression,"salience",a)):(u={read:!0,salience:a,discussed:!0,view:!1},s["default"].set(e.contenttree[o].entries[i],"progression",u))},deleteContentStore:function(e){s["default"].set(e,"contenttree",{}),s["default"].set(e,"expanded_branches",{})}},z={namespaced:!0,state:M,getters:$,actions:U,mutations:L},j={peerreviews:{}},B={all_peerreviews:function(e){if(!Object.keys(e.peerreviews).length)return null;var t=[];return Object.keys(e.peerreviews).forEach((function(n){var r=e.peerreviews[n].entries;r&&Object.values(r).forEach((function(e){t.push(e)}))})),t},loadedPeerreviewContententtrees:function(e){return Object.keys(e.peerreviews)},load_all_peerreviews_by_content_id:function(e){if(!Object.keys(e.peerreviews).length)return null;var t={};return Object.keys(e.peerreviews).forEach((function(n){var r=e.peerreviews[n].entries;r&&Object.values(r).forEach((function(e){if(!e.disabled){var n=e.content.id;t[n]||(t[n]=[]),t[n].push(e)}}))})),t},get_user_peerreviews_by_content_id:function(e){if(!Object.keys(e.peerreviews).length)return null;var t={};return Object.keys(e.peerreviews).forEach((function(n){var r=e.peerreviews[n].entries;r&&Object.values(r).forEach((function(e){if(e.progression&&!e.disabled){var n=e.progression&&R["b"].isSameDate(new Date,e.progression.date_responded,"day");if(n||!e.peerreview.approved&&!e.peerreview.rejected){var r=e.content.id;t[r]||(t[r]=[]),t[r].push(e)}}}))})),t},get_user_peerreviews_by_parent_and_content:function(e,t){if(null===t.get_user_peerreviews_by_content_id)return null;for(var n={},r=0,o=Object.entries(t.get_user_peerreviews_by_content_id);r<o.length;r++){var s=P()(o[r],2),i=s[0],a=s[1],u=a[Object.keys(a)[0]],l=u.content.parent_id;n[l]||(n[l]={}),n[l][i]=a}return n},get_peerreview_by_content:function(e,t){return function(e){var n=e.contentID;console.assert(n),console.log("load peerreview of contentID",n);var r=t.load_all_peerreviews_by_content_id;return console.assert(null!=r),n in r?r[n]:[]}},get_peerreview:function(e){return function(t){var n=t.contenttreeID,r=t.peerreviewID;if(e.peerreviews.contenttreeID)return e.peerreviews[n].entries[r]}}},F={retrievePeerreviews:function(e,t){var n=e.commit,r=t.assemblyIdentifier,o=t.contenttreeID,s=t.timelag,i=s?5e3:0;setTimeout((function(){console.assert(o),k["a"].retrievePeerreviews(r,o).then((function(e){console.assert(e.data),console.assert("OK"in e.data),console.assert("peerreviews"in e.data),n("add_or_update_peerreviews",{contenttreeID:o,peerreviews:e.data.peerreviews})})).catch((function(e){console.warn("Request Error",e)}))}),i)},update_response:function(e,t){var n=e.commit,r=t.contenttreeID,o=t.peerreviewID,s=t.response,i=t.accept1,a=t.accept2,u=t.accept3;n("update_response",{contenttreeID:r,peerreviewID:o,response:s,accept1:i,accept2:a,accept3:u})},updatePeerreviews:function(e,t){var n=e.commit,r=t.assemblyIdentifier,o=t.contenttreeID,s=t.update_date,i=t.timelag;console.log("UPDATE CONTENTTREE; now! with timelage",i),n("set_update_date_to_current",{contenttreeID:o});setTimeout((function(){console.assert(o),k["a"].updatePeerreviews(r,o,s,i).then((function(e){console.log("RESPONSE OF CONTENTTREE UPDATE IS HERE....",e.data),console.assert(e.data),console.assert("OK"in e.data);var t=e.data.contents;t&&Object.values(t).length&&(console.log("STORE MODIFIED CONTENT TO DISK",t),n("update_reviews",{peerreviewTuple:t}))})).catch((function(e){console.warn("Request Error",e)}))}))},updatePeerreviewTuples:function(e,t){e.commit,e.getters;var n=e.dispatch,r=t.modifiedPeerreviews;console.log("RETRIEVED MODIFIED CONTENTS (2)",r),console.assert(void 0!==r),console.assert(null!==r);for(var o=0,s=Object.values(r);o<s.length;o++){var i=s[o];console.assert(void 0!==i),console.assert(null!==i),n("updatePeerreviewTuple",{peerreviewTuple:i})}},updatePeerreviewTuple:function(e,t){var n=e.commit,r=t.peerreviewTuple;console.log(r),n("update_reviews",{peerreviewTuple:r})},deletePeerreviewStore:function(e){var t=e.commit;t("deletePeerreviewStore")},syncPeerreviews:function(e,t){var n,r,o=e.state,i=e.dispatch,a=t.assemblyIdentifier,u=t.contenttreeID,l=t.oauthUserID,c=o.peerreviews[u]&&l!=(null===(n=o.peerreviews[u])||void 0===n?void 0:n.access_sub);c&&s["default"].set(o,"peerreviews",{});var d=!o.peerreviews[u],f=!d&&k["a"].expiredCacheDate(null===(r=o.peerreviews[u])||void 0===r?void 0:r.access_date);if(!f&&!d&&!c)return i("checkToUpdatePeerreviews",{assemblyIdentifier:a,contenttreeID:u}),!0;console.log("Cache expired: reload peerreviews",f,c,d),i("retrievePeerreviews",{assemblyIdentifier:a,contenttreeID:u,timelag:!0})},checkToUpdatePeerreviews:function(e,t){var n,r=e.state,o=e.dispatch,s=t.assemblyIdentifier,i=t.contenttreeID,a=null===(n=r.peerreviews[i])||void 0===n?void 0:n.update_date;console.assert(a);var u=k["a"].expiredUpdateDate(a);if(!u)return!0;console.log("Its update time: check for modified / new contents"),o("updatePeerreviews",{assemblyIdentifier:s,contenttreeID:i,update_date:a,timelag:!0})}},G={add_or_update_peerreviews:function(e,t){var n=t.contenttreeID,r=t.peerreviews;console.assert(n),console.log("add_or_update_peerreviews",n,r),s["default"].set(e.peerreviews,n,r)},update_reviews:function(e,t){var n=t.peerreviewTuple;console.assert(void 0!==n),console.assert(null!==n);var r=n.peerreview.contenttree_id,o=n.peerreview.id;o in e.peerreviews[r].entries||(console.assert(n.peerreview),console.assert(n.creator),s["default"].set(e.peerreviews[r].entries,o,{})),n.peerreview&&s["default"].set(e.peerreviews[r].entries[o],"peerreview",n.peerreview),n.progression&&s["default"].set(e.peerreviews[r].entries[o],"progression",n.progression),n.content&&s["default"].set(e.peerreviews[r].entries[o],"content",n.content),n.creator&&s["default"].set(e.peerreviews[r].entries[o],"creator",n.creator)},set_update_date_to_current:function(e,t){var n=t.contenttreeID,r=new Date;s["default"].set(e.peerreviews[n],"update_date",r)},update_response:function(e,t){var n,r,o=t.contenttreeID,i=t.peerreviewID,a=t.response,u=t.accept1,l=t.accept2,c=t.accept3;if(null===a||void 0===a)return null;console.log("UPDATE VUEX PREEVIEW");var d=null===(n=e.peerreviews[o])||void 0===n||null===(r=n.entries[i])||void 0===r?void 0:r.progression;d?(s["default"].set(e.peerreviews[o].entries[i].progression,"response",a),s["default"].set(e.peerreviews[o].entries[i].progression,"criteria_accept1",u),s["default"].set(e.peerreviews[o].entries[i].progression,"criteria_accept2",l),s["default"].set(e.peerreviews[o].entries[i].progression,"criteria_accept3",c)):(d={response:a,criteria_accept1:u,criteria_accept2:l,criteria_accept3:c},s["default"].set(e.peerreviews[o].entries[i],"progression",d))},deletePeerreviewStore:function(e){s["default"].set(e,"peerreviews",{})}},H={namespaced:!0,state:j,getters:B,actions:F,mutations:G},W=(n("7db0"),n("c975"),n("13d5"),n("4e82"),n("cca6"),{assemblydata:{},stages:{},milestones:{}}),K={assemblyTuple:function(e,t){return v["b"].assemblyIdentifier?e.assemblydata[v["b"].assemblyIdentifier]:null},assembly:function(e,t){return t.assemblyTuple?t.assemblyTuple.assembly:null},assemblyName:function(e,t){if(t.assembly)return t.assembly.title},assemblyType:function(e,t){if(t.assembly)return t.assembly.type},assemblyConfiguration:function(e,t){return t.assemblyTuple?t.assemblyTuple.configuration:(console.log("...assemblyTuple not ready"),null)},assembly_userid:function(e,t){return t.assemblyTuple?t.assemblyTuple.access_sub:(console.log("...assemblyTuple not ready"),null)},assemblyProgression:function(e,t){return t.assemblyTuple?t.assemblyTuple.progression:null},assembly_stages:function(e,t){if(!t.assemblyTuple)return console.log("...assemblyTuple not ready"),null;var n=t.assemblyTuple.stages,r=Object.keys(e.stages).filter((function(e){return n.includes("".concat(e))})).reduce((function(t,n){return t[n]=e.stages[n],t}),{});return r},assemblyAcls:function(e,t,n,r){if(!v["b"].assemblyIdentifier)return null;var o=r["publicprofilestore/translateOauthAcls"];return o(v["b"].assemblyIdentifier)},IsManager:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes("manage"):null},IsObserver:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes("observe"):null},IsContributor:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes("add"):null},IsExpert:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes("expert"):null},IsDelegate:function(e,t){return t.assemblyAcls?t.assemblyAcls.includes("delegate"):null},stageMilestones:function(e,t){var n;if(console.log(">> NOTE: stageMilestones"),!v["b"].stageID)return console.log("...stageID not ready"),null;var r=null===(n=t.assemblyProgression)||void 0===n?void 0:n.number_of_day_sessions;console.assert(r&&r>0);var o=e.milestones[r];if(!o)return[];var s=o[v["b"].stageID];return s||[]},stageMilestoneLabels:function(e,t){var n=t.stageMilestones;return n?n.map((function(e){return e.label})):(console.log("empty milestoness...............sldfls"),[])},stageMilestoneWeigths:function(e,t){var n=t.stageMilestones;if(!n)return{};var r={};return n.forEach((function(e){e.label in r||(r[e.label]=0),r[e.label]+=parseInt(e.weight)})),r},stageMilestonesCompleted:function(e,t){var n=t.stageMilestones;console.assert(null!==n);var r=n.reduce((function(e,t){return e+t["weight"]}),0);return r>=12},stage:function(e,t,n,r,o,s){var i=t.assembly_stages;return i[v["b"].stageID]},assembly_sorted_stages:function(e,t){var n=t.assembly_stages;return n?n?Object.values(n).sort((function(e,t){return e.stage.order_position<t.stage.order_position?-1:e.stage.order_position>t.stage.order_position?1:0})):void 0:null},next_scheduled_stage:function(e,t){var n=t.assembly_sorted_stages;if(!n)return console.log("assemmbly is not yet loaded"),null;var r=n.find((function(e){return t.is_stage_scheduled(e)&&!t.is_stage_disabled(e)&&!t.is_stage_completed(e)}));return r},last_accessible_stage:function(e,t){var n=t.next_scheduled_stage,r=t.assembly_sorted_stages;return r?n||r[r.length-1]:(console.log("assemmbly is not yet loaded"),null)},assembly_scheduled_stages:function(e,t){var n=t.assembly_sorted_stages;return n?n.filter((function(e){return t.is_stage_scheduled(e)})):(console.log("assemmbly is not yet loaded"),null)},assembly_accessible_stages:function(e,t){var n=t.assembly_sorted_stages;if(!n)return console.log("assemmbly is not yet loaded"),null;var r=t.last_accessible_stage;return console.assert(r),n.filter((function(e){return e.stage.order_position<=r.stage.order_position&&!t.is_stage_disabled(e)&&!t.is_stage_completed(e)}))},assembly_accessible_stage_ids:function(e,t){var n=t.assembly_accessible_stages;return n?n.map((function(e){return e.stage.id})):null},get_stage_number_by_stage:function(e,t){return function(e){console.assert(e);var n=t.assembly_sorted_stages;console.assert(n);var r=n.map((function(e){return e.stage.id})),o=r.indexOf(e.stage.id);return console.assert(o>-1),o}},get_stage_number_by_stage_id:function(e,t){return function(e){if(!e)return null;var n=t.assembly_sorted_stages;if(!n)return null;console.assert(n);var r=n.map((function(e){return e.stage.id})),o=r.indexOf(e);return console.assert(o>-1),o}},find_next_accessible_stage:function(e,t){return function(e){console.assert(e);var n=t.assembly_accessible_stages.find((function(t){return t.stage.order_position>e.stage.order_position}));return n}},is_stage_first:function(e,t){return function(e){console.assert(e);var n=t.assembly_sorted_stages;return n[0]==e}},is_stage_last:function(e,t){return function(e){var n;console.assert(e),console.assert(e.stage);var r=t.assembly_sorted_stages;return console.assert(r[r.length-1]),(null===(n=r[r.length-1])||void 0===n?void 0:n.stage.id)==e.stage.id}},is_stage_scheduled:function(e,t){return function(e){return console.assert(e),!t.is_stage_completed(e)&&(t.is_stage_alerted(e)||t.is_stage_new(e))}},is_stage_new:function(e){return function(e){return console.assert(e),!e.progression}},is_stage_alerted:function(e){return function(e){return!e.progression||e.progression.alerted}},is_stage_idle:function(e,t){return function(e){return console.assert(e),!t.is_stage_scheduled(e)&&!t.is_stage_completed(e)&&!t.is_stage_disabled(e)}},is_stage_skipped:function(e){return function(e){var t;return console.assert(e),null===(t=e.progression)||void 0===t?void 0:t.skipped}},is_stage_disabled:function(e){return function(e){return console.assert(e),!1}},is_stage_completed:function(e){return function(e){var t;return console.assert(e),!0===(null===(t=e.progression)||void 0===t?void 0:t.completed)}},is_stage_accessible:function(e,t){return function(e){console.assert(e);var n=t.assembly_accessible_stage_ids;return n.includes(e.stage.id)}},is_stage_done:function(e,t){return function(e){return console.log(e),console.assert(e),t.is_stage_accessible(e)||t.is_stage_completed(e)}},is_first_day:function(e,t){return function(e){return R["b"].isSameDate(e.progression.date_created,Date.now(),"day")}}},q={syncAssembly:function(e,t){var n=e.state,r=e.dispatch,o=(e.getters,e.rootState,e.rootGetters,t.oauthUserID),s=v["b"].assemblyIdentifier;if(!n.assemblydata[s])return r("retrieveAssembly",{assemblyIdentifier:s}),null;var i=o!=n.assemblydata[s].access_sub,a=!n.assemblydata[s]||k["a"].expiredCacheDate(n.assemblydata[s].access_date);return a||i?(console.log(" Assembly not in sync  or wrong user...",a,n.assemblydata[s].access_date),r("retrieveAssembly",{assemblyIdentifier:s}),null):(p["a"].$emit("AssemblyLoaded"),null)},deleteAssemblyStore:function(e){var t=e.commit;t("deleteAssemblyStore")},retrieveAssembly:function(e,t){var n=e.commit,r=t.assemblyIdentifier;k["a"].retrieveAssembly(r).then((function(e){var t=e.data;n("storeAssembly",{assemblyIdentifier:r,data:t}),console.log("EVENT: AssemblyLoaded: Assembly retrieved from Resource Server"),p["a"].$emit("AssemblyLoaded")})).catch((function(e){console.warn(e),console.warn("Request Error")}))},addOrUpdateStage:function(e,t){var n=e.commit,r=t.stage,o=v["b"].assemblyIdentifier;console.log("stage: ",r,o),k["a"].addOrUpdateStage(o,r).then((function(e){console.log(e.data);var t=e.data;console.assert(!!t.assembly),console.assert(!!t.stages),n("storeAssemblyStage",{assemblyIdentifier:o,data:t})})).catch((function(e){console.warn(e),console.warn("Request Error")}))},updateAssembly:function(e,t){var n=e.commit,r=t.assembly,o=v["b"].assemblyIdentifier;console.log("assembly: ",r),k["a"].updateAssembly(r.identifier,r).then((function(e){console.log(e.data);var t=e.data;console.assert(!!t.assembly),n("storeAssemblyObject",{assemblyIdentifier:o,assembly:t.assembly})})).catch((function(e){console.warn(e),console.warn("Request Error")}))},addMilestone:function(e,t){var n,r=e.getters,o=e.commit,s=t.label,i=t.weight,a=t.key;console.assert(i),console.assert(s),a||(a="default"),console.log("ADD MILESTONE",s," WEIGHT:",i," KEY:",a);var u=null===(n=r.assemblyProgression)||void 0===n?void 0:n.number_of_day_sessions,l=v["b"].stageID;console.assert(l);var c=r.stageMilestones;if(console.assert(null!==c),c){var d=c.find((function(e){return e.label===s&&e.key===a}));if(d)return!1}return o("addMilestone",{label:s,weight:i,key:a,day:u,stageID:l}),!0},incrementAssemblyActivityCounter:function(e,t){var n=e.commit,r=t.counterName;console.assert(["number_of_proposals_today","number_of_comments_today"].includes(r)),n("incrementAssemblyActivityCounter",{assemblyIdentifier:v["b"].assemblyIdentifier,counterName:r})},updateFocusedContent:function(e,t){var n=e.commit,r=t.stageID,o=t.contentID;console.assert(r),console.assert(o),n("updateFocusedContent",{stageID:r,contentID:o})},storeStageProgressionAlertFlag:function(e,t){var n=e.commit,r=t.stageID,o=t.alerted;console.assert(r),n("storeStageProgressionAlertFlag",{stageID:r,alerted:o})},storeStageProgressionCompleted:function(e,t){var n=e.commit,r=t.stageID,o=t.completed;console.assert(r),n("storeStageProgressionCompleted",{stageID:r,completed:o})}},V={storeAssembly:function(e,t){var n=t.assemblyIdentifier,r=t.data,o=e.stages;s["default"].set(e,"stages",Object.assign({},o,r.stages)),r.stages=Object.keys(r.stages),s["default"].set(e.assemblydata,n,r)},storeAssemblyStage:function(e,t){var n=t.assemblyIdentifier,r=t.data;s["default"].set(e,"stages",r.stages);var o=JSON.parse(JSON.stringify(r.stages)),i=Object.keys(o);s["default"].set(e.assemblydata[n],"stages",i)},storeAssemblyObject:function(e,t){var n=t.assemblyIdentifier,r=t.assembly;if(!e.assemblydata[n])return null;s["default"].set(e.assemblydata[n],"assembly",r)},storeAssemblyProgression:function(e,t){var n=t.assemblyIdentifier,r=t.progression;if(!e.assemblydata[n])return null;s["default"].set(e.assemblydata[n],"progression",r)},storeStageObject:function(e,t){var n=t.stageID,r=t.stage;if(!e.stages[n])return null;s["default"].set(e.stages[n],"stage",r)},storeStageProgression:function(e,t){var n=t.stageID,r=t.progression;if(!e.stages[n])return null;s["default"].set(e.stages[n],"progression",r)},storeStageProgressionAlertFlag:function(e,t){var n,r=t.stageID,o=t.alerted;if(console.log("STORE ALERTED FLAG"),null!==(n=e.stages[r])&&void 0!==n&&n.progression)s["default"].set(e.stages[r].progression,"alerted",o);else{var i={alerted:o};s["default"].set(e.stages[r],"progression",i)}},storeStageProgressionCompleted:function(e,t){var n,r=t.stageID,o=t.completed;if(console.log("STORE COMPLETED FLAG"),null!==(n=e.stages[r])&&void 0!==n&&n.progression)e.stages[r].progression.alerted&&o&&s["default"].set(e.stages[r].progression,"alerted",!1),s["default"].set(e.stages[r].progression,"completed",o);else{var i={alerted:!1,completed:o};s["default"].set(e.stages[r],"progression",i)}},incrementAssemblyActivityCounter:function(e,t){var n,r=t.assemblyIdentifier,o=t.counterName;if(!e.assemblydata[r])return null;var i=null===(n=e.assemblydata[r])||void 0===n?void 0:n.progression;console.assert(i);var a=0;null!==i[o]&&(a=i[o]),s["default"].set(e.assemblydata[r].progression,o,a+1)},updateFocusedContent:function(e,t){var n=t.stageID,r=t.contentID;if(!e.stages[n])return null;if(e.stages[n].progression)s["default"].set(e.stages[n].progression,"focused_content_id",r);else{var o={focused_content_id:r,alerted:!0};s["default"].set(e.stages[n],"progression",o)}},deleteAssemblyStore:function(e){s["default"].set(e,"assemblydata",{}),s["default"].set(e,"stages",{}),s["default"].set(e,"milestones",{})},addMilestone:function(e,t){var n=t.label,r=t.weight,o=t.key,i=t.day,a=t.stageID;console.assert(n),console.assert(r),console.assert(i),console.assert(a),i in e.milestones||s["default"].set(e.milestones,i,{}),console.assert(null!==e.milestones[i]),a in e.milestones[i]||s["default"].set(e.milestones[i],a,[]);var u={label:n,weight:r,key:o},l=e.milestones[i][a].length;s["default"].set(e.milestones[i][a],l,u)}},Y={namespaced:!0,state:W,mutations:V,actions:q,getters:K},Z=(n("8a79"),n("1276"),n("18a5"),n("4bde")),X=n("8c4f"),J=n("448a"),Q=n.n(J),ee={topmenu:"assemblies_ongoing_list"},te=[{path:"/:assemblyIdentifier/textsheet/:stageID/:contenttreeID/",name:"TEXTSHEET",component:function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,"e9fc"))},meta:ee}],ne=te,re=[{path:"/:assemblyIdentifier/vaa/",component:function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,"0fe0"))},children:[{path:":stageID/conclusion",name:"VAA_CONCLUSION",component:function(){return Promise.all([n.e(0),n.e(1),n.e(27)]).then(n.bind(null,"5cda"))},meta:{assemblyAcl:"delegate"}},{path:":stageID/questions/:contentID",name:"VAA_QUESTIONS_ENTRY",component:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"6a52"))},meta:{assemblyAcl:"delegate"}},{path:":stageID/questions",name:"VAA_QUESTIONS",component:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"6a52"))},meta:{assemblyAcl:"delegate"}},{path:":stageID/topics",name:"VAA_TOPICS",component:function(){return Promise.all([n.e(0),n.e(1),n.e(29)]).then(n.bind(null,"6119"))},meta:{assemblyAcl:"delegate"}},{path:"",name:"VAA",component:function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,"e955"))},meta:{hideAssemblyMenu:!0,assemblyAcl:"delegate"}}]}],oe=re,se=[{path:"/:assemblyIdentifier/survey/:stageID",name:"SURVEY",component:function(){return Promise.all([n.e(0),n.e(1),n.e(26)]).then(n.bind(null,"7bbf"))},meta:{assemblyAcl:"delegate"}}],ie=se,ae=[{path:"/:assemblyIdentifier/profile/:stageID",name:"PROFILEUPDATE",component:function(){return Promise.all([n.e(0),n.e(1),n.e(25)]).then(n.bind(null,"0079"))}}],ue=ae,le=[];le.push.apply(le,Q()(oe)),le.push.apply(le,Q()(ne)),le.push.apply(le,Q()(ie)),le.push.apply(le,Q()(ue));var ce=le,de={topmenu:"assemblies_ongoing_list"},fe={assemblyAcl:"delegate"},me={assemblyAcl:"manager"},he=[{path:"/",component:function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,"713b"))},children:[{path:"",name:"home",component:function(){return Promise.all([n.e(0),n.e(1),n.e(23)]).then(n.bind(null,"8b24"))}},{path:"/authorization",props:!0,name:"authorization",component:function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"28e6"))}},{path:"/logout",name:"logout",component:function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"ca28"))}},{path:"/t/:ttoken",name:"tokenlogin",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"75d2"))}},{path:"/l/:ltoken",name:"ltokenlogin",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"75d2"))}},{path:"/sekretariat",name:"profile",props:!0,component:function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,"1640"))}},{path:"/hintergrund",name:"background",component:function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,"33d5"))}},{path:"/news",name:"news",component:function(){return Promise.all([n.e(0),n.e(1),n.e(24)]).then(n.bind(null,"4b86"))}},{path:"/pause",name:"pause",component:function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"5a06"))}},{path:"/impressum",name:"impressum",component:function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,"acc6"))}},{path:"/:assemblyIdentifier/agenda/:stageID",name:"assembly_home_stepper",component:function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"36c9"))},meta:h()(h()({},de),fe)},{path:"/:assemblyIdentifier/stage/:stageID",name:"stage",component:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,"3963"))},meta:de},{path:"/:assemblyIdentifier/stage/:stageID/:contenttreeID",name:"contenttree",component:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,"3963"))},meta:de},{path:"/:assemblyIdentifier/stage/:stageID/:contenttreeID/:contentID",name:"content",component:function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,"3963"))},meta:de}].concat(Q()(ce),[{path:"/:assemblyIdentifier",name:"assembly_home",component:function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"36c9"))},meta:h()(h()({},de),fe)},{path:"/:assemblyIdentifier/manage",name:"assembly_manage",component:function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,"20d5"))},meta:me},{path:"/:assemblyIdentifier/manage/tree/:stageID/:contenttreeID",name:"assembly_manage_tree",component:function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,"39ad"))},meta:me},{path:"*",component:function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,"e51e"))}}])}],ge=he,pe=new X["a"]({scrollBehavior:function(e,t){if(e.hash){var n={selector:e.hash,offset:{y:100}};return n}return e.params.savePosition?{}:{x:0,y:0}},routes:ge,mode:"history",base:"/"}),be=Object(Z["route"])((function(e){var t=e.Vue;return t.use(X["a"]),pe.beforeEach((function(e,t,n){var r;return null!==(r=e.params)&&void 0!==r&&r.assemblyIdentifier&&(console.log("0","kkkkkkk"),1==parseInt("0"))?n("/pause"):n()})),pe.afterEach((function(e,t){var n,r,o;null!==(n=e.params)&&void 0!==n&&n.assemblyIdentifier&&(v["a"].setAssemblyIdentifier(e.params.assemblyIdentifier),null!==(null===(r=e.params)||void 0===r?void 0:r.stageID)&&void 0!==(null===(o=e.params)||void 0===o?void 0:o.stageID)&&(v["a"].setStageID(e.params.stageID),p["a"].$emit("showLoading")))})),pe.currentRouteObject=function(){return{name:this.currentRoute.name,params:this.currentRoute.params}},pe.pushR=function(e){var t=this.resolve(e).href,n=this.resolve(this.currentRouteObject()).href;t===n?p["a"].$emit("reload"):this.push(e)},pe.pushI=function(e){var t=this.resolve(e).href,n=this.resolve(this.currentRouteObject()).href;t!==n&&this.push(e)},pe.anchor=function(e){var t=document.querySelector("a[name=".concat(e,"]"));console.log(t,"el"),t&&t.scrollIntoView();var n=200,r=window.scrollY;r&&window.scroll(0,r-n)},pe})),_e=n("bc78"),ve=_e["a"].changeAlpha,Ie={randomSeed:null,publicProfile:{},oauthAcls:[],AMCache:{}},ye={randomLocalStorageSeed:function(e){return e.randomSeed},is_in_testing_phase:function(e){var t,n;return e.publicProfile?null===(t=e.publicProfile)||void 0===t||null===(n=t.configuration)||void 0===n?void 0:n.t:null},get_public_profile:function(e){return e.publicProfile?e.publicProfile.user:null},lightProfileColor:function(e,t){var n,r=null===(n=e.publicProfile)||void 0===n?void 0:n.user;return r?ve(r.CO,.2):"#CCCCCC"},profileColor:function(e,t){var n,r=null===(n=e.publicProfile)||void 0===n?void 0:n.user;return r?r.CO:"#AAAAAA"},oauthAcls:function(e){return console.log("get acls transmitted via JWT token"),e.oauthAcls},translateOauthAcls:function(e,t){return function(e){var n=t.oauthAcls;if(!n)return[];var r=n.filter((function(t){return t.endsWith("@".concat(e))})),o=(r=r.map((function(e){return e.split("@")[0]})),[]);return r.includes("administrator")&&o.push("administrate","manage","observe"),r.includes("manager")&&o.push("manage","observe"),r.includes("delegate")&&o.push("delegate","modify","add","observe"),r.includes("contributor")&&o.push("contribute","observe"),r.includes("expert")&&o.push("expert","observe"),s["default"].prototype.pkce.isAuthorized()&&o.push("observe"),o}},getAMCache:function(e){return function(t){return e.AMCache[t]}}},we={touchRandomSeed:function(e){var t=e.commit;t("set_random_seed")},setAMCache:function(e,t){var n=e.commit,r=t.cacheKey,o=t.itemId;n("setAMCache",{cacheKey:r,itemId:o})},syncProfile:function(e,t){var n,r=e.state,o=e.dispatch,s=(e.localgetters,e.rootState,e.rootGetters,t.oauthUserID),i=t.oauthUserEmail;if(!s)return o("deletePublicProfile"),null;if(!r.publicProfile)return o("retrievePublicProfile",{oauthUserID:s,oauthUserEmail:i}),null;var a=s!=r.publicProfile.access_sub;a&&o("deletePublicProfile");var u=k["a"].expiredCacheDate(null===(n=r.publicProfile)||void 0===n?void 0:n.access_date);return u||a?(console.log(" Public Profile not in sync  or wrong user..."),o("retrievePublicProfile",{oauthUserID:s,oauthUserEmail:i}),null):null},gotoProfile:function(e){e.state,e.dispatch,e.localgetters,e.rootState,e.rootGetters;var t=pe.currentRouteObject();console.log(t),"profile"==t.name?p["a"].$emit("reload"):pe.push({name:"profile",params:{destination_route:t}})},deletePublicProfile:function(e){var t=e.commit;t("storePublicProfile",{}),t("deleteAMCahce")},retrievePublicProfile:function(e,t){var n=e.commit;e.dispatch,t.oauthUserID,t.oauthUserEmail;k["a"].publicProfile().then((function(e){var t=e.data;return n("storePublicProfile",{data:t}),null})).catch((function(e){console.warn(e),console.warn("Request Error")}))},storeOauthAcls:function(e,t){var n=e.commit,r=t.oauthAcls;n("storeOauthAcls",r)}},Ee={storePublicProfile:function(e,t){var n=t.data;s["default"].set(e,"publicProfile",n)},storeOauthAcls:function(e,t){s["default"].set(e,"oauthAcls",t)},set_random_seed:function(e){if(!e.randomSeed){var t=Math.floor(Math.random()*Math.floor(99))+1;e.randomSeed=t}},setAMCache:function(e,t){var n=t.cacheKey,r=t.itemId;e.AMCache[n]=r},deleteAMCahce:function(e){e.AMCache={}}},Te={namespaced:!0,state:Ie,mutations:Ee,actions:we,getters:ye},Oe={publicIndex:null},De={ongoing_assemblies:function(e){var t=e.publicIndex;if(null===t)return null;var n=Object.filter(e.publicIndex.assemblies,(function(e){return e.is_active}));return Object.values(n)},published_assemblies:function(e){if(null===e.publicIndex||void 0===e.publicIndex)return null;var t=Object.filter(e.publicIndex.assemblies,(function(e){return e.is_public}));return Object.values(t)},UsersManagerAssemblies:function(e,t,n,r){if(0===e.publicIndex.assemblies.length)return!1;var o=r["publicprofilestore/translateOauthAcls"],s=Object.filter(e.publicIndex.assemblies,(function(e){var t=o(e.identifier);return t.includes("manage")}));return Object.values(s)},UsersDelegateAssemblies:function(e,t,n,r){if(null===t.ongoing_assemblies)return null;if(0===t.ongoing_assemblies.length)return!1;var o=r["publicprofilestore/translateOauthAcls"],s=Object.filter(t.ongoing_assemblies,(function(e){var t=o(e.identifier);return t.includes("delegate")}));return Object.values(s)},IsUserDelegateOfOngoingAssembly:function(e,t){var n=t.UsersDelegateAssemblies;return n&&Object.values(n).length>0},IsThereAnAssemblyInPublicState:function(e,t){return null==e.published_assemblies?null:e.published_assemblies.length>0},IsThereAnAssemblyOngoing:function(e,t){return null===t.ongoing_assemblies?null:t.ongoing_assemblies.length>0},IsThereNothingGoingOn:function(e,t){return null===t.IsThereAnAssemblyInPublicState||null===t.IsThereAnAssemblyInPublicState?null:!t.IsThereAnAssemblyOngoing&&!t.IsThereAnAssemblyInPublicState},isUserAssemblyManager:function(e,t,n,r){return function(e){var t=r["publicprofilestore/translateOauthAcls"],n=t(e);return n.includes("manage")}}},Se={syncPublicIndex:function(e){var t=e.state,n=e.dispatch;e.localgetters,e.rootState,e.rootGetters;if(null===t.publicIndex||void 0===t.publicIndex)return console.log("...public Index cache is empty"),n("retrievePublicIndex"),null;var r=k["a"].expiredCacheDate(t.publicIndex.access_date);return r&&(console.log("public Index cache is outdated"),n("retrievePublicIndex")),null},retrievePublicIndex:function(e){var t=e.commit;console.log("Retrieve publicIndex from resource server"),k["a"].retrievePublicIndex().then((function(e){console.assert(null!==e.data&&void 0!==e.data),t("storePublicIndex",e.data)})).catch((function(e){console.log(e),console.warn("Request Error")}))}},Ae={storePublicIndex:function(e,t){s["default"].set(e,"publicIndex",t)}},ke={namespaced:!0,state:Oe,mutations:Ae,actions:Se,getters:De},Re=R["b"].getDateDiff;s["default"].use(g["a"]);var Ne=new g["a"].Store({modules:{publicprofilestore:Te,assemblystore:Y,publicindexstore:ke,contentstore:z,peerreviewstore:H},plugins:[Object(A["a"])()],strict:!1,state:{monitor_buffer:[],monitor_date:Date.now()},actions:{clearUserData:function(e){e.state;var t=e.dispatch,n=e.commit;t("monitorExit"),t("publicprofilestore/deletePublicProfile",{commit:n}),t("contentstore/deleteContentStore",{commit:n}),t("peerreviewstore/deletePeerreviewStore",{commit:n}),t("assemblystore/deleteAssemblyStore",{commit:n})},monitorSetup:function(e){e.state,e.dispatch;var t=e.commit;t("monitor_setup"),console.log("/setup ")},monitorExit:function(e){e.state,e.dispatch;var t=e.commit;t("monitor_reset",{});var n=null;t("monitor_update_date",{now:n})},monitorReset:function(e){e.state,e.dispatch;var t=e.commit;console.log("API Monitored. => Clear Buffer"),t("monitor_reset",{})},monitorFire:function(e,t){var n=e.state,r=e.dispatch,o=e.commit,i=t.eventString,a=t.data;if(console.log("/fire ",i),i&&o("monitor_add",{eventString:i,data:a}),!n.monitor_buffer||0==n.monitor_buffer.length)return null;var u=new Date;o("monitor_update_date",{now:u}),k["a"].monitorActivities(n.monitor_buffer).then((function(e){var t,n;if(!e.ok)return null;if(console.log("ACTION MONITORED: OK!"),null!==(t=e.response.errors)&&void 0!==t&&t.length&&e.response.errors.forEach((function(e){console.error(e.message,e.event)})),null!==(n=e.response.warnings)&&void 0!==n&&n.length){var i=[];e.response.warnings.forEach((function(e){var t,n,r;if(null!==(t=e.event)&&void 0!==t&&t.eventString&&!i.includes(null===(n=e.event)||void 0===n?void 0:n.eventString)){i.push(null===(r=e.event)||void 0===r?void 0:r.eventString);var o=e.message;o in _["a"].MONITOR_WARNING_MESSAGES&&(o=_["a"].MONITOR_WARNING_MESSAGES[o]),s["default"].prototype.$q.notify({type:"nFabrikWarning",message:o})}}))}k["a"].oauthSessionActive()&&r("updateStore",{data:e.response}),o("monitor_reset",{now:u})}))},monitorLog:function(e,t){var n=e.state,r=e.dispatch,o=e.commit,s=t.eventString,i=t.data;if(s&&o("monitor_add",{eventString:s,data:i}),!n.monitor_buffer||0==n.monitor_buffer.length)return null;var a=Date.now();if(Re(a,n.monitor_date,"seconds")<2*parseInt("60"))return null;i={},s=null,r("monitorFire",{eventString:s,data:i})},updateStore:function(e,t){e.state;var n=e.dispatch,r=e.commit,o=t.data;"assemblies"in o&&(Object.keys(o.assemblies).map((function(e){var t=o.assemblies[e];if("assembly"in t){var n=t.assembly;r("assemblystore/storeAssemblyObject",{assemblyIdentifier:e,assembly:n})}if("progression"in t){var s=t.progression;r("assemblystore/storeAssemblyProgression",{assemblyIdentifier:e,progression:s})}})),"stages"in o&&Object.keys(o.stages).map((function(e){var t=o.stages[e];if("stage"in t){var n=t.stage;r("assemblystore/storeStageObject",{stageID:e,stage:n})}if("progression"in t){var s=t.progression;r("assemblystore/storeStageProgression",{stageID:e,progression:s})}})),"contents"in o&&(console.log("RETRIEVED MODIFIED CONTENTS",o.contents),n("contentstore/update_contents",{modifiedContents:o.contents})),"peerreviews"in o&&(console.log("RETRIEVED MODIFIED PEERREVIEWS",o.peerreviews),n("peerreviewstore/updatePeerreviewTuples",{modifiedPeerreviews:o.peerreviews})))}},mutations:{monitor_setup:function(e){var t=new Date;s["default"].set(e,"monitor_date",t)},monitor_add:function(e,t){var n=t.eventString,r=t.data,o=e.monitor_buffer,i=new Date;o.push({eventString:n,data:r,date:i}),s["default"].set(e,"monitor_buffer",o)},monitor_update_date:function(e,t){var n=t.now;s["default"].set(e,"monitor_date",n)},monitor_reset:function(e,t){var n=t.now;if(n||(n=new Date),!e.monitor_buffer)return null;var r=e.monitor_buffer.filter((function(e){return Re(e.date,n,"seconds")>0}));s["default"].set(e,"monitor_date",n),s["default"].set(e,"monitor_buffer",r)}}}),Pe=function(){return xe.apply(this,arguments)};function xe(){return xe=o()(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof Ne){e.next=6;break}return e.next=3,Ne({Vue:s["default"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Ne;case 7:if(t=e.t0,"function"!==typeof be){e.next=14;break}return e.next=11,be({Vue:s["default"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=be;case 15:return n=e.t1,t.$router=n,r={router:n,store:t,render:function(e){return e(S)}},r.el="#q-app",e.abrupt("return",{app:r,store:t,router:n});case 20:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}n("c740"),n("a434");var Ce=n("09f9"),Me=n("32801"),$e=n.n(Me);n("4c53");n.e(30).then(n.t.bind(null,"ce78",7));var Ue=n("8c57"),Le=Ue.OAuth2AuthCodePKCE,ze={install:function(e,t){e.prototype.pkce=new Le(t),e.prototype.login=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;localStorage.setItem("oauth2authcodepkce-destination",JSON.stringify(t)),e.prototype.pkce.fetchAuthorizationCode()},e.prototype.refresh_token=o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("@@@ START TOKEN REFRESH"),e.prototype.setOngoingTokenRefresh(!0),t.prev=2,t.next=5,e.prototype.pkce.exchangeRefreshTokenForAccessToken();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),console.log("Error while refreshing token #83",t.t0);case 10:n=e.prototype.pkce.state.accessToken.value,b["a"].$emit("TokenChanges",n),b["a"].$emit("AfterTokenChanged",n),e.prototype.setOngoingTokenRefresh(!1),console.log("@@@ END WITH REFRESH");case 15:case"end":return t.stop()}}),t,null,[[2,7]])}))),e.prototype.ensureNoRefreshTokenIsOngoing=o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=0,r=4,t.abrupt("return",new Promise((function(t,o){(function s(){return e.prototype.getOngoingTokenRefresh()?(n++,n>=10*r?(console.log("(infinity loop)"),e.prototype.setOngoingTokenRefresh(!1),o("infinity loop")):(console.log("."),void setTimeout(s,100))):t()})()})));case 3:case"end":return t.stop()}}),t)}))),e.prototype.getOngoingTokenRefresh=o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.prototype.pkce.state.ongoingTokenRefresh);case 1:case"end":return t.stop()}}),t)}))),e.prototype.setOngoingTokenRefresh=function(){var t=o()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.prototype.pkce.state.ongoingTokenRefresh=n,console.log(" ongoing SHALL BE ",n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.prototype.oauth=new e({data:function(){return{jwt:null}},computed:{authorized:function(){var t,n,r;this.jwt||(this.jwt=null===(t=e.prototype.pkce)||void 0===t||null===(n=t.state)||void 0===n||null===(r=n.accessToken)||void 0===r?void 0:r.value);var o=this.jwt&&e.prototype.pkce.isAuthorized();return!!o},ongoing:function(){return null===this.authorized||void 0===this.authorized},payload:function(){return this.authorized?JSON.parse(window.atob(this.jwt.split(".")[1])):null},userid:function(){var e;return null===(e=this.payload)||void 0===e?void 0:e.sub}},methods:h()(h()({},Object(g["b"])({storeOauthAcls:"publicprofilestore/storeOauthAcls"})),{},{expiredJWT:function(){if(this.payload)return console.log("EXPIRES IN ",Math.round(this.payload.exp-(new Date).getTime()/1e3,1)/60," minutes."),this.payload.exp<(new Date).getTime()/1e3+5},refresh_token_if_required:function(){var t=o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.prototype.pkce.isAuthorized()){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,this.expiredJWT();case 4:if(!t.sent){t.next=15;break}if(!e.prototype.getOngoingTokenRefresh()){t.next=10;break}return t.next=8,e.prototype.ensureNoRefreshTokenIsOngoing().catch((function(e){return!1}));case 8:t.next=11;break;case 10:e.prototype.setOngoingTokenRefresh(!0);case 11:if(!this.expiredJWT()){t.next=14;break}return t.next=14,e.prototype.refresh_token();case 14:e.prototype.setOngoingTokenRefresh(!1);case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),logout:function(){var t=this;return o()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("$$$ LOGOUT IN PLUGIN"),e.prototype.pkce.reset(),t.jwt=null,b["a"].$emit("TokenChanges",null),b["a"].$emit("AfterTokenChanged",null),setTimeout((function(){return b["a"].$emit("AfterLogout")}),10);case 6:case"end":return n.stop()}}),n)})))()},initialize:function(){var t=o()(regeneratorRuntime.mark((function t(){var n,r,o,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b["a"].$on("TokenChanges",(function(e){i.jwt=e})),t.next=3,e.prototype.pkce.isReturningFromAuthServer().catch((function(e){e&&(console.log(e,"#4385"),Promise.reject(e)),console.log("catch without potentialError?",e)}));case 3:return n=t.sent,r=null,t.prev=5,t.next=8,e.prototype.pkce.getAccessToken();case 8:r=t.sent,r=null===(o=r)||void 0===o||null===(s=o.token)||void 0===s?void 0:s.value,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log("Not logged in, right?",t.t0);case 15:b["a"].$emit("TokenChanges",r),b["a"].$emit("AfterTokenChanged",r),n&&b["a"].$emit("AfterLogin");case 18:case"end":return t.stop()}}),t,null,[[5,12]])})));function n(){return t.apply(this,arguments)}return n}()})})}},je={install:function(e,t){e.prototype.$assemblyTypes.push("VAA")}};s["default"].prototype.Constants=_["a"];var Be=Ce["a"].sizes;Be.md=850,Be.sm=450,Ce["a"].setSizes(Be),s["default"].use($e.a,{namedConfigurations:{alink:{ADD_ATTR:["target"]}}}),Object.filter=function(e,t){return Object.keys(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return t[n]=e[n],t}),{})},s["default"].prototype.$nLength=function(e){return null===e?0:e.length},s["default"].prototype.$loaded=function(e){return null!==e&&void 0!==e},s["default"].prototype.$sample=function(e){return e[Math.floor(Math.random()*e.length)]},s["default"].prototype.$pushSorted=function(e,t){if(!t.content.order_position)return e.push(t),e;function n(e,t){var n=e.findIndex((function(e){return e.content.order_position>t.content.order_position}));return-1===n?e.length:n}var r=n(e,t);return e.splice(r,0,t),e},s["default"].prototype.$getOffsetTop=function(e){var t=0;while(e)t+=e.offsetTop,e=e.offsetParent;return t},l["a"].registerType("nFabrikInfo",{icon:"mdi-announcement",color:"brown",textColor:"white",classes:"glossy"}),l["a"].registerType("nFabrikError",{icon:"mdi-error",color:"red",textColor:"white",classes:"glossy"}),l["a"].registerType("nFabrikWarning",{icon:"mdi-warning",color:"orange-10",textColor:"white"});var Fe={authorizationUrl:"".concat("http://localhost:8010","/o/authorize/"),tokenUrl:"".concat("http://localhost:8010","/o/token/"),clientId:"xF6n5vYaxCp3GJXDkKBFgHJlY25Z3U4MmT3N2Grk",scopes:["read"],redirectUrl:"".concat("http://localhost").concat("/authorization"),onAccessTokenExpiry:function(e){return console.log("Expired! Access token needs to be renewed. (onAccessTokenExpiry)"),e()},onInvalidGrant:function(e){if(!v["b"].appExitState)throw console.log("TOKEN REFRESH FAILED"),new Error("ErrorInvalidGrant");Promise.resolve()}};s["default"].use(ze,Fe),s["default"].prototype.$assemblyTypes=[],s["default"].use(je);var Ge=n("8847"),He="/";function We(){return Ke.apply(this,arguments)}function Ke(){return Ke=o()(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:t=e.sent,n=t.app,r=t.store,o=t.router,i=!1,a=function(e){i=!0;var t=Object(e)===e?o.resolve(e).route.fullPath:e;window.location.href=t},u=window.location.href.replace(window.location.origin,""),l=[void 0,Ge["a"]],c=0;case 11:if(!(!1===i&&c<l.length)){e.next=29;break}if("function"===typeof l[c]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,l[c]({app:n,router:o,store:r,Vue:s["default"],ssrContext:null,redirect:a,urlPath:u,publicPath:He});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:c++,e.next=11;break;case 29:if(!0!==i){e.next=31;break}return e.abrupt("return");case 31:new s["default"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Ke.apply(this,arguments)}We()},"5319b":function(e,t,n){"use strict";n("4de4"),n("4160"),n("caad"),n("e260"),n("d3b7"),n("07ac"),n("2532"),n("159b"),n("ddb0");var r=n("ded3"),o=n.n(r),s=n("2f62"),i=n("c937"),a=n("28e9"),u=n("9651"),l=n("c75e"),c=n("c9d9");t["a"]={mixins:[i["a"],Object(a["ReactiveProvideMixin"])({name:"CONTENTTREE",include:["contenttreeID","contenttree","salienceCompleted","rootElements","rootNode","limitForAddingProposalsReached","limitForAddingCommentsReached"]})],provide:function(){return{getContentReference:this.getContentReference,isRead:this.isRead,isAlerted:this.isAlerted,markDiscussed:this.markDiscussed,markRead:this.markRead,openIndex:this.openIndex,openArgument:this.openArgument,filter_entries:this.filter_entries}},data:function(){return{}},watch:{contenttreeID:function(e,t){e&&this.$store.dispatch("contentstore/syncContenttree",{assemblyIdentifier:u["b"].assemblyIdentifier,contenttreeID:e,oauthUserID:this.oauth.userid})}},computed:o()({ready:function(){var e=this.$loaded(this.contenttree)&&this.$loaded(this.contenttree.rootElementIds);return e&&l["a"].$emit("hideLoading"),e},contenttreeID:function(){var e,t,n,r,o,s;return console.log("load contenttreeID in contentree.computed"),this.routed_stage&&null!==(e=this.routed_stage)&&void 0!==e&&null!==(t=e.stage)&&void 0!==t&&t.contenttree_id?(console.log("contenttreeID",null===(n=this.routed_stage)||void 0===n||null===(r=n.stage)||void 0===r?void 0:r.contenttree_id),null===(o=this.routed_stage)||void 0===o||null===(s=o.stage)||void 0===s?void 0:s.contenttree_id):(console.log(" routed_stage not loaded"),null)},contenttree:function(){if(console.log("load contenttree in contentree.computed"),!this.contenttreeID)return null;console.assert(u["b"].assemblyIdentifier);var e=this.get_contenttree({contenttreeID:this.contenttreeID});return console.log("contenttree",e),e},contents:function(){return this.contenttree.entries},rootNode:function(){return{id:null,path:[],children:this.rootElements}},rootElements:function(){var e,t=this;if(null!==(e=this.contenttree)&&void 0!==e&&e.rootElementIds){var n=[];return this.contenttree.rootElementIds.forEach((function(e){var r=t.contenttree.entries[e];n=t.$pushSorted(n,r)})),n}},salienceCompleted:function(){if(this.routed_stage)return 0==this.numberOfUnsaliencedTopLevelEntries},numberOfUnratedTopLevelEntries:function(){var e=this;if(null==this.contenttree)return null;var t=this.rootElements.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.rating)}));return Object.values(t).length},numberOfUnsaliencedTopLevelEntries:function(){var e=this;if(null==this.contenttree)return null;var t=this.rootElements.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.salience)}));return Object.values(t).length}},Object(s["c"])({get_contenttree:"contentstore/get_contenttree"})),methods:o()({openIndex:function(){this.$router.push({name:this.routed_stage.stage.type,params:{assemblyIdentifier:u["b"].assemblyIdentifier,stageID:u["b"].stageID}})},openArgument:function(e){this.standalone||this.$router.push({name:this.routed_stage.stage.type,params:{assemblyIdentifier:u["b"].assemblyIdentifier,stageID:u["b"].stageID,contentID:e}})},filter_entries:function(e,t){if(!e)return null;var n=e.filter((function(e){return t.includes(e.content.type)}));return n},isRead:function(e){var t;return!(null===e||void 0===e||null===(t=e.progression)||void 0===t||!t.read)},isAlerted:function(e){var t;return!(null===e||void 0===e||null===(t=e.progression)||void 0===t||!t.alerted)},isSalienced:function(e){var t;return this.$loaded(null===(t=e.progression)||void 0===t?void 0:t.salience)},isRated:function(e){var t;this.$loaded(null===(t=e.progression)||void 0===t?void 0:t.rating)},markRead:function(e){var t={contentID:e.content.id};this.$root.monitorLog(c["a"].MONITOR_SET_CONTENT_READ,t),this.update_read({contenttreeID:this.contenttreeID,contentID:e.content.id})},getContentReference:function(e){console.assert(e);var t=this.contenttree.entries[e];return t.content.title},markDiscussed:function(e){var t={contentID:e.content.id};this.$root.monitorLog(c["a"].MONITOR_SET_CONTENT_DISCUSSED,t),this.update_discussed({contenttreeID:this.CONTENTTREE.contenttreeID,contentID:e.content.id})}},Object(s["b"])("contentstore",["update_read","update_discussed"])),mounted:function(){var e;null!==(e=this.routed_stage)&&void 0!==e&&e.stage.contenttree_id&&this.oauth.userid&&this.$store.dispatch("contentstore/syncContenttree",{assemblyIdentifier:u["b"].assemblyIdentifier,contenttreeID:this.routed_stage.stage.contenttree_id,oauthUserID:this.oauth.userid})}}},"5e55":function(e,t,n){"use strict";n("d3af")},"7c15":function(e,t,n){"use strict";n("99af"),n("96cf");var r=n("c973"),o=n.n(r),s=n("2105"),i=n("bd4c"),a=n("2b0e");t["a"]={expiredCacheDate:function(e){if(!e)return!1;e=new Date(e);var t=i["b"].addToDate(e,{minutes:parseInt("20")});return new Date(Date.now())>t},expiredUpdateDate:function(e){if(!e)return!1;e=new Date(e);var t=i["b"].addToDate(e,{minutes:parseInt("1")});return new Date(Date.now())>t},authProfile:function(e){return o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("API authProfile"),t.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return e.client_id="xF6n5vYaxCp3GJXDkKBFgHJlY25Z3U4MmT3N2Grk",n="".concat("http://localhost:8010","/accounts/emailupdate"),r={method:"post",url:n,data:e,headers:{"content-type":"application/json"}},t.abrupt("return",s["a"].customRequest(r));case 7:case"end":return t.stop()}}),t)})))()},publicProfile:function(){return o()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("API publicProfile"),e.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return t="".concat("http://localhost:8020","/profile"),e.next=6,s["a"].get(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))()},apireset:function(e){return o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("API reset"),t.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return n="",n="".concat("http://localhost:8020",e?"/user/fullreset":"/user/dayreset"),t.abrupt("return",s["a"].get(n));case 6:case"end":return t.stop()}}),t)})))()},monitorActivities:function(e){return o()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["default"].prototype.oauth.refresh_token_if_required();case 2:return n="".concat("http://localhost:8020","/monitor"),t.next=5,s["a"].post(n,{buffer:e});case 5:return r=t.sent,t.abrupt("return",r.data);case 7:case"end":return t.stop()}}),t)})))()},retrievePublicIndex:function(){return o()(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("API retrievePublicIndex"),t="".concat("http://localhost:8020","/assemblies"),n={method:"GET",url:t,WithoutAuthHeader:!0},e.next=5,s["a"].customRequest(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},retrieveAssembly:function(e){return o()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("API retrieveAssembly"),t.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return n="".concat("http://localhost:8020","/assembly/").concat(e),t.next=6,s["a"].get(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()},addOrUpdateStage:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["default"].prototype.oauth.refresh_token_if_required();case 2:return r="".concat("http://localhost:8020","/assembly/").concat(e,"/stage"),t.id&&(r+="/".concat(t.id)),n.abrupt("return",s["a"].post(r,{stage:t}));case 5:case"end":return n.stop()}}),n)})))()},updateAssembly:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["default"].prototype.oauth.refresh_token_if_required();case 2:return r="".concat("http://localhost:8020","/assembly/").concat(e,"/assembly/form/").concat(t.id),console.assert(t.id),n.abrupt("return",s["a"].post(r,{assembly:t}));case 5:case"end":return n.stop()}}),n)})))()},retrieveContenttree:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("API retrieveContenttree"),n.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return r="".concat("http://localhost:8020","/assembly/").concat(e,"/contenttree/").concat(t,"/contenttree"),n.next=6,s["a"].get(r);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()},updateContenttree:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("API retrieveContenttree"),r.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return o="".concat("http://localhost:8020","/assembly/").concat(e,"/contenttree/").concat(t,"/update"),r.next=6,s["a"].post(o,{content:{update_date:n}});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()},saveContent:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("API saveContent"),r.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return o="".concat("http://localhost:8020","/assembly/").concat(e),n.id?o+="/content/".concat(n.id,"/save"):o+="/contenttree/".concat(t,"/addcontent"),r.next=7,s["a"].post(o,{content:n});case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()},proposeContent:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("API saveContent",t),r.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return o="".concat("http://localhost:8020","/assembly/").concat(e),n.id?o+="/content/".concat(n.id,"/propose"):o+="/contenttree/".concat(t,"/propose"),r.next=7,s["a"].post(o,{content:n});case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()},contentDetail:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("API contentDetail",t),n.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return r="".concat("http://localhost:8020","/assembly/").concat(e,"/content/").concat(t,"/detail"),n.next=6,s["a"].get(r);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()},oauthSessionActive:function(){return!!s["a"].getHeader()},retrievePeerreviews:function(e,t){return o()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("API retrievePeerreviews"),n.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return r="".concat("http://localhost:8020","/assembly/").concat(e,"/contenttree/").concat(t,"/peerreviews"),n.next=6,s["a"].get(r);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()},updatePeerreviews:function(e,t,n){return o()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("API updatePeerreviews"),r.next=3,a["default"].prototype.oauth.refresh_token_if_required();case 3:return o="".concat("http://localhost:8020","/assembly/").concat(e,"/contenttree/").concat(t,"/peerreviewupdate"),r.next=6,s["a"].post(o,{content:{update_date:n}});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()}}},8847:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));n("99af"),n("4de4"),n("a15b");var r=n("2b0e"),o=n("a925"),s={app:{name:"Demokratiefabrik",version:"v1.0",error:{toomanyrequests_error_title:"Das waren gerade sehr viele Anfragen an unsere Server.",toomanyrequests_error_body:"Diese Meldung kann viele Ursachen haben: Zum Beispiel bei zuvielen Anfragen in kurzer Zeit oder auch bei zuvielen verwendeten Gerten pro User. Haben Sie etwas Geduld. Es kann gut sein, dass es nach einer Pause wieder funktioniert.",authorization_error_title:"Zugang verweigert",authorization_error_body:"Sie sind nicht berechtigt auf diesen Bereich der Demokratiefabrik zuzugreifen.",service_error_title:"Betriebsstrung",service_error_body:"Im Betrieb der Demokratiefabrik ist eine Strung aufgetreten. Wir bitten Sie um Entschuldigung. Wenn dies das erste Mal auftritt, schlagen wir vor, die Seite neu zu laden.",network_error_title:"Kommunikationsstrung",network_error_body:"Die Kommunikation innnerhalb der Demokratiefabrik ist gerade beeintrchtigt. Es kann sein, dass dadurch einige Angaben, die sie gemacht haben, nicht an den Server bermittelt werden konnten. Wir bitten dafr um Entschuldigung."},btn_close:"Schliessen",btn_back:"Zurck",btn_next:"Weiter",btn_reload:"Seite neu laden",btn_skip:"berspringen",btn_cancel:"Abbrechen",btn_home:"Zur Startseite",btn_goto_profile:"Zum Sekretariat",ask_for_bookmark_title:"Hinweis:",ask_for_bookmark:"Mchten Sie diese Webseite whrend dem Event in Ihren Favoriten/Lesezeichen speichern? Dann drcken Sie die beiden Tasten {bookmarkKeys}"},disclaimer:{btnLabel:"Weiterfhrende Erluterungen",contenttree:{basic:"Um die Diskussion bersichtlich zu halten, behalten wir uns vor, die Inhalte innerhalb des Forums\n      nach belieben zu strukturieren und auch ohne Angaben von Grnden (insbesondere bei Redundanzen und Verstssen gegen unsere AGB) zu lschen. Die Inhalte in diesem Forum werden\n      in hierarchischer (und nicht in chronologischer) Reihenfolge aufgelistet.\n      Die Reihenfolge der Inhalte auf gleicher Hierarchiestufe ist zufllig und variiert von Benutzer zu Benutzer.",extensionExtraLarge:"Die Diskussion ist schon recht umfassend. Welche bersichtlich bleibt,\n      wurden nur wenige zufllig ausgewhlte Beitrge vollstndig aufgeklappt.\n      Sie knnen die restlichen Beitrge selbst per Mausklick ffnen.",peerreview:"Alle Teilnehmende knnen auf dieser Seite neue Vorschlge einbringen, wie der Smartvote-Fragebogen besser gemacht werden kann. \n        Sie knnen also vorschlagen, Smartvote- Fragen zu erstellen, zu bearbeiten oder auch zu lschen.\n        Zufllig ausgewhlte Teilnehmende werden hier dann angefragt zu diesen Vorschlgen Stellung zu nehmen.\n        Nach 24 Stunden wird aufgelst: Bei einer Mehrheit an positiven Antworten, werden die Vorschlge automatisch umgesetzt. "}},am:{actor:{1:"Felix",2:"Sophie"},gender:{1:function(){return 0},2:function(){return 1}},reference:"Meine Kollegin {actorPartner} | Mein Kollege {actorPartner}",tooltip:{1:"Ich bin {actor}.",2:"Ich heisse {actor}"}},language:{switcher_label:"Sprachwahl",items:{"en-us":{label:"English"},"de-ch":{label:"Deutsch"}}},menu:{items:{locked:{tooltip:"Dieser Bereich ist noch nicht zugnglich. Unsere ModeratorInnen haben zuerst noch eine andere Bitte an Sie!"}}},auth:{name_derivation:'Ihr Namensgeber ist der {altitude} Meter hohe Berg "{fullname}" ({canton})',name_derivation_3rd_party:'Der Namensgeber ist der {altitude} Meter hohe Berg "{fullname}" ({canton})',name_derivation_3rd_party_short:'in Kniz stimmberechtigt. Das Pseudonym stammt vom {altitude} Meter hohen Berg "{fullname}" ({canton})',login_button_label:"Anmeldung",logout:"Abmelden",login_button_text:"Klicken Sie auf 'Anmeldung', wenn Sie sich anmelden mchten. Eine Anmeldung ist notwendig, um sich aktiv in der Fabrik zu beteiligen.",registered_as:"Ihr Pseudonym",not_registered:"Nicht angmeldet",profile_last_name:"Pseudonym",profile_email:"Email",profile_email_hint:"Falls Sie keine Email Adresse besitzen, dann knnen sie auch ihre Handy Nummer eingeben. Wir werden Sie dann via SMS kontaktieren.",profile_email_disclaimer:"Sie fragen sich, wozu wir Ihre Emailadresse bentigen? Wir werden Ihnen in den kommenden Tagen wenige Emails zusenden, wie Benachrichtigungen ber wichtige Ereignisse auf der Plattform und eine Einladung zur Nachbefragung fr die wissenschaftliche Begleitstudie. Die Daten werden auf dem Server der Universitt Bern gespeichert und vertraulich behandelt. Gleich nach Ende des Projektes werden wir smtliche Emailadressen wieder von unserm Server an der Universitt Bern lschen.Ihre Emailadressen werden zu keinem Zeitpunkt an Dritte weitergegeben.",profile_update_action:"Speichern",profile_update_success:"Das Benutzerprofil wurde gespeichert",profile_update_error:"Das Benutzerprofil konnte nicht gespeichert werden",profile_load_error:"Das Benutzerprofil konnte nicht geladen werden",goto_authentication_form:"Zur Anmeldung",goto_profile_page:"Benutzerprofil berarbeiten",tooltip_authenticated:"Klicken Sie hier um Ihr Benutzerprofil einzusehen oder sich abzumelden.",tooltip_non_authenticated:"Sie sind noch nicht in der Demokratiefabrik angemeldet. Hier knnen Sie dies tun.",logout_succeeded_title:"Vielen Dank und auf Wiedersehen",logout_succeeded_caption:"Natrlich freuen wir uns auf einen erneuten Besuch. Wie wrs gleich morgen?",authentication_succeeded_title:"Anmeldung erfolgreich.",authentication_succeeded_caption:"Sie haben sich erfolgreich bei der Demokratiefabrik angemeldet. Wir danken Ihnen schon jetzt fr Ihre Mithilfe.",authentication_warning_title:"Anmeldung erforderlich.",authentication_warning_body:"Sie haben sich noch nicht bei der Demokratiefabrik angemeldet. Fr den Zugriff auf diesen Bereich ist dies jedoch erforderlich.",authentication_invalid_warning_title:"Session beendet.",authentication_invalid_warning_body:"Hoppla! Um weiterzufahren mssen Sie sich erneut anmelden.",authentication_error_title:"Anmeldung schlug fehl.",authentication_error_body:"Bei der Anmeldung tratt ein unerwarteter Fehler auf. Bitte kontakieren Sie uns via Email: info@demokratiefabrik.ch"},stages:{home_title:"Ihre Agenda fr den {current_date}",status_completed:"Nicht mehr zugnglich",status_not_yet_accessible:"Noch nicht zugnglich",status_disabled:"Deaktiviert",status_deleted:"Gelscht",please_enter_stage:"ffnen",goto_next_stage:"Weiter zum nchsten Punkt",am:{welcome_full_schedule:"Dann legen wir los. Heute sind {numberOfStages} Punkte auf Ihrer Agenda.",welcome_partial_schedule:"Nun habe ich nur noch eine Bitte fr Heute. | Nun sind es nur noch {numberOfScheduledStages} Punkte fr heute.",welcome_empty_schedule:"Super! Ich glaube fr heute haben wir keine konkreten Fragen mehr an sie.",enter_first:"Wir fangen hier an. Sind Sie bereit?",enter_continue:"Wir fahren hier nun weiter. Sind Sie bereit?",enter_end:"Das ist nun mein letzter Wunsch fr heute. Folgen Sie mir bitte folgen.",already_seen:"Das haben Sie sich schon angesehen. Jetzt brauchen wir Sie andernorts. Kommen Sie mit?",all_stages_already_seen:"Wenn Sie mchten, knnen Sie sich das natrlich noch einmal ansehen?",already_completed:"Dieser Bereich haben Sie bereits abgeschlossen.",attention_needed:"Bitte folgen Sie mir.",enter_unique_stage:"Dies ist heute der einzige Punkt auf dem Programm. Sind Sie bereit?"}},background:{h1:"Alles ber die Demokratiefabrik!",citizen_assemblies:{label:"Die Demokratiefabrik  ein neuer Ort fr digitale Beteiligung",text:"Die Demokratiefabrik ist ein digitaler Ort, wo sich Brgerinnen und Brger treffen, um gemeinsam ber verschiedene Themen zu diskutieren und festgelegte Endprodukte zu fabrizieren. Ziel der Demokratiefabrik ist, die Bevlkerung strker in politische Entscheidungsprozesse einzubeziehen. Obwohl die Digitalisierung hierzu eigentlich zahlreiche Chancen bietet, sind aus verschiedenen Grnden digitale Beteiligungsformate noch stark limitiert, bergen Risiken und haben nicht selten einen schlechten Ruf. Es fehlen sorgfltig entworfene digitale Beteiligungsformate, die es ermglichen, die Demokratie im digitalen Zeitalter zu strken. Mit diesem vom Schweizerischen Nationalfond (SNF) untersttzten Forschungsprojekt wollen wir die Forschung in diesem Bereich vorantreiben. Zu wissen, unter welchen Bedingungen digitale Beteiligungsformen die Demokratie strken knnen, stellt die Grundlage fr eine erfolgreiche Brgerbeteiligung im digitalen Zeitalter dar."},digital_participation:{label:"Was Sie auf unserer digitalen Plattform erwartet",text:"Wir haben mit der Demokratiefabrik ein digitales Beteiligungsformat entwickelt, das den Brgerinnen und Brgern ermglicht, eigene Argumente und berzeugungen in den Abstimmungs- und Wahldiskurs einzubringen. Damit soll nicht nur das Vertrauen in Online-Infrastruktur gestrkt, sondern auch die Legitimitt der direkten Demokratie erhht werden. Damit das gelingt, setzen wir auf folgende Neuerungen: Zum einen setzen wir auf die zufllige Auswahl einer reprsentativen Stichprobe von Personen. Zum anderen soll mittels technischer Innovation gewhrleistet werden, dass eine maximale Diversitt von Argumenten und Positionen in die Diskussion einfliessen und dass Teilnehmende im politischen Gestaltungsprozess eine autonome Rolle spielen. Teilnehmende an der Demokratiefabrik haben die Mglichkeit, eigene Beitrge zu verfassen sowie zufllig ausgeloste Beitrge von anderen Nutzenden zu bewerten und zu kommentieren."},team:{label:"Wer fr die Demokratiefabrik verantwortlich ist",text:"Beteiligt an den Projekten sind fr die Projektleitung Dr. Marlne Gerber (Hauptverantwortliche), Prof. Dr. Marc Bhlmann, Dr. Anja Heidelberger, Dr. Dominik Wyss (Verantwortlicher Plattform) und Giada Gianola (Doktorandin im Projekt) am Institut fr Politikwissenschaft der Universitt Bern. Das Projekt profitiert vom Expertenwissen von Prof. Dr. Andr Bchtiger (Universitt Stuttgart) und Dr. Marc Klein (MIT, Center for Collective Intelligence). Die smartvote-Fallstudie erfolgt in Zusammenarbeit mit smartvote (Michael Erne). Der Schweizerische Nationalfonds untersttzt das Projekt seit April 2020 fr eine Dauer von 36 Monaten im Rahmen des NFP77 Digitale Transformation."},artificialmoderators:{label:"@:am.actor.2 und @:am.actor.1 - Das Moderatorenteam",text:"Bestimmt sind Ihnen bereits Sophie und Felix begegnet. Unser Moderator und unsere Moderatorin begleiten Sie bei der Mitarbeit in der Demokratiefabrik. Sie machen Sie auf die wichtigsten Aufgaben aufmerksam und fhren Sie Schritt fr Schritt durch unsere Plattform."},next_steps:{label:"Die nchsten Schritte",text:"Konkret werden im Projekt zwei Prototypen digitaler Beteiligung getestet: 1) Wahlberechtigte stellen einen smartvote-Fragekatalog zusammen und 2) Stimmberechtigte erstellen ein Argumentarium zu einer eidgenssischen Abstimmungsvorlage. Die Demokratiefabrik ist erstmals vom 14. Juni bis 2. Juli 2021 im Einsatz: 9'000 zufllig ausgewhlte Wahlberechtigte der Gemeinde Kniz erhalten dann die Gelegenheit, den smartvote-Fragebogen fr die Gemeindewahlen vom 26. September 2021 mitzugestalten."},transparency:{label:"Vollstndige Transparenz",text:"Ein wichtiges Anliegen von uns ist, dass die Funktionsweise unserer Software von der interessierten ffentlich jederzeit nachvollzogen und auf Herz und Nieren berprft werden kann. Unsere Software ist Open Source, das heisst der Quelltext ist ffentlich und kann von Dritten eingesehen, gendert und genutzt werden. Die Software kann kostenlos verwendet werden. Doch auch fr Leute ohne IT-Kenntnisse schaffen wir Transparenz. Allem voran finden sich auf der Plattform an verschiedensten Stellen das folgende Icon {iconTechnicalTransparency}. Dahinter verbergen sich jeweils Erluterungen, wie genau und warum etwas gemacht wurde."},privacy:{label:"Maximaler Datenschutz",text:"Die Privatsphre aller teilnehmenden Personen ist uns wichtig. Daher arbeiten wir auf der Plattform ausschliesslich mit Pseudonymen. Wir erfassen einzig Personendaten (namentlich die Email-Adresse oder alternativ die Handy-Nummer), welche fr das Funktionieren der Demokratiefabrik notwendig sind. Diese Daten werden nach Beendigung der Demokratiefabrik auf unseren Servern gelscht. Auch whrend der Projektphase werden diese zu keinem Zeitpunkt mit den Nutzungsaktivitten innerhalb der Demokratiefabrik verknpft, so das Rckschlsse auf Ihre Person nicht mglich sind. Die Daten werden allesamt ausschliesslich in der Schweiz auf hauseigenen Servern gehostet (Universitt Bern). Wir behandeln Ihre Personendaten sehr vertraulich und werden sie keinesfalls an Dritte weitergegeben."},technologies:{label:"Die Technologie, welche die Fabrik antreibt",text:"Fr den Aufbau der Demokratiefabrik setzen wir auf moderne Software-Architektur und breit angewendete Open-Source-Software. Sie finden im Folgenden eine kleine Auswahl der verwendeten Technologien und Konzepte."},am:{page_introduction:"Wir haben auf dieser Seite die wichtigsten Informationen zur Demokratiefabrik zusammengetragen.",open_questions:"Blieben noch Fragen offen? Dann knnen Sie uns auch gerne via Email kontaktieren.",cmd_email_composer:"Email verfassen"}},news:{h1:"Was aktuell in der Demokratiefabrik luft!",am:{newsletter:"Mchten Sie bezglich der Demokratiefabrik auf dem Laufenden bleiben? Dann knnen sie unseren Newsletter abonnieren.",cmd_newsletter_abo:"Newsletter-Abo"}},contenttree:{comment_section_tooltip:"Haben Sie an dieser Stelle Fragen oder Anregungen?",close_comment_section_tooltip:"Klicken Sie hier um die Kommentarspalte wieder zu schliessen",no_entries:"Es sind noch keine Kommentare oder Fragen vorhanden. Machen Sie den Anfang?",no_filter_results:"Keine Eintrge passen zu dieser Sucheingabe!",created_by:"von {username}",search_button:"Suche",search_field_label:"Suchbegriff...",add_comment_or_question:"Neuer Beitrag",close_comment_section:"Forum schliessen",notification_number_of_expanded:"Sie sehen aktuell {nof_shown} von {nof_total} Beitrgen.",expand_all:"Beitrge ausklappen",collapse_all:"Beitrge einklappen",toolbar:{reply:"Mchten Sie diesem Beitrag antworten?",edit:"Mchten Sie diesen Beitrag bearbeiten?",delete:"Mchten Sie diesen Beitrag lschen?",reply_proposal:"Mchten Sie eine Antwort vorschlagen?",edit_proposal:"Mchten Sie eine berarbeitung vorschlagen?",delete_proposal:"Mchten Sie eine Lschung dieses Beitrags vorschlagen?",track_changes:"Mchten Sie diesen zur Nachverfolgung kennzeichnen?",show_background:"Beitragssummarium anzeigen."},types:{COMMENT:"Kommentar",QUESTION:"Frage",ANSWER:"Antwort",PARAGRAPH:"Absatz",FOLDER:"Gesprchsthema  ",SECTION:"Kapitel",SUBSECTION:"Unterkapitel",VAA_QUESTION:"smartvote-Frage",VAA_TOPIC:"Themenfeld"},rating:{1:"Nicht hilfreich",2:"Mittelmssig hilfreich",3:"Sehr hilfreich"},rating_response:"Danke! Ihre Bewertung wurde vermerkt.",editor:{head_create:"Neuer Beitrag",head_reply:"Antwort schreiben",head_edit:"Bearbeiten",content_title:"berschrift",content_title_shadow:"Geben Sie Ihrem Beitrag eine prgnante berschrift",content_text:"Text",content_text_shadow:"Geben Sie hier Ihren Beitrag ein.",content_text_hint:"Schreiben Sie prgnant. Niemand mchte hier ganze Romane lesen.",content_type:"Art des Beitrags",content_type_hint:"Ordnen Sie den Beitrag einer Beitragskategorie zu.",error:{wrong_contenttype:"The content has a wrong type.",type_misconfiguration:"The Contenttree is misconfigured. No type can be assigned to the content."}},am:{index:"Haben an dieser Stelle Fragen oder Anregungen? Die anderen Delegierten\n                wrde das sicher auch interessieren. | Hier ist Platz fr Fragen und Kommentare zum obigen Abschnitt. | Hier wurden von anderen Besuchern bereits Beitrge eingegeben."}}},i={},a={"de-ch":s,"en-us":i},u=n("bd4c"),l=u["b"].getDateDiff,c=u["b"].formatDate;r["default"].use(o["a"]),r["default"].filter("formatDate",(function(e){if(e)return c(e,"DD.MM.YYYY")})),r["default"].filter("formatTimeLeft",(function(e,t){if(t||(t=Date.now()),!e)return"";var n=l(e,t,"seconds"),r=l(e,t,"minutes"),o=l(e,t,"hours"),s=l(e,t,"days"),i=l(e,t,"months"),a=new Array,u="in";return n<0&&(u="vor"),i>1&&(a.push("".concat(i," Monate")),s-=30*s,o=0,r=0),s>1&&(a.push("".concat(s," Tage")),o-=24*o,r=0),o>1&&(a.push("".concat(o," Stunden")),r-=60*r),r>15&&(a.push("".concat(r," Minuten")),r=0),r>5&&(a.push("wenigen Minuten"),r=0),a.length?"".concat(u," ").concat(a.join(",")):"gerade jetzt"}));var d=new o["a"]({locale:"de-ch",fallbackLocale:"de-ch",messages:a});t["a"]=function(e){var t=e.app;t.i18n=d}},9651:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("2b0e"),o=r["default"].observable({stageID:null,assemblyIdentifier:null,appExitState:!1}),s={exitApp:function(){o.appExitState=!0},setStageID:function(e){o.stageID=parseInt(e)},setAssemblyIdentifier:function(e){o.assemblyIdentifier=e}}},"9fd8":function(e,t,n){"use strict";n("4de4"),n("4160"),n("e260"),n("d3b7"),n("07ac"),n("159b"),n("ddb0");var r=n("5319b");t["a"]={mixins:[r["a"]],data:function(){return{contentID:null,numberOfCurrentlySaliencedEntries:0}},provide:function(){return{incrementNumberOfCurrentlySaliencedEntries:this.incrementNumberOfCurrentlySaliencedEntries}},computed:{node:function(){if(!this.contentID)return null;var e=this.contenttree.entries[this.contentID];return e},nodeChildrenObject:function(){var e=this;return this.node?Object.filter(this.contenttree.entries,(function(t){return e.contenttree.entries[t.content.id].content.parent_id==e.contentID})):null},nodeChildren:function(){var e=this;if(!this.contenttree)return null;if(!this.nodeChildrenObject)return null;var t=[];return Object.values(this.nodeChildrenObject).forEach((function(n){e.$pushSorted(t,n)})),t},salienceCompleted:function(){return this.routed_stage&&this.$loaded(this.nodeChildren)?(console.log(this.numberOfCurrentlySaliencedEntries,"Ll"),this.numberOfCurrentlySaliencedEntries>=5||0==this.numberOfUnsaliencedTopLevelEntries):null},numberOfUnratedTopLevelEntries:function(){var e=this;if(!this.$loaded(this.node)||!this.$loaded(this.nodeChildren))return null;var t=this.nodeChildren.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.rating)}));return t.length},numberOfUnsaliencedTopLevelEntries:function(){var e=this;if(!this.$loaded(this.node)||!this.$loaded(this.nodeChildren))return null;var t=this.nodeChildren.filter((function(t){var n;return!e.$loaded(null===(n=t.progression)||void 0===n?void 0:n.salience)}));return t.length}},methods:{incrementNumberOfCurrentlySaliencedEntries:function(){this.numberOfCurrentlySaliencedEntries+=1}},mounted:function(){}}},c75e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2b0e"),o=new r["default"]},c937:function(e,t,n){"use strict";n("7db0"),n("07ac"),n("18a5");var r=n("ded3"),o=n.n(r),s=n("2f62"),i=n("2256"),a=n("28e9"),u=n("c75e"),l=n("9651"),c=n("c9d9");t["a"]={mixins:[i["a"],Object(a["ReactiveProvideMixin"])({name:"STAGE",include:["routed_stage"]})],computed:o()({routed_stage:function(){if(console.log("get routed_stage",l["b"].stageID),!this.assembly_stages)return console.log("assembly is not yet loaded"),null;if(!this.assembly_stages[l["b"].stageID])return console.error("invalid stage in this assembly"),this.$root.gotoAssemblyHome(this.assembly),null;var e=this.assembly_stages[l["b"].stageID];return u["a"].$emit("EventStageLoaded",e),e},ready:function(){var e=this.$loaded(this.routed_stage);return e&&u["a"].$emit("hideLoading"),e},isFirstText:function(){var e=Object.values(this.assembly_sorted_stages).find((function(e){return"TEXTSHEET"==e.stage.type}));return this.routed_stage==e},highlightedItem:function(){var e=this;return this.sideMenuItems.find((function(t){if(t.customHightlighting)return t.customHightlighting();var n=e.stageMilestoneWeigths[t.anchor];return!n||n<3}))}},Object(s["c"])("assemblystore",["stageMilestonesCompleted","stageMilestoneLabels","stageMilestoneWeigths","assembly_sorted_stages","is_stage_alerted","get_stage_number_by_stage_id","is_stage_accessible"])),methods:o()({milestone:function(e,t,n){console.assert(this.routed_stage),this.addMilestone({label:e,weight:t,key:n}),this.checkMilestones()},checkMilestones:function(){this.stageMilestonesCompleted&&this.is_stage_alerted(this.routed_stage)&&this.markUnAlert()},markUnAlert:function(){console.log("IDLE: unalert stage"),console.assert(this.routed_stage),this.routed_stage.progression?this.$root.monitorLog(c["a"].MONITOR_STAGE_UNALERT):this.$root.monitorFire(c["a"].MONITOR_STAGE_UNALERT),this.storeStageProgressionAlertFlag({stageID:this.routed_stage.stage.id,alerted:!1})},markCompleted:function(){var e;console.log("COPLETED: mark completed stage",this.routed_stage.stage.id),console.assert(this.routed_stage),null!==(e=this.routed_stage.progression)&&void 0!==e&&e.completed||(this.$root.monitorLog(c["a"].MONITOR_STAGE_COMPLETED),this.storeStageProgressionCompleted({stageID:this.routed_stage.stage.id,completed:!0}))}},Object(s["b"])("assemblystore",["storeStageProgressionAlertFlag","storeStageProgressionCompleted","addMilestone"])),created:function(){this.checkMilestones()}}},c9d9:function(e,t,n){"use strict";t["a"]={QTREE_NUMBER_OF_INITIALLY_EXPANDED_NODES:7,TEXTTYPES:["PARAGRAPH","SECTION","SUBSECTION"],DISCUSSIONTYPES:["COMMENT","QUESTION"],VAA_TOPIC_TYPES:["COMMENT","QUESTION","VAA_TOPIC"],VAA_QUESTION_TYPES:["COMMENT","QUESTION","VAA_QUESTION"],ICONS:{FOLDER:"mdi-folder-multiple-outline",SECTION:"mdi-folder-text-outline",SUBSECTION:"mdi-folder-text-outline",PARAGRAPH:"mdi-text",VAA_TOPIC:"mdi-shape",VAA_QUESTION:"mdi-sign-direction",UPDATEPROPOSAL:"mdi-lightbulb-on-outline"},TYPE_LABELS:{COMMENT:"KOMMENTAR",FOLDER:"ORDNER",SECTION:"KAPITEL",SUBSECTION:"ABSCHNITT",PARAGRAPH:"ABSATZ",VAA_TOPIC:"THEMENFELD",VAA_QUESTION:"SMARTVOTE-FRAGE",UPDATEPROPOSAL:"VERBESSERUNGSVORSCHLAG"},MONITOR_ERROR_NETWORK:"ERROR.NETWORK",MONITOR_ERROR_AUTHORIZATION:"ERROR.AUTH",MONITOR_ERROR_TOO_MANY_REQUESTS:"ERROR.TOO.MANY.REQ",MONITOR_ERROR_INVALID_TOKEN:"ERROR_INVLAID_TOKEN",MONITOR_ERROR_AUTHENTICATION:"ERROR.AUTH",MONITOR_WARNING_AUTHENTICATION:"WARNING.AUTH",MONITOR_WARNING_MESSAGES:{PEERREVIEW_ALREADY_CLOSED_USER_RESPONSE_IGNORED:"Ein Gutachten wurde gerade eben abgeschlossen. Ihre Antwort konnte dabei nicht mehr bercksichtigt werden."},MONITOR_ACCOUNT_PROFILE_UPDATE:"PROFILE.UPDATE",MONITOR_ROUTE_CHANGE:"ROUTE",MONITOR_LOGIN:"LOGIN",MONITOR_LOGOUT:"LOGOUT",MONITOR_EXIT:"EXIT",MONITOR_ACCOUNT_PROFILE_VISIT:"PROFILE.VISIT",MONITOR_ASSEMBLY_ENTERING:"ASSEMBLY.ENTER",MONITOR_DISCUSSION_SHOW:"DISCUSSION.SHOW",MONITOR_DISCUSSION_HIDE:"DISCUSSION.HIDE",MONITOR_STAGE_ENTERING:"STAGE.ENTER",MONITOR_STAGE_UNALERT:"STAGE.UNALERT",MONITOR_STAGE_COMPLETED:"STAGE.COMPLETED",MONITOR_STAGE_FOCUSED_CONTENT:"STAGE.FOCUSED.CONTENT",MONITOR_STAGE_RANDOM_SAMPLING_CONTENT:"STAGE.RANDOM_SAMPLING_CONTENT",MONITOR_SET_RATING:"CONTENT.RATING",MONITOR_SET_SALIENCE:"CONTENT.SALIENCE",MONITOR_SET_CONTENT_READ:"CONTENT.READ",MONITOR_SET_CONTENT_DISCUSSED:"CONTENT.DISCUSSED",MONITOR_SET_CONTENT_REVIEWED:"CONTENT.REVIEWED",MONITOR_SET_PEERREVIEW_RESPONSE:"PEERREVIEW.RESPONSE"}},d3af:function(e,t,n){}});