(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{"7bbf":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.ready?r("q-page",{staticClass:"doc_content"},[r("ArtificialModeration",{attrs:{AM:e.AMs.survey,alignment:"center",ctx:this}}),e.routed_stage?r("div",[e.is_stage_completed(e.routed_stage)||e.check_data?e._e():r("div",[r("h2",[e._v(e._s(e.routed_stage.stage.title))]),r("q-banner",{staticClass:"bg-grey-3 q-mb-lg",scopedSlots:e._u([{key:"avatar",fn:function(){return[r("q-icon",{attrs:{name:"mdi-alert-circle-outline",color:"primary"}})]},proxy:!0},{key:"action",fn:function(){return[r("q-btn",{attrs:{flat:"",label:e.$t("assemblies.go_back_to_assembly_home")},on:{click:function(t){return e.$root.gotoAssemblyHome(this.assembly)}}})]},proxy:!0}],null,!1,2048947742)},[e._v("\n        "+e._s(e.$t("survey.misconfiguration_error"))+"\n        ")])],1)]):e._e()],1):e._e()},s=[],i=(r("ac1f"),r("5319"),r("c937")),o=r("8847"),a={"de-ch":{survey:{misconfiguration_error:"Es ist ein Fehler aufgeteten für den wir um Entschuldiung bitten. Momentan ist es nicht möglich die Befragung fortzusetzen.",redirect_to_survey:"Einen kleinen Moment...",survey_completed:"Grossartig! Sie haben diesen Fragebogen fertig ausgefüllt. Wir können nun weiterfahren."}}},u={created:function(){o["b"].mergeLocaleMessage("de-ch",a["de-ch"])}},c={survey:{id:"survey",prosa:" Leitet eine Text-Stage ein.",loading:function(e){return!e.routed_stage||e.redirecting},items:[{id:1,prosa:" Redirect zum Survey....",condition:function(e){return!e.is_stage_completed(e.routed_stage)},body:function(e){return e.$i18n.t("survey.redirect_to_survey")}},{id:2,prosa:" Bereits Survey beendet",condition:function(e){return e.is_stage_completed(e.routed_stage)},body:function(e){return e.$i18n.t("survey.survey_completed")},buttons:[{action:function(e){e.markUnAlert(),e.gotoStage(e.next_scheduled_stage)},label:function(e){return"Ja, bitte weiterfahren"}}]}]}},d=c,l=r("836c"),g=r("9651"),_={name:"Survey",components:{ArtificialModeration:l["a"]},mixins:[i["a"],u],data:function(){return{AMs:d}},computed:{redirecting:function(){return this.routed_stage&&this.check_data&&!this.is_stage_completed(this.routed_stage)},check_data:function(){return console.log("check survey data.."),void 0===this.routed_stage?null:!!(this.routed_stage.stage.custom_data&&this.routed_stage.stage.custom_data.provider&&this.routed_stage.stage.custom_data.SID)||(console.log("no survey data provided at this stage.."),console.log(this.routed_stage.stage.custom_data),!1)},is_a_survey_response:function(){if(this.$route.query.completed)return this.oauth.userid==this.$route.query.U}},methods:{redirectToSurveyProvider:function(){var e=this.routed_stage.stage.custom_data.SID,t="https://unibe.eu.qualtrics.com/jfe/form/:SID:?DEV=1&U=:USERID:&S=:STAGEID:&A=:ASSEMBLYIDENTIFIER:",r=/:SID:/g,n=t.replace(r,e);return r=/:USERID:/g,n=n.replace(r,this.oauth.userid),r=/:STAGEID:/g,n=n.replace(r,g["b"].stageID),r=/:ASSEMBLYIDENTIFIER:/g,n=n.replace(r,g["b"].assemblyIdentifier),window.location.href=n,!0}},created:function(){this.is_stage_completed(this.routed_stage)||(this.is_a_survey_response?this.markCompleted():this.redirectToSurveyProvider())}},h=_,m=r("2877"),f=r("9989"),p=r("54e1"),y=r("0016"),v=r("9c40"),b=r("eebe"),S=r.n(b),I=Object(m["a"])(h,n,s,!1,null,null,null);t["default"]=I.exports;S()(I,"components",{QPage:f["a"],QBanner:p["a"],QIcon:y["a"],QBtn:v["a"]})}}]);