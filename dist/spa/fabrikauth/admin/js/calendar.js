"use strict";{const t={monthsOfYear:[gettext("January"),gettext("February"),gettext("March"),gettext("April"),gettext("May"),gettext("June"),gettext("July"),gettext("August"),gettext("September"),gettext("October"),gettext("November"),gettext("December")],daysOfWeek:[pgettext("one letter Sunday","S"),pgettext("one letter Monday","M"),pgettext("one letter Tuesday","T"),pgettext("one letter Wednesday","W"),pgettext("one letter Thursday","T"),pgettext("one letter Friday","F"),pgettext("one letter Saturday","S")],firstDayOfWeek:parseInt(get_format("FIRST_DAY_OF_WEEK")),isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(e,n){let r;return r=1===e||3===e||5===e||7===e||8===e||10===e||12===e?31:4===e||6===e||9===e||11===e?30:2===e&&t.isLeapYear(n)?29:28,r},draw:function(e,n,r,a,i){const s=new Date,o=s.getDate(),c=s.getMonth()+1,u=s.getFullYear();let d="",h=!1;"undefined"!==typeof i&&(h=i.getUTCFullYear()===n&&i.getUTCMonth()+1===e),e=parseInt(e),n=parseInt(n);const l=document.getElementById(r);removeChildren(l);const g=document.createElement("table");quickElement("caption",g,t.monthsOfYear[e-1]+" "+n);const f=quickElement("tbody",g);let y=quickElement("tr",f);for(let k=0;k<7;k++)quickElement("th",y,t.daysOfWeek[(k+t.firstDayOfWeek)%7]);const m=new Date(n,e-1,1-t.firstDayOfWeek).getDay(),p=t.getDaysInMonth(e,n);let x;y=quickElement("tr",f);for(let t=0;t<m;t++)x=quickElement("td",y," "),x.className="nonday";function w(t,e){function n(n){n.preventDefault(),a(t,e,this.textContent)}return n}let M=1;for(let t=m;M<=p;t++){t%7===0&&1!==M&&(y=quickElement("tr",f)),d=M===o&&e===c&&n===u?"today":"",h&&M===i.getUTCDate()&&(""!==d&&(d+=" "),d+="selected");const r=quickElement("td",y,"","class",d),a=quickElement("a",r,M,"href","#");a.addEventListener("click",w(n,e)),M++}while(y.childNodes.length<7)x=quickElement("td",y," "),x.className="nonday";l.appendChild(g)}};function Calendar(t,e,n){this.div_id=t,this.callback=e,this.today=new Date,this.currentMonth=this.today.getMonth()+1,this.currentYear=this.today.getFullYear(),"undefined"!==typeof n&&(this.selected=n)}Calendar.prototype={drawCurrent:function(){t.draw(this.currentMonth,this.currentYear,this.div_id,this.callback,this.selected)},drawDate:function(t,e,n){this.currentMonth=t,this.currentYear=e,n&&(this.selected=n),this.drawCurrent()},drawPreviousMonth:function(){1===this.currentMonth?(this.currentMonth=12,this.currentYear--):this.currentMonth--,this.drawCurrent()},drawNextMonth:function(){12===this.currentMonth?(this.currentMonth=1,this.currentYear++):this.currentMonth++,this.drawCurrent()},drawPreviousYear:function(){this.currentYear--,this.drawCurrent()},drawNextYear:function(){this.currentYear++,this.drawCurrent()}},window.Calendar=Calendar,window.CalendarNamespace=t}